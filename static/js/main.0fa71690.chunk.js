(window["webpackJsonpti4-map-lab"]=window["webpackJsonpti4-map-lab"]||[]).push([[0],{10:function(e){e.exports=JSON.parse('[{"x":0,"y":1,"z":-1},{"x":1,"y":0,"z":-1},{"x":1,"y":-1,"z":0},{"x":0,"y":-1,"z":1},{"x":-1,"y":0,"z":1},{"x":-1,"y":1,"z":0},{"x":0,"y":2,"z":-2},{"x":1,"y":1,"z":-2},{"x":2,"y":0,"z":-2},{"x":2,"y":-1,"z":-1},{"x":2,"y":-2,"z":0},{"x":1,"y":-2,"z":1},{"x":0,"y":-2,"z":2},{"x":-1,"y":-1,"z":2},{"x":-2,"y":0,"z":2},{"x":-2,"y":1,"z":1},{"x":-2,"y":2,"z":0},{"x":-1,"y":2,"z":-1},{"x":0,"y":3,"z":-3},{"x":1,"y":2,"z":-3},{"x":2,"y":1,"z":-3},{"x":3,"y":0,"z":-3},{"x":3,"y":-1,"z":-2},{"x":3,"y":-2,"z":-1},{"x":3,"y":-3,"z":0},{"x":2,"y":-3,"z":1},{"x":1,"y":-3,"z":2},{"x":0,"y":-3,"z":3},{"x":-1,"y":-2,"z":3},{"x":-2,"y":-1,"z":3},{"x":-3,"y":0,"z":3},{"x":-3,"y":1,"z":2},{"x":-3,"y":2,"z":1},{"x":-3,"y":3,"z":0},{"x":-2,"y":3,"z":-1},{"x":-1,"y":3,"z":-2}]')},16:function(e){e.exports=JSON.parse('[{"title":"6-Player","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":2,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":null,"type":2,"system":null}]},{"title":"5-Player Standard","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":null,"type":2,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":2,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":null,"type":2,"system":null}]},{"title":"5-Player Skinny","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":4,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":2,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":4,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":null,"type":4,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":null,"type":4,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":null,"type":2,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":2,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":4,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":4,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":null,"type":2,"system":null}]},{"title":"5-Player Warp","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":5,"type":5,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":13,"type":5,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":11,"type":5,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":4,"type":5,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":2,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":7,"type":5,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":5,"type":5,"system":null}]},{"title":"4-Player Standard","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":null,"type":2,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":null,"type":2,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":null,"type":2,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":2,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":null,"type":1,"system":null}]},{"title":"4-Player Skinny","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":4,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":4,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":2,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":null,"type":4,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":null,"type":4,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":null,"type":4,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":null,"type":2,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":null,"type":4,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":4,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":null,"type":4,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":4,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":2,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":null,"type":4,"system":null}]},{"title":"4-Player Warp","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":6,"type":5,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":5,"type":5,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":13,"type":5,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":14,"type":5,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":10,"type":5,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":11,"type":5,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":4,"type":5,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":7,"type":5,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":4,"type":5,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":6,"type":5,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":2,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":7,"type":5,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":5,"type":5,"system":null}]},{"title":"3-Player Standard","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":4,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":4,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":4,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":null,"type":4,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":null,"type":4,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":4,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":null,"type":4,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":4,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":4,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":null,"type":2,"system":null}]},{"title":"3-Player Settlers","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":2,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":2,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":4,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":4,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":4,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":null,"type":4,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":null,"type":4,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":null,"type":4,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":null,"type":4,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":null,"type":4,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":null,"type":4,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":null,"type":4,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":null,"type":4,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":null,"type":4,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":4,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":null,"type":4,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":4,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":4,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":null,"type":4,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":null,"type":4,"system":null}]},{"title":"3-Player Warp","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":8,"type":5,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":3,"type":5,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":5,"type":5,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":9,"type":5,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":13,"type":5,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":11,"type":5,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":13,"type":5,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":9,"type":5,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":11,"type":5,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":1,"type":5,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":4,"type":5,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":8,"type":5,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":7,"type":5,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":3,"type":5,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":4,"type":5,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":1,"type":5,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":2,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":7,"type":5,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":5,"type":5,"system":null}]}]')},17:function(e,t,a){e.exports=a(25)},22:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var l=a(1),s=a(2),n=a(4),r=a(3),u=a(5),o=a(0),i=a.n(o),c=a(15),p=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(22);var y=a(7),m=a(8),h=a.n(m),_=a(6),d=a.n(_),v=0,E=1,f=2,S=0,N=1,g=2,T=3,w=0,x=1,O=2,b=3,D=0,C=1,I=[{name:"Mecatol Rex",trait:null,tech_specialty:null,resources:1,influence:6},{name:"Abyz",trait:v,tech_specialty:null,resources:3,influence:0},{name:"Fria",trait:v,tech_specialty:null,resources:2,influence:0},{name:"Arinam",trait:E,tech_specialty:null,resources:1,influence:2},{name:"Meer",trait:v,tech_specialty:N,resources:0,influence:4},{name:"Arnor",trait:E,tech_specialty:null,resources:1,influence:2},{name:"Lor",trait:E,tech_specialty:null,resources:2,influence:1},{name:"Bereg",trait:v,tech_specialty:null,resources:3,influence:1},{name:"Lirta IV",trait:v,tech_specialty:null,resources:2,influence:3},{name:"Centauri",trait:f,tech_specialty:null,resources:1,influence:3},{name:"Gral",trait:E,tech_specialty:g,resources:1,influence:1},{name:"Corneeq",trait:f,tech_specialty:null,resources:1,influence:2},{name:"Resculon",trait:f,tech_specialty:null,resources:2,influence:0},{name:"Dal Bootha",trait:f,tech_specialty:null,resources:0,influence:2},{name:"Xxehan",trait:f,tech_specialty:null,resources:1,influence:1},{name:"Lazar",trait:E,tech_specialty:T,resources:1,influence:0},{name:"Sakulag",trait:v,tech_specialty:null,resources:2,influence:1},{name:"Lodor",trait:E,tech_specialty:null,resources:3,influence:1},{name:"Mehar Xull",trait:v,tech_specialty:N,resources:1,influence:3},{name:"Mellon",trait:f,tech_specialty:null,resources:0,influence:2},{name:"Zohbat",trait:v,tech_specialty:null,resources:3,influence:1},{name:"New Albion",trait:E,tech_specialty:S,resources:1,influence:1},{name:"Starpoint",trait:v,tech_specialty:null,resources:3,influence:1},{name:"Quann",trait:f,tech_specialty:null,resources:2,influence:1},{name:"Qucen'n",trait:E,tech_specialty:null,resources:1,influence:2},{name:"Rarron",trait:f,tech_specialty:null,resources:0,influence:3},{name:"Saudor",trait:E,tech_specialty:null,resources:2,influence:2},{name:"Tar'Mann",trait:E,tech_specialty:S,resources:1,influence:1},{name:"Tequ'ran",trait:v,tech_specialty:null,resources:2,influence:0},{name:"Torkan",trait:f,tech_specialty:null,resources:0,influence:3},{name:"Thibah",trait:E,tech_specialty:g,resources:1,influence:1},{name:"Vefut II",trait:v,tech_specialty:null,resources:2,influence:2},{name:"Wellon",trait:E,tech_specialty:T,resources:1,influence:2}],M=[{id:18,planets:["Mecatol Rex"],anomaly:null,wormhole:null},{id:39,planets:[],anomaly:null,wormhole:D},{id:43,planets:[],anomaly:b,wormhole:null},{id:46,planets:[],anomaly:null,wormhole:null},{id:49,planets:[],anomaly:null,wormhole:null},{id:44,planets:[],anomaly:O,wormhole:null},{id:40,planets:[],anomaly:null,wormhole:C},{id:48,planets:[],anomaly:null,wormhole:null},{id:45,planets:[],anomaly:O,wormhole:null},{id:47,planets:[],anomaly:null,wormhole:null},{id:42,planets:[],anomaly:w,wormhole:null},{id:50,planets:[],anomaly:null,wormhole:null},{id:41,planets:[],anomaly:x,wormhole:null},{id:32,planets:["Dal Bootha","Xxehan"],anomaly:null,wormhole:null},{id:26,planets:["Lodor"],anomaly:null,wormhole:D},{id:29,planets:["Qucen'n","Rarron"],anomaly:null,wormhole:null},{id:38,planets:["Abyz","Fria"],anomaly:null,wormhole:null},{id:22,planets:["Tar'Mann"],anomaly:null,wormhole:null},{id:21,planets:["Thibah"],anomaly:null,wormhole:null},{id:33,planets:["Corneeq","Resculon"],anomaly:null,wormhole:null},{id:19,planets:["Wellon"],anomaly:null,wormhole:null},{id:28,planets:["Tequ'ran","Torkan"],anomaly:null,wormhole:null},{id:24,planets:["Mehar Xull"],anomaly:null,wormhole:null},{id:37,planets:["Arinam","Meer"],anomaly:null,wormhole:null},{id:30,planets:["Mellon","Zohbat"],anomaly:null,wormhole:null},{id:20,planets:["Vefut II"],anomaly:null,wormhole:null},{id:27,planets:["New Albion","Starpoint"],anomaly:null,wormhole:null},{id:23,planets:["Saudor"],anomaly:null,wormhole:null},{id:31,planets:["Lazar","Sakulag"],anomaly:null,wormhole:null},{id:35,planets:["Bereg","Lirta IV"],anomaly:null,wormhole:null},{id:34,planets:["Centauri","Gral"],anomaly:null,wormhole:null},{id:36,planets:["Arnor","Lor"],anomaly:null,wormhole:null},{id:25,planets:["Quann"],anomaly:null,wormhole:C}],A=a(9),z=a(10),k=a(11),R={NORTH:{x:0,y:1,z:-1},NORTHEAST:{x:1,y:0,z:-1},SOUTHEAST:{x:1,y:-1,z:0},SOUTH:{x:0,y:-1,z:1},SOUTHWEST:{x:-1,y:0,z:1},NORTHWEST:{x:-1,y:1,z:0}},L=[[[R.NORTH,R.SOUTHEAST]],[[R.NORTH,R.SOUTH]],[[R.NORTH,R.SOUTHWEST]],[[R.NORTHEAST,R.SOUTH]],[[R.NORTHEAST,R.SOUTHWEST]],[[R.NORTHEAST,R.NORTHWEST]],[[R.SOUTHEAST,R.SOUTHWEST]],[[R.SOUTHEAST,R.NORTHWEST]],[[R.SOUTH,R.NORTHWEST]],[[R.NORTH,R.SOUTHEAST],[R.NORTH,R.SOUTH],[R.NORTH,R.SOUTHWEST]],[[R.NORTHEAST,R.NORTHWEST],[R.NORTHEAST,R.SOUTH],[R.NORTHEAST,R.SOUTHWEST]],[[R.SOUTHEAST,R.NORTH],[R.SOUTHEAST,R.NORTHWEST],[R.SOUTHEAST,R.SOUTHWEST]],[[R.SOUTH,R.NORTH],[R.SOUTH,R.NORTHWEST],[R.SOUTH,R.NORTHEAST]],[[R.SOUTHWEST,R.NORTH],[R.SOUTHWEST,R.NORTHEAST],[R.SOUTHWEST,R.SOUTHEAST]],[[R.NORTHWEST,R.SOUTHEAST],[R.NORTHWEST,R.SOUTH],[R.NORTHWEST,R.NORTHEAST]]];function P(){return window.innerWidth>=1024?110:window.innerWidth>=769?80:55}var U=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"getSelectValue",value:function(){var e=document.getElementById("system-bank-select");return e.options[e.selectedIndex].value}},{key:"handleSelectChange",value:function(){var e=this.getSelectValue();"none"===e?this.props.setActiveSystem(null):this.props.setActiveSystem(this.props.systems.getSystemByID(parseInt(e)))}},{key:"selectNoSystems",value:function(){this.props.setActiveSystem(null)}},{key:"render",value:function(){var e=this,t=P(),a=[i.a.createElement("option",{value:"none",key:"sys_none"},"(none)")],l=!0,s=!1,n=void 0;try{for(var r,u=this.props.systems.systems[Symbol.iterator]();!(l=(r=u.next()).done);l=!0){var o=r.value;a.push(i.a.createElement("option",{value:o.id,key:"sys_"+o.id},o.getStringName()))}}catch(y){s=!0,n=y}finally{try{l||null==u.return||u.return()}finally{if(s)throw n}}var c="none",p=i.a.createElement("span",{className:"hex-container"});return null!==this.props.active_system&&(c=this.props.active_system.id,p=i.a.createElement(V,{system:this.props.active_system,format:this.props.system_format,posStyle:{position:"relative"},onClick:function(){},hexSize:t,draggable:!0,onDrag:function(t){return e.props.onSelectedSystemDrag(t)},onDragEnd:function(t){return e.props.onSystemDragEnd(t)},onDrop:function(t){return e.props.onSystemDropped(t)},eval_variables:this.props.eval_variables})),i.a.createElement("div",{className:"system-bank field",onDragOver:function(e){e.preventDefault()},onDrop:function(t){return e.props.onSystemDropped(t)}},i.a.createElement("label",{className:"label"},"System Bank"),i.a.createElement("p",{className:"control"},i.a.createElement("span",{className:"select is-small"},i.a.createElement("select",{id:"system-bank-select",value:c,onChange:function(){return e.handleSelectChange()}},a))),i.a.createElement("p",{className:"control"},i.a.createElement("button",{disabled:null===this.props.active_system,onClick:function(){return e.selectNoSystems()},className:"button is-small"},"Select None")),i.a.createElement("div",{className:"control"},p))}}]),t}(i.a.Component),H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).state={system_format:a.props.system_format,hexSize:P()},a.system_box=a.props.system_box,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"updateDimensions",value:function(){this.setState(Object.assign({},this.state,{hexSize:P()}))}},{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions.bind(this))}},{key:"render",value:function(){var e=this,t=this.state.hexSize,a=.866*t*7+36,l=5.5*t+36,s=l/2,n=a/2,r=[],u=!0,o=!1,c=void 0;try{for(var p,m=function(){var a=p.value,l=(_=Object(y.a)(a,2))[0],u=_[1],o=!1;u.type===j.SYSTEM&&e.props.systems_draggable&&(u.system.isMecatolRexSystem()||(o=!0));var c=null;u.type===j.HOME&&null!==e.props.home_values&&e.props.home_values&&l.toString()in e.props.home_values&&(c=e.props.home_values[l.toString()]),r.push(i.a.createElement(W,{space:u,key:"map_space_"+l,system_format:e.props.system_format,onClick:function(){return e.props.clickedSpace(l)},hexSize:t,mapCenterH:s,mapCenterV:n,draggable:o,onDrag:function(t){return e.props.onSystemDrag(t,u.system)},onDragEnd:function(t){return e.props.onSystemDragEnd(t)},onDrop:function(t){e.props.systems_draggable&&e.props.onSystemDropped(t,l)},eval_variables:e.props.eval_variables,home_value:c}))},h=this.props.map.spaces.entries()[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var _;m()}}catch(v){o=!0,c=v}finally{try{u||null==h.return||h.return()}finally{if(o)throw c}}var d={width:l+"px",height:a+"px"};return i.a.createElement("div",{className:"map "+this.props.map_class,style:d},r)}}]),t}(i.a.Component),j={OPEN:1,HOME:2,SYSTEM:3,CLOSED:4,WARP:5},B=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onDrop",value:function(e){this.props.onDrop&&this.props.onDrop(e)}},{key:"render",value:function(){var e=this,t=this.props.hexSize;return i.a.createElement("div",{className:"hex-container",style:this.props.posStyle,draggable:this.props.draggable,onDragStart:function(t){return e.props.onDrag(t)},onDragEnd:function(t){return e.props.onDragEnd(t)}},i.a.createElement("svg",{className:"shape-container"},i.a.createElement("polygon",{onClick:function(){return e.props.onClick()},className:"hexagon "+this.props.hexClass,points:t+", "+.433*t+" "+.75*t+", "+.866*t+" "+.25*t+", "+.866*t+" 0, "+.433*t+" "+.25*t+", 0 "+.75*t+", 0"}),this.props.svgElements),i.a.createElement("div",{className:"hex-content "+this.props.hexClass,onClick:function(){return e.props.onClick()},onDragOver:function(e){e.preventDefault()},onDrop:function(t){return e.onDrop(t)}},this.props.children))}}]),t}(i.a.Component),W=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"getPositionStyle",value:function(){var e=this.props.hexSize,t=this.props.mapCenterH,a=this.props.mapCenterV,l=.5*e*.866,s=.5*e,n=this.props.space.x,r=this.props.space.y,u=this.props.space.z;return{left:t-s+(n*e*.75/2+6*n*.5)+(-r*e*.75/2-6*r*.5)+(-u*e*.75/2-6*u*.5)+"px",top:a-l+0+(.866*e/2*-r-3*r)+(u*(.866*e/2)+3*u)+"px"}}},{key:"render",value:function(){var e=this,t=null,a=this.props.space.type,l=this.getPositionStyle();switch(a){case j.OPEN:t=i.a.createElement(B,{onClick:function(){return e.props.onClick()},posStyle:l,hexSize:this.props.hexSize,hexClass:"open",onDrop:function(t){return e.props.onDrop(t)}},"+");break;case j.HOME:var s="H";null!==this.props.home_value&&(s=this.props.home_value),t=i.a.createElement(B,{onClick:function(){return e.props.onClick()},posStyle:l,hexSize:this.props.hexSize,hexClass:"home"},s);break;case j.SYSTEM:t=i.a.createElement(V,{system:this.props.space.system,format:this.props.system_format,posStyle:l,onClick:function(){return e.props.onClick()},hexSize:this.props.hexSize,draggable:this.props.draggable,onDrag:function(t){return e.props.onDrag(t)},onDragEnd:function(t){return e.props.onDragEnd(t)},onDrop:function(t){return e.props.onDrop(t)},eval_variables:this.props.eval_variables});break;case j.CLOSED:t=i.a.createElement(B,{onClick:function(){return e.props.onClick()},posStyle:l,hexSize:this.props.hexSize,hexClass:"closed"});break;case j.WARP:t=i.a.createElement(F,{posStyle:l,onClick:function(){return e.props.onClick()},warps:this.props.space.warp_spaces,hexSize:this.props.hexSize})}return t}}]),t}(i.a.Component),F=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"get_endpoint_coords",value:function(e,t){switch(e){case R.NORTH:return{x:.5*t,y:0};case R.NORTHEAST:return{x:t*(7/8),y:.866*t*.25};case R.SOUTHEAST:return{x:t*(7/8),y:.866*t*.75};case R.SOUTH:return{x:.5*t,y:.866*t};case R.SOUTHWEST:return{x:t*(1/8),y:.866*t*.75};case R.NORTHWEST:return{x:t*(1/8),y:.866*t*.25};default:return{x:0,y:0}}}},{key:"render",value:function(){var e=this,t=this.props.posStyle,a=[],l=this.props.hexSize,s=!0,n=!1,r=void 0;try{for(var u,o=L[this.props.warps].entries()[Symbol.iterator]();!(s=(u=o.next()).done);s=!0){var c=u.value,p=Object(y.a)(c,2),m=p[0],h=p[1],_=this.get_endpoint_coords(h[0],l),d=this.get_endpoint_coords(h[1],l);a.push(i.a.createElement("line",{className:"warp-line",x1:_.x,y1:_.y,x2:d.x,y2:d.y,onClick:function(){return e.props.onClick()},key:"warp_line_"+m}))}}catch(v){n=!0,r=v}finally{try{s||null==o.return||o.return()}finally{if(n)throw r}}return i.a.createElement(B,{onClick:function(){return e.props.onClick()},posStyle:t,hexSize:this.props.hexSize,hexClass:"warp",svgElements:a})}}]),t}(i.a.Component),Y={STREAMLINED:0,STREAMLINED_WITH_NAME:1,COLORBLIND_FRIENDLY:2,COLORBLIND_FRIENDLY_WITH_NAME:3,ID_ONLY:4},V=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.system,a=this.props.format,l=this.props.posStyle,s=null,n=i.a.createElement("div",{className:"id"},t.id),r=[],u=null;if(this.props.eval_variables&&t.isBlue()&&(u=i.a.createElement("div",{className:"value"},"=",t.evaluate(this.props.eval_variables))),null!==t.wormhole)switch(t.wormhole){case D:r.push(i.a.createElement("div",{className:"wormhole alpha",key:"alpha_wh"},"a"));break;case C:r.push(i.a.createElement("div",{className:"wormhole beta",key:"alpha_wh"},"b"))}if(null!==t.anomaly)switch(t.anomaly){case b:r.push(i.a.createElement("div",{className:"supernova",key:"supernova"}));break;case x:r.push(i.a.createElement("div",{className:"gravity-rift",key:"gravity-rift"}));break;case w:r.push(i.a.createElement("div",{className:"nebula",key:"nebula"}));break;case O:r.push(i.a.createElement("div",{className:"asteroid-field",key:"asteroid-field"},i.a.createElement("div",{className:"asteroid a"}),i.a.createElement("div",{className:"asteroid b"}),i.a.createElement("div",{className:"asteroid c"}),i.a.createElement("div",{className:"asteroid d"}),i.a.createElement("div",{className:"asteroid e"})))}var o="";t.isMecatolRexSystem()&&(o="rex");var c={onClick:function(){return e.props.onClick()},posStyle:l,hexSize:this.props.hexSize,hexClass:o,draggable:this.props.draggable,onDrag:function(t){return e.props.onDrag(t)},onDragEnd:function(t){return e.props.onDragEnd(t)},onDrop:function(t){return e.props.onDrop(t)}};switch(a){case Y.ID_ONLY:s=i.a.createElement(B,c,i.a.createElement("span",{className:"id-alone"},t.id));break;case Y.STREAMLINED_WITH_NAME:s=i.a.createElement(B,c,n,u,t.planets.map(function(e,t){return i.a.createElement(J,{planet:e,key:e.name,format:G.STREAMLINED_WITH_NAME})},this),r);break;case Y.STREAMLINED:s=i.a.createElement(B,c,n,u,t.planets.map(function(e,t){return i.a.createElement(J,{planet:e,key:e.name,format:G.STREAMLINED})},this),r);break;case Y.COLORBLIND_FRIENDLY:s=i.a.createElement(B,c,n,u,t.planets.map(function(e,t){return i.a.createElement(J,{planet:e,key:e.name,format:G.COLORBLIND_FRIENDLY})},this));break;case Y.COLORBLIND_FRIENDLY_WITH_NAME:s=i.a.createElement(B,c,n,u,t.planets.map(function(e,t){return i.a.createElement(J,{planet:e,key:e.name,format:G.COLORBLIND_FRIENDLY_WITH_NAME})},this))}return s}}]),t}(i.a.Component),G={STREAMLINED:0,STREAMLINED_WITH_NAME:1,COLORBLIND_FRIENDLY:2,COLORBLIND_FRIENDLY_WITH_NAME:3},J=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.planet,t=this.props.format,a="",l="";switch(e.trait){case E:a="industrial",l="I";break;case v:a="hazardous",l="H";break;case f:a="cultural",l="C"}var s="",n="";switch(e.tech_specialty){case T:s="cybernetic",n="Y";break;case g:s="propulsion",n="B";break;case S:s="biotic",n="G";break;case N:s="warfare",n="R"}var r=null;t!==G.STREAMLINED_WITH_NAME&&t!==G.COLORBLIND_FRIENDLY_WITH_NAME||(r=i.a.createElement("span",{className:"name"},e.name));var u=i.a.createElement("div",{className:"value_container"},i.a.createElement("span",{className:"resources"},e.resources),i.a.createElement("span",{className:"influence"},e.influence));return t!==G.COLORBLIND_FRIENDLY_WITH_NAME&&t!==G.COLORBLIND_FRIENDLY||(u=i.a.createElement("div",{className:"value_container"},i.a.createElement("span",{className:"tech "+s},n),i.a.createElement("span",{className:"resources"},e.resources),i.a.createElement("span",{className:"influence"},e.influence),i.a.createElement("span",{className:"trait "+a},l))),i.a.createElement("div",{className:"planet "+a+" "+s},u,r)}}]),t}(i.a.Component),Z={SUM:1,GREATEST:2,GREATEST_PLUS_TECH:3},X=function(){function e(t){Object(l.a)(this,e),this.trait=t.trait,this.tech_specialty=t.tech_specialty,this.resources=t.resources,this.influence=t.influence,this.name=t.name}return Object(s.a)(e,[{key:"evaluate",value:function(e){var t=e.data,a=t.BASE_PLANET_MOD,l=this.resources*t.RESOURCES_MULTIPLIER,s=this.influence*t.INFLUENCE_MULTIPLIER,n=0;if(null!==this.tech_specialty)switch(n+=t.TECH_MOD,this.tech_specialty){case N:n+=t.TECH_WARFARE_MOD;break;case g:n+=t.TECH_PROPULSION_MOD;break;case S:n+=t.TECH_BIOTIC_MOD;break;case T:n+=t.TECH_CYBERNETIC_MOD}switch(t.PLANET_STRATEGY){case Z.GREATEST:var r=l;s>r&&(r=s),n>r&&(r=n),a+=r;break;case Z.AVERAGE:a+=(l+s+n)/3;break;default:var u=l;s>u&&(u=s),a+=u+n}switch(l>0&&(a+=t.NONZERO_RESOURCES_MOD),s>0&&(a+=t.NONZERO_INFLUENCE_MOD),this.trait){case f:a+=t.TRAIT_CULTURAL_MOD;break;case v:a+=t.TRAIT_HAZARDOUS_MOD;break;case E:a+=t.TRAIT_INDUSTRIAL_MOD}return a}}]),e}(),q=function(){function e(t){Object(l.a)(this,e),this.planets=[];var a=!0,s=!1,n=void 0;try{for(var r,u=t[Symbol.iterator]();!(a=(r=u.next()).done);a=!0){var o=r.value;this.planets.push(new X(o))}}catch(i){s=!0,n=i}finally{try{a||null==u.return||u.return()}finally{if(s)throw n}}}return Object(s.a)(e,[{key:"getPlanetByName",value:function(e){var t=!0,a=!1,l=void 0;try{for(var s,n=this.planets[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value;if(r.name===e)return r}}catch(u){a=!0,l=u}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return null}}]),e}(),Q=function(){function e(t,a){Object(l.a)(this,e),this.id=t.id,this.anomaly=t.anomaly,this.wormhole=t.wormhole,this.planets=[];var s=!0,n=!1,r=void 0;try{for(var u,o=t.planets[Symbol.iterator]();!(s=(u=o.next()).done);s=!0){var i=u.value,c=a.getPlanetByName(i);c&&this.planets.push(c)}}catch(p){n=!0,r=p}finally{try{s||null==o.return||o.return()}finally{if(n)throw r}}}return Object(s.a)(e,[{key:"evaluate",value:function(e){var t=e.data,a=0,l=!0,s=!1,n=void 0;try{for(var r,u=this.planets[Symbol.iterator]();!(l=(r=u.next()).done);l=!0){a+=r.value.evaluate(e)}}catch(o){s=!0,n=o}finally{try{l||null==u.return||u.return()}finally{if(s)throw n}}return 1===this.planets.length?a+=t.SINGLE_PLANET_MOD:this.planets.length>1&&(a+=t.MULTI_PLANET_MOD,this.planets[0].trait===this.planets[1].trait?a+=t.MATCHING_PLANETS_MOD:a+=t.NONMATCHING_PLANETS_MOD),this.isMecatolRexSystem()&&(a+=t.MECATOL_REX_SYS_MOD),a}},{key:"getDistanceModifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,a=t.DISTANCE_MOD_BASE;if(this.isBlue()){if(!1===t.DISTANCE_MOD_PLANET)return!1;if(a+=t.DISTANCE_MOD_PLANET,null!==this.wormhole){if(!1===t.DISTANCE_MOD_PLANET_WORMHOLE)return!1;a+=t.DISTANCE_MOD_PLANET_WORMHOLE}}else if(null===this.anomaly)if(null!==this.wormhole){if(!1===t.DISTANCE_MOD_EMPTY_WORMHOLE)return!1;a+=t.DISTANCE_MOD_EMPTY_WORMHOLE}else{if(!1===t.DISTANCE_MOD_EMPTY)return!1;a+=t.DISTANCE_MOD_EMPTY}else switch(this.anomaly){case O:if(!1===t.DISTANCE_MOD_ASTEROID_FIELD)return!1;a+=t.DISTANCE_MOD_ASTEROID_FIELD;break;case x:if(!1===t.DISTANCE_MOD_GRAVITY_RIFT)return!1;a+=t.DISTANCE_MOD_GRAVITY_RIFT;break;case w:if(!1===t.DISTANCE_MOD_NEBULA)return!1;a+=t.DISTANCE_MOD_NEBULA;break;case b:if(!1===t.DISTANCE_MOD_SUPERNOVA)return!1;a+=t.DISTANCE_MOD_SUPERNOVA;break;default:return!1}return a}},{key:"isMecatolRexSystem",value:function(){var e=!0,t=!1,a=void 0;try{for(var l,s=this.planets[Symbol.iterator]();!(e=(l=s.next()).done);e=!0){if("Mecatol Rex"===l.value.name)return!0}}catch(n){t=!0,a=n}finally{try{e||null==s.return||s.return()}finally{if(t)throw a}}return!1}},{key:"isRed",value:function(){return this.planets.length<1}},{key:"isBlue",value:function(){return!this.isRed()}},{key:"getStringName",value:function(){var e=[],t=!0,a=!1,l=void 0;try{for(var s,n=this.planets[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value;e.push(r.name+" ("+r.resources+"/"+r.influence+")")}}catch(u){a=!0,l=u}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}if(null!==this.wormhole)switch(this.wormhole){case D:e.push("(a)");break;case C:e.push("(b)")}if(null!==this.anomaly)switch(this.anomaly){case b:e.push("Supernova");break;case x:e.push("Gravity Rift");break;case w:e.push("Nebula");break;case O:e.push("Asteroid Field")}return 0===e.length&&e.push("Empty Space"),this.id+": "+e.join(", ")}}]),e}(),$=function(){function e(t,a){Object(l.a)(this,e),this.systems=[],this.planet_box=a;var s=!0,n=!1,r=void 0;try{for(var u,o=t[Symbol.iterator]();!(s=(u=o.next()).done);s=!0){var i=u.value;this.systems.push(new Q(i,a))}}catch(c){n=!0,r=c}finally{try{s||null==o.return||o.return()}finally{if(n)throw r}}}return Object(s.a)(e,[{key:"getBlueSystemTotal",value:function(){var e=0,t=!0,a=!1,l=void 0;try{for(var s,n=this.systems[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){s.value.isBlue()&&e++}}catch(r){a=!0,l=r}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return e}},{key:"getRedSystemTotal",value:function(){var e=0,t=!0,a=!1,l=void 0;try{for(var s,n=this.systems[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){s.value.isRed()&&e++}}catch(r){a=!0,l=r}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return e}},{key:"getSystemIndexByID",value:function(e){var t=!0,a=!1,l=void 0;try{for(var s,n=this.systems.entries()[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value,u=Object(y.a)(r,2),o=u[0];if(u[1].id===e)return o}}catch(i){a=!0,l=i}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return null}},{key:"getSystemByID",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.getSystemIndexByID(e);return null!==a&&t?this.systems.splice(a,1):null!==a?this.systems[a]:null}},{key:"makeCopy",value:function(){var t=new e([],this.planet_box),a=!0,l=!1,s=void 0;try{for(var n,r=this.systems[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var u=n.value;t.systems.push(u)}}catch(o){l=!0,s=o}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}return t}},{key:"getWormholeSystems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[],a=!0,l=!1,s=void 0;try{for(var n,r=this.systems[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var u=n.value;null===u.wormhole||null!==e&&u.wormhole!==e||t.push(u)}}catch(o){l=!0,s=o}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}return t}}]),e}();function K(e,t){var a=e;return a<0&&(a=0),a>10&&(a=10),t.data.DISTANCE_MULTIPLIER[a]}var ee=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(Object(l.a)(this,e),t){this.spaces=[a];for(var n=0;n<s;n++)this.addAdjacentSpaces()}else this.spaces=[]}return Object(s.a)(e,[{key:"makeCopy",value:function(){var t=new e(!1),a=!0,l=!1,s=void 0;try{for(var n,r=this.spaces[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var u=n.value,o=new le(u.x,u.y,u.z,u.warp_spaces,u.type,u.system);t.spaces.push(o)}}catch(i){l=!0,s=i}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}return t}},{key:"containsSystem",value:function(e){return null!==this.getSpaceBySystemID(e)}},{key:"getSpaceBySystemID",value:function(e){var t=!0,a=!1,l=void 0;try{for(var s,n=this.spaces[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value;if(null!==r.system&&r.system.id===e)return r}}catch(u){a=!0,l=u}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return null}},{key:"getOpenSpacesTotal",value:function(){var e=0,t=!0,a=!1,l=void 0;try{for(var s,n=this.spaces[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){s.value.type===j.OPEN&&e++}}catch(r){a=!0,l=r}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return e}},{key:"getBlueSystemTotal",value:function(){var e=0,t=!0,a=!1,l=void 0;try{for(var s,n=this.spaces[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value;r.type===j.SYSTEM&&r.system.isBlue()&&e++}}catch(u){a=!0,l=u}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return e}},{key:"getRedSystemTotal",value:function(){var e=0,t=!0,a=!1,l=void 0;try{for(var s,n=this.spaces[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value;r.type===j.SYSTEM&&r.system.isRed()&&e++}}catch(u){a=!0,l=u}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return e}},{key:"getPossibleSystemTotal",value:function(){var e=0,t=!0,a=!1,l=void 0;try{for(var s,n=this.spaces[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value;r.type!==j.SYSTEM&&r.type!==j.OPEN||e++}}catch(u){a=!0,l=u}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return e}},{key:"areWarpsLogical",value:function(){var e=!0,t=!1,a=void 0;try{for(var l,s=this.spaces[Symbol.iterator]();!(e=(l=s.next()).done);e=!0){var n=l.value;if(n.type===j.WARP){var r=!0,u=!1,o=void 0;try{for(var i,c=L[n.warp_spaces][Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var p=i.value,y=!0,m=!1,h=void 0;try{for(var _,d=p[Symbol.iterator]();!(y=(_=d.next()).done);y=!0){var v=_.value;if(!this.doesWarpDirectionConnect(v,n,[n]))return!1}}catch(E){m=!0,h=E}finally{try{y||null==d.return||d.return()}finally{if(m)throw h}}}}catch(E){u=!0,o=E}finally{try{r||null==c.return||c.return()}finally{if(u)throw o}}}}}catch(E){t=!0,a=E}finally{try{e||null==s.return||s.return()}finally{if(t)throw a}}return!0}},{key:"doesWarpDirectionConnect",value:function(e,t,a){var l=te(t.getWarpDirectionCoordinates(e),this.spaces);if(!l)return!1;if(ae(l,a))return!1;if(l.type===j.CLOSED)return!1;if(l.type===j.WARP){var s={x:-1*e.x,y:-1*e.y,z:-1*e.z},n=[],r=!0,u=!1,o=void 0;try{for(var i,c=L[l.warp_spaces][Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var p=i.value;ae(s,[p[0]])?n.push(p[1]):ae(s,[p[1]])&&n.push(p[0])}}catch(_){u=!0,o=_}finally{try{r||null==c.return||c.return()}finally{if(u)throw o}}if(0===n.length)return!1;a.push(l);for(var y=0,m=n;y<m.length;y++){var h=m[y];if(!this.doesWarpDirectionConnect(h,l,a))return!1}}return!0}},{key:"isComplete",value:function(){var e=!0,t=!1,a=void 0;try{for(var l,s=this.spaces[Symbol.iterator]();!(e=(l=s.next()).done);e=!0){if(l.value.type===j.OPEN)return!1}}catch(n){t=!0,a=n}finally{try{e||null==s.return||s.return()}finally{if(t)throw a}}return!0}},{key:"isLegal",value:function(){var e=!0,t=!0,a=!1,l=void 0;try{for(var s,n=this.spaces[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value;if(r.type===j.SYSTEM&&null!==r.system.wormhole){var u=!0,o=!1,i=void 0;try{for(var c,p=this.getAdjacentSystems(r)[Symbol.iterator]();!(u=(c=p.next()).done);u=!0){var y=c.value;if(y.type===j.SYSTEM&&y.system.wormhole===r.system.wormhole){e=!1;break}}}catch(f){o=!0,i=f}finally{try{u||null==p.return||p.return()}finally{if(o)throw i}}}if(r.type===j.SYSTEM&&null!==r.system.anomaly){var m=!0,h=!1,_=void 0;try{for(var d,v=this.getAdjacentSystems(r)[Symbol.iterator]();!(m=(d=v.next()).done);m=!0){var E=d.value;if(E.type===j.SYSTEM&&null!==E.system.anomaly){e=!1;break}}}catch(f){h=!0,_=f}finally{try{m||null==v.return||v.return()}finally{if(h)throw _}}}if(!e)break}}catch(f){a=!0,l=f}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return e}},{key:"getHomeValue",value:function(e,t){var a=0,l=[],s=!0,n=!1,r=void 0;try{for(var u,o=this.spaces[Symbol.iterator]();!(s=(u=o.next()).done);s=!0){var i=u.value;i.type===j.SYSTEM&&i.system.evaluate(t)>0&&l.push(i)}}catch(h){n=!0,r=h}finally{try{s||null==o.return||o.return()}finally{if(n)throw r}}for(var c=0,p=l;c<p.length;c++){var y=p[c],m=this._getShortestModdedDistance(e,y,t);null!==m&&(a+=K(m,t)*y.system.evaluate(t))}return a}},{key:"_getShortestModdedDistance",value:function(e,t,a){var l=[],s=[],n=this.getAdjacentSystemsIncludingWormholes(e),r=!0,u=!1,o=void 0;try{for(var i,c=n[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var p=i.value;if(!1!==p.system.getDistanceModifier(a)&&!1!==this.getMapDistanceModifier(e,t,a)){var y=[p.system.id];p.system.id===t.system.id?l.push(y):s.push(y)}}}catch(L){u=!0,o=L}finally{try{r||null==c.return||c.return()}finally{if(u)throw o}}for(;s.length>0;){for(var m=[],h=0,_=s;h<_.length;h++){var d=_[h],v=this._extendPath(e,t,d,a),E=!0,f=!1,S=void 0;try{for(var N,g=v.finished[Symbol.iterator]();!(E=(N=g.next()).done);E=!0){var T=N.value;l.push(T)}}catch(L){f=!0,S=L}finally{try{E||null==g.return||g.return()}finally{if(f)throw S}}var w=!0,x=!1,O=void 0;try{for(var b,D=v.ongoing[Symbol.iterator]();!(w=(b=D.next()).done);w=!0){var C=b.value;m.push(C)}}catch(L){x=!0,O=L}finally{try{w||null==D.return||D.return()}finally{if(x)throw O}}}s=m}for(var I=!1,M=null,A=0,z=l;A<z.length;A++){var k=z[A],R=this._calculateModdedDistanceFromRaw(k,a,e);(!I||R<M)&&(M=R,I=!0)}return M}},{key:"_extendPath",value:function(e,t,a,l){var s=[],n=[],r=this.getSpaceBySystemID(a[a.length-1]),u=this.getAdjacentSystemsIncludingWormholes(r),o=!0,i=!1,c=void 0;try{for(var p,y=u[Symbol.iterator]();!(o=(p=y.next()).done);o=!0){var m=p.value;if(m.system.id===t.system.id){var h=Object(k.a)(a);h.push(m.system.id),s.push(h)}else if(!(m.system.id in a)&&!1!==m.system.getDistanceModifier(l)&&!1!==this.getMapDistanceModifier(e,t,l)&&a.length<4){var _=Object(k.a)(a);_.push(m.system.id),n.push(_)}}}catch(d){i=!0,c=d}finally{try{o||null==y.return||y.return()}finally{if(i)throw c}}return{finished:s,ongoing:n}}},{key:"_calculateModdedDistanceFromRaw",value:function(e,t,a){var l=0,s=!0,n=!1,r=void 0;try{for(var u,o=e[Symbol.iterator]();!(s=(u=o.next()).done);s=!0){var i=u.value,c=this.getSpaceBySystemID(i);l+=c.system.getDistanceModifier(t)+this.getMapDistanceModifier(a,c,t)}}catch(p){n=!0,r=p}finally{try{s||null==o.return||o.return()}finally{if(n)throw r}}return l}},{key:"getMapDistanceModifier",value:function(e,t,a){var l=this.getAdjacentSpacesIncludingWormholes(t),s=!0,n=!1,r=void 0;try{for(var u,o=l[Symbol.iterator]();!(s=(u=o.next()).done);s=!0){var i=u.value;if(i.type===j.HOME&&!ae(e,[i]))return a.data.DISTANCE_MOD_ADJACENT_TO_OPPONENT}}catch(c){n=!0,r=c}finally{try{s||null==o.return||o.return()}finally{if(n)throw r}}return 0}},{key:"addAdjacentSpaces",value:function(){var e=[],t=!0,a=!1,l=void 0;try{for(var s,n=this.spaces[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value.getAdjacentCoordinates(),u=!0,o=!1,i=void 0;try{for(var c,p=r[Symbol.iterator]();!(u=(c=p.next()).done);u=!0){var y=c.value;ae(y,e)||ae(y,this.spaces)||e.push(y)}}catch(d){o=!0,i=d}finally{try{u||null==p.return||p.return()}finally{if(o)throw i}}}}catch(d){a=!0,l=d}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}for(var m=0,h=e;m<h.length;m++){var _=h[m];this.spaces.push(new le(_.x,_.y,_.z))}}},{key:"_getAdjacentSpacesThroughWarps",value:function(e,t){var a=[],l={x:e.x-t.x,y:e.y-t.y,z:e.z-t.z},s=[],n=!0,r=!1,u=void 0;try{for(var o,i=L[t.warp_spaces][Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value;ae(l,c)&&s.push(c)}}catch(D){r=!0,u=D}finally{try{n||null==i.return||i.return()}finally{if(r)throw u}}for(var p=0,y=s;p<y.length;p++){var m=y[p],h=!0,_=!1,d=void 0;try{for(var v,E=m[Symbol.iterator]();!(h=(v=E.next()).done);h=!0){var f=v.value;if(!ae(f,[l])){var S=te(t.getWarpDirectionCoordinates(f),this.spaces);if(null!==S)if(S.type!==j.WARP)ae(S,a)||a.push(S);else{var N=this._getAdjacentSpacesThroughWarps(t,S),g=!0,T=!1,w=void 0;try{for(var x,O=N[Symbol.iterator]();!(g=(x=O.next()).done);g=!0){var b=x.value;ae(b,a)||a.push(b)}}catch(D){T=!0,w=D}finally{try{g||null==O.return||O.return()}finally{if(T)throw w}}}}}}catch(D){_=!0,d=D}finally{try{h||null==E.return||E.return()}finally{if(_)throw d}}}return a}},{key:"getAdjacentSystems",value:function(e){var t=this.getAdjacentSpaces(e),a=[],l=!0,s=!1,n=void 0;try{for(var r,u=t[Symbol.iterator]();!(l=(r=u.next()).done);l=!0){var o=r.value;o.type===j.SYSTEM&&a.push(o)}}catch(i){s=!0,n=i}finally{try{l||null==u.return||u.return()}finally{if(s)throw n}}return a}},{key:"getAdjacentSpaces",value:function(e){var t=e.getAdjacentCoordinates(),a=[],l=!0,s=!1,n=void 0;try{for(var r,u=t[Symbol.iterator]();!(l=(r=u.next()).done);l=!0){var o=te(r.value,this.spaces);if(null!==o)if(o.type!==j.WARP)ae(o,a)||a.push(o);else{var i=this._getAdjacentSpacesThroughWarps(e,o),c=!0,p=!1,y=void 0;try{for(var m,h=i[Symbol.iterator]();!(c=(m=h.next()).done);c=!0){var _=m.value;ae(_,a)||a.push(_)}}catch(d){p=!0,y=d}finally{try{c||null==h.return||h.return()}finally{if(p)throw y}}}}}catch(d){s=!0,n=d}finally{try{l||null==u.return||u.return()}finally{if(s)throw n}}return a}},{key:"getAdjacentSystemsIncludingWormholes",value:function(e){var t=this.getAdjacentSpacesIncludingWormholes(e),a=[],l=!0,s=!1,n=void 0;try{for(var r,u=t[Symbol.iterator]();!(l=(r=u.next()).done);l=!0){var o=r.value;o.type===j.SYSTEM&&a.push(o)}}catch(i){s=!0,n=i}finally{try{l||null==u.return||u.return()}finally{if(s)throw n}}return a}},{key:"getAdjacentSpacesIncludingWormholes",value:function(e){var t=this.getAdjacentSpaces(e),a=this.getMatchingWormholeSpaces(e),l=!0,s=!1,n=void 0;try{for(var r,u=a[Symbol.iterator]();!(l=(r=u.next()).done);l=!0){var o=r.value;ae(o,t)||t.push(o)}}catch(i){s=!0,n=i}finally{try{l||null==u.return||u.return()}finally{if(s)throw n}}return t}},{key:"getMatchingWormholeSpaces",value:function(e){var t=[];if(e.type===j.SYSTEM&&null!==e.system.wormhole){var a=!0,l=!1,s=void 0;try{for(var n,r=this.spaces[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var u=n.value;u.type===j.SYSTEM&&u.system.wormhole===e.system.wormhole&&u.system.id!==e.system.id&&t.push(u)}}catch(o){l=!0,s=o}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}}return t}}]),e}();function te(e,t){var a=!0,l=!1,s=void 0;try{for(var n,r=t[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var u=n.value;if(e.x===u.x&&e.y===u.y&&e.z===u.z)return u}}catch(o){l=!0,s=o}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}return null}function ae(e,t){return!!te(e,t)}var le=function(){function e(t,a,s){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:j.OPEN,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;Object(l.a)(this,e),this.x=t,this.y=a,this.z=s,this.warp_spaces=n,this.type=r,this.system=u}return Object(s.a)(e,[{key:"getAdjacentCoordinates",value:function(){var e=this.x,t=this.y,a=this.z;return[{x:e+1,y:t-1,z:a},{x:e+1,y:t,z:a-1},{x:e-1,y:t+1,z:a},{x:e,y:t+1,z:a-1},{x:e-1,y:t,z:a+1},{x:e,y:t-1,z:a+1}]}},{key:"getWarpDirectionCoordinates",value:function(e){return{x:this.x+e.x,y:this.y+e.y,z:this.z+e.z}}}]),e}();var se=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"downloadJSON",value:function(){var e,t=this.props.getDownloadInfo();!function(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}((e=t.filename,e.replace(/[^a-z0-9]/gi,"_").toLowerCase()+".json"),JSON.stringify(t.data))}},{key:"render",value:function(){var e=this;return i.a.createElement("button",{onClick:function(){return e.downloadJSON()},className:this.props.className},this.props.title)}}]),t}(i.a.Component),ne=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleUpload",value:function(){var e=new FileReader;e.readAsText(document.getElementById(this.props.id).files[0]),e.onload=function(e){this.props.handleJSON(JSON.parse(e.target.result)),document.getElementById(this.props.id)}.bind(this)}},{key:"render",value:function(){var e=this;return i.a.createElement("span",{className:"control"},i.a.createElement("span",{className:"file is-small"},i.a.createElement("label",{className:"file-label"},i.a.createElement("input",{type:"file",id:this.props.id,className:"file-input",onChange:function(){return e.handleUpload()}}),i.a.createElement("span",{className:"file-cta"},i.a.createElement("span",{className:"file-icon"},i.a.createElement("i",{className:"fas fa-upload"})),i.a.createElement("span",{className:"file-label"},"Choose a file...")))))}}]),t}(i.a.Component),re=a(16);window.jQuery=h.a;var ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).planet_box=new q(I),a.system_box=new $(M,a.planet_box),a.default_layouts=re,a.state={map:null,message:"",input_title:"",saved_data:d.a.get(a.props.storage_key)||[],selected_item:a.getNewStringValue()},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"setMap",value:function(e){this.setState({map:e})}},{key:"getLayoutFromJSON",value:function(e){var t=new ee(!1),a=!0,l=!1,s=void 0;try{for(var n,r=e[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var u=n.value,o=null;null!==u.system&&(o=new Q(u.system,this.planet_box)),t.spaces.push(new le(u.x,u.y,u.z,u.warp_spaces,u.type,o))}}catch(i){l=!0,s=i}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}return t}},{key:"getJSONDataFromSpaces",value:function(e){var t=[],a=!0,l=!1,s=void 0;try{for(var n,r=e[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var u=n.value,o=Object.assign({},u,{system:null});if(null!==u.system){var i=Object.assign({},u.system,{planets:[]}),c=!0,p=!1,y=void 0;try{for(var m,h=u.system.planets[Symbol.iterator]();!(c=(m=h.next()).done);c=!0){var _=m.value;i.planets.push(_.name)}}catch(d){p=!0,y=d}finally{try{c||null==h.return||h.return()}finally{if(p)throw y}}o.system=i}t.push(o)}}catch(d){l=!0,s=d}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}return t}},{key:"getCurrentLayoutJSON",value:function(){var e="Untitled Layout";return""!==h()("#layout-title").val()&&(e=h()("#layout-title").val()),{title:e,data:this.getJSONDataFromSpaces(this.state.map.spaces)}}},{key:"getCurrentLayoutJSONFileInfo",value:function(){var e=this.getCurrentLayoutJSON();return this.setState({message:""}),{filename:e.title,data:[e]}}},{key:"getAllLayoutJSONFileInfo",value:function(){this.setState({message:""});var e=d.a.get(this.props.storage_key)||[];return{filename:"All "+this.props.subject_plural,data:e}}},{key:"setLayout",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"new",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===a&&(a=this.getLayoutFromJSON(e.data));var l=e.title,s=this.props.subject+" '"+l+"' displayed.";this.setMap(a),this.setState({message:s,input_title:l,selected_item:t.toString()})}},{key:"addLayoutsFromJSON",value:function(e){if(e.length>0){var t=Object.assign([],this.state.saved_data),a=!0,l=!1,s=void 0;try{for(var n,r=e[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var u=n.value;t.push(u)}}catch(i){l=!0,s=i}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}d.a.set(this.props.storage_key,t),this.setLayout(t[t.length-1],t.length-1);var o=this.getLayoutFromJSON(t[t.length-1].data);this.setMap(o),this.setState({saved_data:d.a.get(this.props.storage_key)||[],message:"Layouts loaded.",selected_item:t.length-1,input_title:t[t.length-1].title})}else this.setState({message:"There were no "+this.props.subject_plural+" to load."})}},{key:"getSelectValue",value:function(){var e=document.getElementById("layout-select");return e.options[e.selectedIndex].value}},{key:"saveCurrent",value:function(){var e=this.getCurrentLayoutJSON(),t=this.getSelectValue(),a=Object.assign([],this.state.saved_data),l=a.length;"new"===t.split("_")[0]||"newc"===t.split("_")[0]?a.push(e):(a[parseInt(t)]=e,l=parseInt(t)),d.a.set(this.props.storage_key,a),this.setState({selected_item:l.toString(),saved_data:d.a.get(this.props.storage_key)||[],message:this.props.subject+" '"+e.title+"' saved."})}},{key:"deleteCurrent",value:function(){var e=this.getSelectValue(),t=Object.assign([],this.state.saved_data),a=t.splice(parseInt(e),1)[0];d.a.set(this.props.storage_key,t),this.setMap(this.getNewLayout()),this.setState({input_title:"",selected_item:this.getNewStringValue(),message:this.props.subject+" '"+a.title+"' deleted.",saved_data:d.a.get(this.props.storage_key)||[]})}},{key:"deleteAll",value:function(){d.a.remove(this.props.storage_key),this.setMap(this.getNewLayout()),this.setState({saved_data:d.a.get(this.props.storage_key)||[],selected_item:this.getNewStringValue(),input_title:"",message:"All saved "+this.props.subject_plural+" have been deleted.",bank_systems:this.syncBankSystems(this.getNewLayout())})}}]),t}(i.a.Component);function oe(e,t){return e.id>t.id?1:e.id<t.id?-1:0}window.jQuery=h.a;var ie=function(e){function t(e){var a;Object(l.a)(this,t);var s=(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).getLayoutFromJSON(a.default_layouts[0].data);return a.state.map=s,a.state.selected_bank_system=null,a.state.system_format=Y.STREAMLINED_WITH_NAME,a.state.draggedSystem=null,a.state.option_pair_wormholes=!0,a.state.option_include_all_wormholes=!0,a.state.target_blue_total="random",a.state.bank_systems=a.syncBankSystems(s),a.state.eval_option="default_0",a.state.eval_variables=A[0],a.state.home_values={},a.state.balance_difference=null,a.state.map_string="",a.state.balance_options={dont_move_wormholes:!1,dont_move_anomalies:!1,dont_move_empty:!1},a.state.long_op=!1,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"setMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e.isComplete()?(null===t&&(null===l&&(l=this.state.eval_variables),t=this.getHomeValues(e,l)),null===a&&(a=this.getBalanceDifference(t))):(t={},a=null),this.setState({map:e,bank_systems:this.syncBankSystems(e),home_values:t,balance_difference:a,map_string:this.getMapString(e)})}},{key:"syncBankSystems",value:function(e){var t=new $([],[]),a=!0,l=!1,s=void 0;try{for(var n,r=this.system_box.systems[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var u=n.value;null!==e&&e.containsSystem(u.id)||t.systems.push(u)}}catch(o){l=!0,s=o}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}return t.systems.sort(oe),t}},{key:"setActiveBankSystem",value:function(e){this.setState({selected_bank_system:e})}},{key:"handleSelectChange",value:function(){var e=this.getSelectValue(),t=this.getSelectNewMapValue();if(null!==t)"newc"===this.getSelectNewMapType()?this.loadCustomLayout(t):this.loadDefault(t);else{var a=parseInt(e);this.setLayout(this.state.saved_data[a],e)}}},{key:"handleEvalChange",value:function(e){var t=e.split("_")[0],a=e.split("_")[1],l=null;l="default"===t?A[a]:d.a.get(this.props.eval_storage_key)[a],this.setState({eval_option:e,eval_variables:l}),this.setMap(this.state.map,null,null,l)}},{key:"getSelectNewMapValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e;null===t&&(t=this.getSelectValue());var a=(t=t.toString()).split("_");return 2!==a.length||"new"!==a[0]&&"newc"!==a[0]?null:parseInt(a[1])}},{key:"getSelectNewMapType",value:function(){return this.getSelectValue().split("_")[0]}},{key:"getNewStringValue",value:function(){return this.state&&"new"===this.state.selected_item.toString().substr(0,3)?this.state.selected_item:"new_0"}},{key:"isSelectNew",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==this.getSelectNewMapValue(e)}},{key:"handleFormatDisplayChange",value:function(){var e=document.getElementById("select-system-display");this.setState({system_format:parseInt(e.options[e.selectedIndex].value)})}},{key:"onSelectedSystemDrag",value:function(e){this.setState({draggedSystem:this.state.selected_bank_system,message:""})}},{key:"onSystemDrag",value:function(e,t){this.setState({draggedSystem:t,message:""})}},{key:"onSystemDragEnd",value:function(e){this.setState({draggedSystem:null,message:""})}},{key:"onSystemDropped",value:function(e,t){if(null!==this.state.draggedSystem){var a=this.state.map.makeCopy(),l=this.state.selected_bank_system,s=!1;if(null!==t){var n=a.spaces[t];if(n.type===j.OPEN){null!==this.state.selected_bank_system&&this.state.selected_bank_system.id===this.state.draggedSystem.id&&(l=null);var r=a.getSpaceBySystemID(this.state.draggedSystem.id);r&&(r.type=j.OPEN,r.system=null),n.system=this.state.draggedSystem,n.type=j.SYSTEM,s=!0}else if(n.type===j.SYSTEM&&!n.system.isMecatolRexSystem()){var u=n.system;null!==l&&l.id===this.state.draggedSystem.id?l=u:a.getSpaceBySystemID(this.state.draggedSystem.id).system=u,n.system=this.state.draggedSystem,s=!0}}else{var o=a.getSpaceBySystemID(this.state.draggedSystem.id);o&&(l=o.system,o.type=j.OPEN,o.system=null,s=!0)}s&&(this.setMap(a),this.setState({selected_bank_system:l})),this.onSystemDragEnd(e)}}},{key:"handleIncludeWormholesChange",value:function(){var e=document.getElementById("require-all-wormholes").checked;this.setState({option_include_all_wormholes:e})}},{key:"handlePairWormholesChange",value:function(){var e=document.getElementById("pair-wormholes").checked;this.setState({option_pair_wormholes:e})}},{key:"handleTargetRatioChange",value:function(){var e=document.getElementById("target-ratio"),t=e.options[e.selectedIndex].value;"random"!==t&&(t=parseInt(t)),this.setState({target_blue_total:t})}},{key:"loadDefault",value:function(e){var t=this.default_layouts[e];this.setLayout(t,"new_"+e);var a=t.title,l="Blank map '"+a+"' displayed.";this.setState({message:l,input_title:a})}},{key:"loadCustomLayout",value:function(e){var t=d.a.get(this.props.layout_storage_key)[e],a=this.getLayoutFromJSON(t.data),l=t.title,s="Custom layout '"+l+"' displayed.";this.setMap(a),this.setState({message:s,input_title:l,selected_item:"new_"+e})}},{key:"getNewLayout",value:function(){var e=this.default_layouts[0];return this.getLayoutFromJSON(e.data)}},{key:"getMapString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.map,t="",a="",l=!0,s=!1,n=void 0;try{for(var r,u=z[Symbol.iterator]();!(l=(r=u.next()).done);l=!0){var o=r.value,i=te(o,e.spaces);i&&i.type===j.SYSTEM&&i.system?t+=a+i.system.id:t+=a+"0",a=" "}}catch(c){s=!0,n=c}finally{try{l||null==u.return||u.return()}finally{if(s)throw n}}return t}},{key:"loadMapFromString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.map_string,t=this.state.map.makeCopy(),a=this.state.bank_systems,l=e.split(" "),s=!0,n=!1,r=void 0;try{for(var u,o=l.entries()[Symbol.iterator]();!(s=(u=o.next()).done);s=!0){var i=u.value,c=Object(y.a)(i,2),p=c[0],m=c[1],h=parseInt(m);if(0!==h){var _=a.getSystemByID(h);if(!_){var d=t.getSpaceBySystemID(h);if(!d)return void this.setState({message:"Space not found."});_=d.system,d.type=j.OPEN,d.system=null,a=this.syncBankSystems(t)}var v=te(z[p],t.spaces);if(!v)return void this.setState({message:"Invalid: Too many systems listed."});if(v.type!==j.OPEN&&v.type!==j.SYSTEM)return void this.setState({message:"Invalid: Placing system on improper space."});if(v.type===j.SYSTEM&&v.system.isMecatolRexSystem())return void this.setState({message:"Invalid: Systems on top of Mecatol Rex."});v.type===j.OPEN&&(v.type=j.SYSTEM),v.system=_,a=this.syncBankSystems(t)}}}catch(E){n=!0,r=E}finally{try{s||null==o.return||o.return()}finally{if(n)throw r}}this.setState({message:"Map string loaded."}),this.setMap(t)}},{key:"clickedSpace",value:function(e){var t=Object.assign({},{message:"",selected_bank_system:this.state.selected_bank_system}),a=this.state.map.makeCopy(),l=a.spaces[e],s=!1;switch(l.type){case j.OPEN:null!==t.selected_bank_system&&(l.system=t.selected_bank_system,l.type=j.SYSTEM,t.selected_bank_system=null,s=!0);break;case j.SYSTEM:if(!l.system.isMecatolRexSystem())if(null!==t.selected_bank_system){var n=t.selected_bank_system;t.selected_bank_system=l.system,l.system=n,s=!0}else t.selected_bank_system=l.system,l.system=null,l.type=j.OPEN,s=!0}s&&(this.setState(t),this.setMap(a))}},{key:"autoCompleteStart",value:function(){var e=this;this.state.long_op||this.setState({message:"Thinking...",long_op:!0},function(){setTimeout(e.autoComplete.bind(e),1)})}},{key:"autoComplete",value:function(){for(var e=[{map:this.state.map.makeCopy(this.planet_box),system_box:this.state.bank_systems.makeCopy()}],t=!0;!e[e.length-1].map.isComplete();)if(!1===(e=this._autoCompleteSteps(e,1))){t=!1;break}var a="Unable to find a legal completion of this map.";t&&(this.setMap(e[e.length-1].map),a="Map completed randomly.",this.setState({message:a,selected_bank_system:null,long_op:!1}))}},{key:"_autoCompleteSteps",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null===l&&(l=e.length);for(var s=e.length,n=a;n<1e4;n++){var r=this._addOneSystem(e[e.length-1]);if(!1!==r)return e.push(r),e.length>=s+t?e:this._autoCompleteSteps(e,t-1,n,l)}for(var u=0;e.length>=l;)u++,e.pop();return 0!==e.length&&this._autoCompleteSteps(e,t+u,0,l-1)}},{key:"_addOneSystem",value:function(e){var t=[],a=e.system_box,l=e.map,s=!0,n=!1,r=void 0;try{for(var u,o=a.systems[Symbol.iterator]();!(s=(u=o.next()).done);s=!0){var i=u.value,c=!0;if(this.state.option_include_all_wormholes&&null===i.wormhole&&a.getWormholeSystems().length>=l.getOpenSpacesTotal())c=!1;else{if(this.state.option_pair_wormholes){var p=0,m=a.getWormholeSystems(C).length,h=a.getWormholeSystems(D).length;1===m&&p++,1===h&&p++,p>=l.getOpenSpacesTotal()&&(null===i.wormhole||i.wormhole!==C&&1!==h||i.wormhole!==D&&1!==m)&&(c=!1)}c&&t.push(i)}}}catch(B){n=!0,r=B}finally{try{s||null==o.return||o.return()}finally{if(n)throw r}}if("random"!==this.state.target_blue_total){var _=this.state.target_blue_total/(l.getPossibleSystemTotal()-this.state.target_blue_total),d=l.getBlueSystemTotal()/l.getRedSystemTotal();if(_<d){for(var v=[],E=0,f=t;E<f.length;E++){var S=f[E];S.isRed()&&v.push(S)}v.length>0&&(t=v)}else if(_>d){for(var N=[],g=0,T=t;g<T.length;g++){var w=T[g];w.isBlue()&&N.push(w)}N.length>0&&(t=N)}}var x=t[Math.floor(Math.random()*t.length)],O=[],b=!0,I=!1,M=void 0;try{for(var A,z=l.spaces.entries()[Symbol.iterator]();!(b=(A=z.next()).done);b=!0){var k=A.value,R=Object(y.a)(k,2),L=R[0];R[1].type===j.OPEN&&O.push(L)}}catch(B){I=!0,M=B}finally{try{b||null==z.return||z.return()}finally{if(I)throw M}}var P=O[Math.floor(Math.random()*O.length)],U=l.makeCopy();U.spaces[P].type=j.SYSTEM,U.spaces[P].system=x;var H=this.syncBankSystems(U);return!!U.isLegal()&&{map:U,system_box:H}}},{key:"getHomeValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.map,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.eval_variables,a={},l=!0,s=!1,n=void 0;try{for(var r,u=e.spaces.entries()[Symbol.iterator]();!(l=(r=u.next()).done);l=!0){var o=r.value,i=Object(y.a)(o,2),c=i[0],p=i[1];p.type===j.HOME&&(a[c.toString()]=e.getHomeValue(p,t))}}catch(m){s=!0,n=m}finally{try{l||null==u.return||u.return()}finally{if(s)throw n}}return a}},{key:"getBalanceDifference",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.home_values,t=null,a=null;for(var l in e)e.hasOwnProperty(l)&&((null===t||e[l]>t)&&(t=e[l]),(null===a||e[l]<a)&&(a=e[l]));return t-a}},{key:"handleBalanceOptionChange",value:function(e){var t=Object.assign({},this.state.balance_options);t[e]=!t[e],this.setState({balance_options:t})}},{key:"improveBalanceStart",value:function(){var e=this;this.state.long_op||this.setState({message:"Thinking...",long_op:!0},function(){setTimeout(e.improveBalance.bind(e),1)})}},{key:"improveBalance",value:function(){var e=this;return new Promise(function(t){var a=e.state.map,l=[],s=!0,n=!1,r=void 0;try{for(var u,o=a.spaces.entries()[Symbol.iterator]();!(s=(u=o.next()).done);s=!0){var i=u.value,c=Object(y.a)(i,2),p=c[0],m=c[1];m.type===j.SYSTEM&&(m.system.isMecatolRexSystem()||e.state.balance_options.dont_move_wormholes&&null!==m.system.wormhole||e.state.balance_options.dont_move_anomalies&&null!==m.system.anomaly||e.state.balance_options.dont_move_empty&&null===m.system.wormhole&&null===m.system.anomaly&&!(m.system.planets.length>0)||l.push(p))}}catch(N){n=!0,r=N}finally{try{s||null==o.return||o.return()}finally{if(n)throw r}}!function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),l=[e[a],e[t]];e[t]=l[0],e[a]=l[1]}}(l);for(var h=!1,_=null,d=null,v=null,E=0;E<l.length;E++){for(var f=0;f<l.length;f++)if(E!==f){var S=(_=e.state.map.makeCopy()).spaces[l[f]].system;if(_.spaces[l[f]].system=_.spaces[l[E]].system,_.spaces[l[E]].system=S,_.isLegal()&&(d=e.getHomeValues(_),(v=e.getBalanceDifference(d))<e.state.balance_difference)){h=!0;break}}if(h)break}h?(e.setMap(_,d,v),e.setState({message:"Balance gap has been improved.",long_op:!1})):e.setState({message:"Failed to improve balance gap.",long_op:!1})})}},{key:"render",value:function(){var e=this,t=i.a.createElement("label",{className:"button is-outlined is-small is-danger"},"Illegal");this.state.map.isLegal()&&(t=i.a.createElement("label",{className:"button is-small is-outlined is-success"},"Legal"));var a=i.a.createElement("label",{className:"button is-outlined is-small is-danger"},"Incomplete");this.state.map.isComplete()&&(a=i.a.createElement("label",{className:"button is-small is-outlined is-success"},"Complete"));var l=[],s=!0,n=!1,r=void 0;try{for(var u,o=this.default_layouts.entries()[Symbol.iterator]();!(s=(u=o.next()).done);s=!0){var c=u.value,p=Object(y.a)(c,2),m=p[0],h=p[1];l.push(i.a.createElement("option",{value:"new_"+m,key:"new_"+m},"New from default layout ",h.title))}}catch(he){n=!0,r=he}finally{try{s||null==o.return||o.return()}finally{if(n)throw r}}var _=!0,v=!1,E=void 0;try{for(var f,S=(d.a.get(this.props.layout_storage_key)||[]).entries()[Symbol.iterator]();!(_=(f=S.next()).done);_=!0){var N=f.value,g=Object(y.a)(N,2),T=g[0],w=g[1];this.getLayoutFromJSON(w.data).areWarpsLogical()&&l.push(i.a.createElement("option",{value:"newc_"+T,key:"newc_"+T},"New from custom layout ",w.title))}}catch(he){v=!0,E=he}finally{try{_||null==S.return||S.return()}finally{if(v)throw E}}var x=!0,O=!1,b=void 0;try{for(var D,C=this.state.saved_data.entries()[Symbol.iterator]();!(x=(D=C.next()).done);x=!0){var I=D.value,M=Object(y.a)(I,2),z=M[0],k=M[1];l.push(i.a.createElement("option",{value:z,key:z},k.title))}}catch(he){O=!0,b=he}finally{try{x||null==C.return||C.return()}finally{if(O)throw b}}var R=[],L=!0,P=!1,j=void 0;try{for(var B,W=A.entries()[Symbol.iterator]();!(L=(B=W.next()).done);L=!0){var F=B.value,V=Object(y.a)(F,2),G=V[0],J=V[1];R.push(i.a.createElement("option",{value:"default_"+G,key:"default_"+G},J.title))}}catch(he){P=!0,j=he}finally{try{L||null==W.return||W.return()}finally{if(P)throw j}}var Z=!0,X=!1,q=void 0;try{for(var Q,$=(d.a.get(this.props.eval_storage_key)||[]).entries()[Symbol.iterator]();!(Z=(Q=$.next()).done);Z=!0){var K=Q.value,ee=Object(y.a)(K,2),te=ee[0],ae=ee[1];R.push(i.a.createElement("option",{value:"custom_"+te,key:"custom_"+te},ae.title))}}catch(he){X=!0,q=he}finally{try{Z||null==$.return||$.return()}finally{if(X)throw q}}for(var le=[i.a.createElement("option",{value:"random",key:"random"},"B/R Target Ratio: Random")],re=this.state.map.getRedSystemTotal(),ue=this.state.map.getBlueSystemTotal(),oe=this.state.map.getOpenSpacesTotal(),ie=this.state.bank_systems.getBlueSystemTotal(),ce=this.state.bank_systems.getRedSystemTotal(),pe=0;pe<=oe;pe++)pe<=ie&&oe-pe<=ce&&le.push(i.a.createElement("option",{value:pe+ue,key:pe+ue},"B/R Target Ratio: ",pe+ue,"/",oe-pe+re));var ye=null;null!==this.state.balance_difference&&(ye=i.a.createElement("p",{className:"control"},i.a.createElement("label",{className:"label"},"Balance Gap: ",this.state.balance_difference)));var me=null;return null!==this.state.message&&""!==this.state.message&&(me=i.a.createElement("blockquote",null,this.state.message)),i.a.createElement("div",{className:"block"},i.a.createElement("h2",{className:"title is-size-4"},"Map Editor"),i.a.createElement("div",{className:"block map-lab-control-panel"},i.a.createElement("div",{className:"field is-horizontal"},i.a.createElement("div",{className:"field-label"},i.a.createElement("label",{className:"label"},"Saved/Defaults:")),i.a.createElement("div",{className:"field-body"},i.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},i.a.createElement("p",{className:"control"},i.a.createElement("span",{className:"select is-small"},i.a.createElement("select",{id:"layout-select",value:this.state.selected_item,onChange:function(){return e.handleSelectChange()}},l))),i.a.createElement("p",{className:"control"},i.a.createElement(se,{title:"Download All",getDownloadInfo:function(){return e.getAllLayoutJSONFileInfo()},className:"button is-small"})),i.a.createElement("p",{className:"control"},i.a.createElement("button",{onClick:function(){return e.deleteAll()},className:"button is-small"},"Delete All")),i.a.createElement(ne,{id:"layout-json-upload",title:"Upload",handleJSON:function(t){return e.addLayoutsFromJSON(t)},className:"button is-small"})))),i.a.createElement("div",{className:"field is-horizontal"},i.a.createElement("div",{className:"field-label"},i.a.createElement("label",{className:"label"},"Map Title:")),i.a.createElement("div",{className:"field-body"},i.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},i.a.createElement("p",{className:"control"},i.a.createElement("input",{className:"input is-small",type:"text",id:"layout-title",value:this.state.input_title,onChange:function(){this.setState({input_title:document.getElementById("layout-title").value,message:""})}.bind(this)})),i.a.createElement("p",{className:"control"},i.a.createElement("button",{className:"button is-small",onClick:function(){return e.saveCurrent()}},"Save")),i.a.createElement("p",{className:"control"},i.a.createElement("button",{className:"button is-small",onClick:function(){return e.handleSelectChange()}},"Reset")),i.a.createElement("p",{className:"control"},i.a.createElement("button",{className:"button is-small",onClick:function(){return e.deleteCurrent()},disabled:this.isSelectNew(this.state.selected_item)},"Delete")),i.a.createElement("p",{className:"control"},i.a.createElement(se,{title:"Download",className:"button is-small",getDownloadInfo:function(){return e.getCurrentLayoutJSONFileInfo()}}))))),i.a.createElement("div",{className:"field is-horizontal"},i.a.createElement("div",{className:"field-label"},i.a.createElement("label",{className:"label"},"System Display:")),i.a.createElement("div",{className:"field-body"},i.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},i.a.createElement("p",{className:"control"},i.a.createElement("span",{className:"select is-small"},i.a.createElement("select",{id:"select-system-display",value:this.state.system_format,onChange:function(){return e.handleFormatDisplayChange()}},i.a.createElement("option",{value:Y.STREAMLINED},"Streamlined"),i.a.createElement("option",{value:Y.STREAMLINED_WITH_NAME},"Streamlined + Name"),i.a.createElement("option",{value:Y.COLORBLIND_FRIENDLY},"Colorblind Friendly"),i.a.createElement("option",{value:Y.COLORBLIND_FRIENDLY_WITH_NAME},"Colorblind Friendly + Name"),i.a.createElement("option",{value:Y.ID_ONLY},"ID Only")))),i.a.createElement("p",{className:"control"},i.a.createElement("label",{className:"label"},"Map Status:")),i.a.createElement("p",{className:"control"},a),i.a.createElement("p",{className:"control"},t)))),i.a.createElement("div",{className:"field is-horizontal"},i.a.createElement("div",{className:"field-label"},i.a.createElement("label",{className:"label"},"Map String:")),i.a.createElement("div",{className:"field-body"},i.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},i.a.createElement("p",{className:"control is-expanded"},i.a.createElement("input",{className:"input is-small",type:"text",id:"map-string",value:this.state.map_string,onChange:function(){this.setState({map_string:document.getElementById("map-string").value,message:""})}.bind(this)})),i.a.createElement("p",{className:"control"},i.a.createElement("button",{className:"button is-small",onClick:function(){return e.loadMapFromString()}},"Load From String")))))),i.a.createElement("div",{className:"columns"},i.a.createElement("div",{className:"column is-one-fifth-desktop is-narrow-tablet map-controls-column"},i.a.createElement("div",{className:"block content for-message"},me),i.a.createElement("div",{className:"field"},i.a.createElement("label",{className:"label"},"Auto-Complete"),i.a.createElement("p",{className:"control"},i.a.createElement("input",{id:"require-all-wormholes",type:"checkbox",checked:this.state.option_include_all_wormholes,onChange:function(){return e.handleIncludeWormholesChange()}}),i.a.createElement("label",{htmlFor:"require-all-wormholes"}," Require Wormholes")),i.a.createElement("p",{className:"control"},i.a.createElement("input",{id:"pair-wormholes",type:"checkbox",checked:this.state.option_pair_wormholes,onChange:function(){return e.handlePairWormholesChange()}}),i.a.createElement("label",{htmlFor:"pair-wormholes"}," Pair Wormholes")),i.a.createElement("p",{className:"control"},i.a.createElement("span",{className:"select is-small"},i.a.createElement("select",{id:"target-ratio",value:this.state.target_blue_total,onChange:function(){return e.handleTargetRatioChange()}},le))),i.a.createElement("p",{className:"control"},i.a.createElement("button",{onClick:function(){return e.autoCompleteStart()},disabled:!this.state.map.isLegal()||this.state.map.isComplete()||!0===this.state.long_op,className:"button is-small is-primary"},"Auto-Complete Map"))),i.a.createElement("div",{className:"field"},i.a.createElement("label",{className:"label"},"Improve Balance"),i.a.createElement("p",{className:"control"},i.a.createElement("span",{className:"select is-small"},i.a.createElement("select",{id:"eval-select",value:this.state.eval_option,onChange:function(t){return e.handleEvalChange(t.target.value)}},R))),ye,i.a.createElement("p",{className:"control"},i.a.createElement("input",{id:"dont-move-wormholes",type:"checkbox",checked:this.state.balance_options.dont_move_wormholes,onChange:function(){return e.handleBalanceOptionChange("dont_move_wormholes")}}),i.a.createElement("label",{htmlFor:"dont-move-wormholes"}," Lock Wormholes")),i.a.createElement("p",{className:"control"},i.a.createElement("input",{id:"dont-move-anomalies",type:"checkbox",checked:this.state.balance_options.dont_move_anomalies,onChange:function(){return e.handleBalanceOptionChange("dont_move_anomalies")}}),i.a.createElement("label",{htmlFor:"dont-move-anomalies"}," Lock Anomalies")),i.a.createElement("p",{className:"control"},i.a.createElement("input",{id:"dont-move-empty",type:"checkbox",checked:this.state.balance_options.dont_move_empty,onChange:function(){return e.handleBalanceOptionChange("dont_move_empty")}}),i.a.createElement("label",{htmlFor:"dont-move-empty"}," Lock Empty Spaces")),i.a.createElement("p",{className:"control"},i.a.createElement("button",{onClick:function(){return e.improveBalanceStart()},disabled:!this.state.map.isComplete()||!0===this.state.long_op,className:"button is-small is-primary"},"Improve Balance"))),i.a.createElement(U,{systems:this.state.bank_systems,active_system:this.state.selected_bank_system,setActiveSystem:function(t){return e.setActiveBankSystem(t)},system_format:this.state.system_format,onSelectedSystemDrag:function(t){return e.onSelectedSystemDrag(t)},onSystemDragEnd:function(t){return e.onSystemDragEnd(t)},onSystemDropped:function(t){return e.onSystemDropped(t,null)},eval_variables:this.state.eval_variables})),i.a.createElement("div",{className:"column map-container"},i.a.createElement(H,{map:this.state.map,eval_variables:this.state.eval_variables,system_format:this.state.system_format,system_box:this.system_box,clickedSpace:function(t){return e.clickedSpace(t)},map_class:"map-map",systems_draggable:!this.state.long_op,onSystemDrag:function(t,a){return e.onSystemDrag(t,a)},onSystemDragEnd:function(t){return e.onSystemDragEnd(t)},onSystemDropped:function(t,a){return e.onSystemDropped(t,a)},home_values:this.state.home_values}))))}}]),t}(ue);window.jQuery=h.a;var ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).state.map=a.getNewLayout(),a.state.show_warps=!1,a.state.show_wormholes=!1,a.state.show_anomalies=!1,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleSelectChange",value:function(){var e=this.getSelectValue();if("new"===e)this.setNewLayout();else{var t=parseInt(e);this.setLayout(this.state.saved_data[t],e)}}},{key:"isSelectNew",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==e?"new"===e:"new"===this.getSelectValue()}},{key:"getNewStringValue",value:function(){return"new"}},{key:"handleWarpChange",value:function(){var e=document.getElementById("warp-checkbox").checked;this.setState({show_warps:e})}},{key:"handleWormholeChange",value:function(){var e=document.getElementById("wormhole-checkbox").checked;this.setState({show_wormholes:e})}},{key:"handleAnomaliesChange",value:function(){var e=document.getElementById("anomalies-checkbox").checked;this.setState({show_anomalies:e})}},{key:"clickedSpace",value:function(e){var t=this.state.map.makeCopy(),a="",l=t.spaces[e],s=!1;switch(l.type){case j.WARP:this.state.show_warps?(l.warp_spaces=this._getNextWarp(t,l),null===l.warp_spaces&&(s=!0)):(s=!0,l.warp_spaces=null);break;case j.SYSTEM:l.system=this._getNextSystem(t,l),null===l.system&&(s=!0);break;default:s=!0}if(s)for(var n=!0;n;)switch(l.type++,l.type>j.WARP&&(l.type=1),l.type){case j.SYSTEM:l.system=this._getNextSystem(t,l),null!==l.system&&(n=!1);break;case j.WARP:this.state.show_warps&&(l.warp_spaces=this._getNextWarp(t,l),null!==l.warp_spaces&&(n=!1));break;default:n=!1}t.areWarpsLogical()||(a="Warps do not yet connect to legal spaces. Layout not usable until warps connect."),this.setMap(t),this.setState({message:a})}},{key:"loadDefault",value:function(e){var t=this.default_layouts[e],a=this.getLayoutFromJSON(t.data),l=t.title,s="Default layout '"+l+"' displayed.";this.setMap(a),this.setState({message:s,input_title:l,selected_item:this.getNewStringValue()})}},{key:"getNewLayout",value:function(){var e=new le(0,0,0);return new ee(!0,e,3)}},{key:"setNewLayout",value:function(){var e=this.getNewLayout();this.setMap(e),this.setState({selected_item:this.getNewStringValue(),message:"",input_title:""})}},{key:"_getNextWarp",value:function(e,t){var a=t.warp_spaces;for(null===a?a=0:a++;a<L.length;){var l=L[a],s=!0,n=!0,r=!1,u=void 0;try{for(var o,i=l[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value,p=!0,y=!1,m=void 0;try{for(var h,_=c[Symbol.iterator]();!(p=(h=_.next()).done);p=!0){var d=h.value;if(!ae(t.getWarpDirectionCoordinates(d),e.spaces)){s=!1;break}}}catch(v){y=!0,m=v}finally{try{p||null==_.return||_.return()}finally{if(y)throw m}}}}catch(v){r=!0,u=v}finally{try{n||null==i.return||i.return()}finally{if(r)throw u}}if(s)break;a++}return a>=L.length?null:a}},{key:"_getNextSystem",value:function(e,t){var a=[],l=0;null!==t.system&&(l=t.system.id);var s=!0,n=!1,r=void 0;try{for(var u,o=this.system_box.systems[Symbol.iterator]();!(s=(u=o.next()).done);s=!0){var i=u.value;null===e.getSpaceBySystemID(i.id)&&i.id>l&&(i.isMecatolRexSystem()||null!==i.wormhole&&this.state.show_wormholes||null!==i.anomaly&&this.state.show_anomalies)&&a.push(i)}}catch(c){n=!0,r=c}finally{try{s||null==o.return||o.return()}finally{if(n)throw r}}return 0===a.length?null:(a.sort(oe),a[0])}},{key:"render",value:function(){var e=this,t=[i.a.createElement("option",{value:"new",key:"new"},"New Layout")],a=!0,l=!1,s=void 0;try{for(var n,r=this.state.saved_data.entries()[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var u=n.value,o=Object(y.a)(u,2),c=o[0],p=o[1];t.push(i.a.createElement("option",{value:c,key:c},p.title))}}catch(g){l=!0,s=g}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}var m=[],h=!0,_=!1,d=void 0;try{for(var v,E=function(){var t=v.value,a=(S=Object(y.a)(t,2))[0],l=S[1];m.push(i.a.createElement("p",{className:"control",key:a},i.a.createElement("button",{className:"button is-small is-link",onClick:function(){return e.loadDefault(a)},key:"default_layout_"+a},l.title)))},f=this.default_layouts.entries()[Symbol.iterator]();!(h=(v=f.next()).done);h=!0){var S;E()}}catch(g){_=!0,d=g}finally{try{h||null==f.return||f.return()}finally{if(_)throw d}}var N=null;return null!==this.state.message&&""!==this.state.message&&(N=i.a.createElement("blockquote",null,this.state.message)),i.a.createElement("div",{className:"block"},i.a.createElement("h2",{className:"title is-size-4"},"Layout Editor"),i.a.createElement("div",{className:"block map-lab-control-panel"},i.a.createElement("div",{className:"field is-horizontal"},i.a.createElement("div",{className:"field-label"},i.a.createElement("label",{className:"label"},"Default Layouts:")),i.a.createElement("div",{className:"field-body"},i.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},m))),i.a.createElement("div",{className:"field is-horizontal"},i.a.createElement("div",{className:"field-label"},i.a.createElement("label",{className:"label"},"Saved Layouts:")),i.a.createElement("div",{className:"field-body"},i.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},i.a.createElement("p",{className:"control"},i.a.createElement("span",{className:"select is-small"},i.a.createElement("select",{id:"layout-select",value:this.state.selected_item,onChange:function(){return e.handleSelectChange()}},t))),i.a.createElement("p",{className:"control"},i.a.createElement(se,{title:"Download All",getDownloadInfo:function(){return e.getAllLayoutJSONFileInfo()},className:"button is-small"})),i.a.createElement("p",{className:"control"},i.a.createElement("button",{onClick:function(){return e.deleteAll()},className:"button is-small"},"Delete All")),i.a.createElement("p",{className:"control"},i.a.createElement(ne,{id:"layout-json-upload",title:"Upload",handleJSON:function(t){return e.addLayoutsFromJSON(t)},className:"button is-small"}))))),i.a.createElement("div",{className:"field is-horizontal"},i.a.createElement("div",{className:"field-label"},i.a.createElement("label",{className:"label"},"Layout Title:")),i.a.createElement("div",{className:"field-body"},i.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},i.a.createElement("p",{className:"control"},i.a.createElement("input",{type:"text",id:"layout-title",value:this.state.input_title,className:"input is-small",onChange:function(){this.setState({input_title:document.getElementById("layout-title").value,message:""})}.bind(this)})),i.a.createElement("p",{className:"control"},i.a.createElement("button",{className:"button is-small",onClick:function(){return e.saveCurrent()}},"Save")),i.a.createElement("p",{className:"control"},i.a.createElement("button",{className:"button is-small",onClick:function(){return e.handleSelectChange()}},"Reset")),i.a.createElement("p",{className:"control"},i.a.createElement("button",{onClick:function(){return e.deleteCurrent()},disabled:this.isSelectNew(this.state.selected_item),className:"button is-small"},"Delete")),i.a.createElement("p",{className:"control"},i.a.createElement(se,{title:"Download",getDownloadInfo:function(){return e.getCurrentLayoutJSONFileInfo()},className:"button is-small"}))))),i.a.createElement("div",{className:"columns"},i.a.createElement("div",{className:"column is-one-fifth-desktop is-narrow-tablet map-controls-column"},i.a.createElement("div",{className:"block content for-message"},N),i.a.createElement("div",{className:"field"},i.a.createElement("label",{className:"label"},"Click Cycle"),i.a.createElement("p",{className:"control"},i.a.createElement("input",{type:"checkbox",checked:this.state.show_warps,onChange:function(){return e.handleWarpChange()},id:"warp-checkbox"}),i.a.createElement("label",{htmlFor:"warp-checkbox"}," Include Warps in Click Cycle")),i.a.createElement("p",{className:"control"},i.a.createElement("input",{type:"checkbox",checked:this.state.show_wormholes,onChange:function(){return e.handleWormholeChange()},id:"wormhole-checkbox"}),i.a.createElement("label",{htmlFor:"wormhole-checkbox"}," Include Womholes in Click Cycle")),i.a.createElement("p",{className:"control"},i.a.createElement("input",{type:"checkbox",checked:this.state.show_anomalies,onChange:function(){return e.handleAnomaliesChange()},id:"anomalies-checkbox"}),i.a.createElement("label",{htmlFor:"anomalies-checkbox"}," Include Anomalies in Click Cycle")))),i.a.createElement("div",{className:"column map-container"},i.a.createElement(H,{map:this.state.map,system_format:Y.STREAMLINED,system_box:this.system_box,clickedSpace:function(t){return e.clickedSpace(t)},map_class:"layout-map"})))))}}]),t}(ue),pe="BASE_PLANET_MOD",ye="RESOURCES_MULTIPLIER",me="INFLUENCE_MULTIPLIER",he="TECH_MOD",_e="TECH_PROPULSION_MOD",de="TECH_WARFARE_MOD",ve="TECH_BIOTIC_MOD",Ee="TECH_CYBERNETIC_MOD",fe="PLANET_STRATEGY",Se="NONZERO_RESOURCES_MOD",Ne="NONZERO_INFLUENCE_MOD",ge="TRAIT_CULTURAL_MOD",Te="TRAIT_HAZARDOUS_MOD",we="TRAIT_INDUSTRIAL_MOD",xe="SINGLE_PLANET_MOD",Oe="MULTI_PLANET_MOD",be="MATCHING_PLANETS_MOD",De="NONMATCHING_PLANETS_MOD",Ce="MECATOL_REX_SYS_MOD",Ie="DISTANCE_MOD_BASE",Me="DISTANCE_MOD_PLANET",Ae="DISTANCE_MOD_EMPTY",ze="DISTANCE_MOD_SUPERNOVA",ke="DISTANCE_MOD_ASTEROID_FIELD",Re="DISTANCE_MOD_GRAVITY_RIFT",Le="DISTANCE_MOD_EMPTY_WORMHOLE",Pe="DISTANCE_MOD_PLANET_WORMHOLE",Ue="DISTANCE_MOD_NEBULA",He="DISTANCE_MOD_ADJACENT_TO_OPPONENT",je="DISTANCE_MULTIPLIER",Be=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=null,a=!1===this.props.num_value;this.props.hasNullBox&&(t=i.a.createElement("p",{className:"control checkbox-holder"},i.a.createElement("input",{id:this.props.id+"-null-box",type:"checkbox",checked:a,onChange:function(t){return e.props.onNullChange(t.target.checked)}})," Impassable\xa0"));var l=this.props.num_value;return!1===l&&(l=""),i.a.createElement("div",{className:"field line-container"},i.a.createElement("div",null,i.a.createElement("label",{className:"label"},this.props.label,":")),i.a.createElement("div",null,i.a.createElement("div",{className:"field all-parts"},i.a.createElement("div",{className:"both-controls"},i.a.createElement("div",{className:"field is-horizontal input-only"},i.a.createElement("div",{className:"m"},this.props.m),i.a.createElement("p",{className:"control"},i.a.createElement("input",{type:"number",id:this.props.id+"-num",value:l,className:"input is-small",onChange:function(t){return e.props.onInputChange(parseInt(t.target.value))},disabled:a}))),t),i.a.createElement("div",{className:"info-container"},i.a.createElement("i",{className:"fas fa-info-circle"}),i.a.createElement("div",{className:"input-info"},this.props.helperText)))))}}]),t}(i.a.Component),We=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"reportChange",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.props.changeHandler(e,t,a)}},{key:"reportNullChange",value:function(e,t){!1===t?this.reportChange(e,0):this.reportChange(e,!1)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"block content evaluator-form"},i.a.createElement("div",{className:"form-container"},i.a.createElement("h3",null,"Planet Evaluation"),i.a.createElement(Be,{m:"+",label:"Base Planet",num_value:this.props.values.BASE_PLANET_MOD,onInputChange:function(t){return e.reportChange(pe,t)},helperText:"Base value of each planet."}),i.a.createElement(Be,{m:"x",label:"Resources",num_value:this.props.values.RESOURCES_MULTIPLIER,onInputChange:function(t){return e.reportChange(ye,t)},helperText:"Number to multiply planet resource value by."}),i.a.createElement(Be,{m:"x",label:"Influence",num_value:this.props.values.INFLUENCE_MULTIPLIER,onInputChange:function(t){return e.reportChange(me,t)},helperText:"Number to multiply planet influence value by."}),i.a.createElement(Be,{m:"+",label:"Tech",num_value:this.props.values.TECH_MOD,onInputChange:function(t){return e.reportChange(he,t)},helperText:"Number to add if the planet has a tech specialty."}),i.a.createElement(Be,{m:"+",label:"Propulsion Tech",num_value:this.props.values.TECH_PROPULSION_MOD,onInputChange:function(t){return e.reportChange(_e,t)},helperText:"Number to add if the planet has a propulsion tech specialty."}),i.a.createElement(Be,{m:"+",label:"Warfare Tech",num_value:this.props.values.TECH_WARFARE_MOD,onInputChange:function(t){return e.reportChange(de,t)},helperText:"Number to add if the planet has a warfare tech specialty."}),i.a.createElement(Be,{m:"+",label:"Biotic Tech",num_value:this.props.values.TECH_BIOTIC_MOD,onInputChange:function(t){return e.reportChange(ve,t)},helperText:"Number to add if the planet has a biotic tech specialty."}),i.a.createElement(Be,{m:"+",label:"Cybernetic Tech",num_value:this.props.values.TECH_CYBERNETIC_MOD,onInputChange:function(t){return e.reportChange(Ee,t)},helperText:"Number to add if the planet has a cybernetic tech specialty."}),i.a.createElement("div",{className:"field line-container"},i.a.createElement("div",null,i.a.createElement("label",{className:"label"},"Planet Eval Strategy:")),i.a.createElement("div",null,i.a.createElement("div",{className:"field is-grouped"},i.a.createElement("div",{className:"field is-horizontal"},i.a.createElement("p",{className:"control"},i.a.createElement("span",{className:"select is-small"},i.a.createElement("select",{value:this.props.values.PLANET_STRATEGY,onChange:function(t){return e.reportChange(fe,t.target.value)}},i.a.createElement("option",{value:Z.SUM,key:Z.SUM},"Sum"),i.a.createElement("option",{value:Z.GREATEST,key:Z.GREATEST},"Greatest"),i.a.createElement("option",{value:Z.GREATEST_PLUS_TECH,key:Z.GREATEST_PLUS_TECH},"Greatest+Tech"))))),i.a.createElement("div",{className:"info-container"},i.a.createElement("i",{className:"fas fa-info-circle"}),i.a.createElement("div",{className:"input-info"},"How to combine resources, influence and tech values above.",i.a.createElement("br",null),i.a.createElement("br",null),"Sum = R+I+T",i.a.createElement("br",null),i.a.createElement("br",null),"Greatest = largest of R/I/T",i.a.createElement("br",null),i.a.createElement("br",null),"Greatest+Tech = largest of R/I, +T"))))),i.a.createElement(Be,{m:"+",label:"Resources > 0",num_value:this.props.values.NONZERO_RESOURCES_MOD,onInputChange:function(t){return e.reportChange(Se,t)},helperText:"Number to add if planet resource value is greater than 0."}),i.a.createElement(Be,{m:"+",label:"Influence > 0",num_value:this.props.values.NONZERO_INFLUENCE_MOD,onInputChange:function(t){return e.reportChange(Ne,t)},helperText:"Number to add if planet influence value is greater than 0."}),i.a.createElement(Be,{m:"+",label:"Cultural Trait",num_value:this.props.values.TRAIT_CULTURAL_MOD,onInputChange:function(t){return e.reportChange(ge,t)},helperText:"Number to add if the planet has the cultural trait."}),i.a.createElement(Be,{m:"+",label:"Hazardous Trait",num_value:this.props.values.TRAIT_HAZARDOUS_MOD,onInputChange:function(t){return e.reportChange(Te,t)},helperText:"Number to add if the planet has the hazardous trait."}),i.a.createElement(Be,{m:"+",label:"Industrial Trait",num_value:this.props.values.TRAIT_INDUSTRIAL_MOD,onInputChange:function(t){return e.reportChange(we,t)},helperText:"Number to add if the planet has the industrial trait."}),i.a.createElement("h3",null,"System Evaluation"),i.a.createElement(Be,{m:"+",label:"Single Planet System",num_value:this.props.values.SINGLE_PLANET_MOD,onInputChange:function(t){return e.reportChange(xe,t)},helperText:"Number to add if the system has exactly 1 planet."}),i.a.createElement(Be,{m:"+",label:"Multi-planet System",num_value:this.props.values.MULTI_PLANET_MOD,onInputChange:function(t){return e.reportChange(Oe,t)},helperText:"Number to add if the system has more than 1 planet."}),i.a.createElement(Be,{m:"+",label:"Matching Planets System",num_value:this.props.values.MATCHING_PLANETS_MOD,onInputChange:function(t){return e.reportChange(be,t)},helperText:"Number to add if a system has 2 planets with the same trait."}),i.a.createElement(Be,{m:"+",label:"Non-Matching Planets System",num_value:this.props.values.NONMATCHING_PLANETS_MOD,onInputChange:function(t){return e.reportChange(De,t)},helperText:"Number to add if a system has 2 planets with different traits."}),i.a.createElement(Be,{m:"+",label:"Mecatol Rex System",num_value:this.props.values.MECATOL_REX_SYS_MOD,onInputChange:function(t){return e.reportChange(Ce,t)},helperText:"Number to add if the system contains Mecatol Rex."}),i.a.createElement("h3",null,"Home to System Distance Evaluation"),i.a.createElement("h4",null,"Distance Measurement"),i.a.createElement(Be,{m:"+",label:"Distance Base",num_value:this.props.values.DISTANCE_MOD_BASE,onInputChange:function(t){return e.reportChange(Ie,t)},helperText:"Base distance unit for every space moved through."}),i.a.createElement(Be,{m:"+",label:"Moving Through Planet",num_value:this.props.values.DISTANCE_MOD_PLANET,onInputChange:function(t){return e.reportChange(Me,t)},helperText:"Distance modifier for systems with 1 or more planets.",hasNullBox:!0,onNullChange:function(t){return e.reportNullChange(Me,t)}}),i.a.createElement(Be,{m:"+",label:"Moving Through Empty Space",num_value:this.props.values.DISTANCE_MOD_EMPTY,onInputChange:function(t){return e.reportChange(Ae,t)},helperText:"Distance modifier for empty space systems.",hasNullBox:!0,onNullChange:function(t){return e.reportNullChange(Ae,t)}}),i.a.createElement(Be,{m:"+",label:"Moving Through Supernova",num_value:this.props.values.DISTANCE_MOD_SUPERNOVA,onInputChange:function(t){return e.reportChange(ze,t)},helperText:"Distance modifier for supernova systems.",hasNullBox:!0,onNullChange:function(t){return e.reportNullChange(ze,t)}}),i.a.createElement(Be,{m:"+",label:"Moving Through Asteroid",num_value:this.props.values.DISTANCE_MOD_ASTEROID_FIELD,onInputChange:function(t){return e.reportChange(ke,t)},helperText:"Distance modifier for asteroid field systems.",hasNullBox:!0,onNullChange:function(t){return e.reportNullChange(ke,t)}}),i.a.createElement(Be,{m:"+",label:"Moving Through Gravity Rift",num_value:this.props.values.DISTANCE_MOD_GRAVITY_RIFT,onInputChange:function(t){return e.reportChange(Re,t)},helperText:"Distance modifier for gravity rift systems.",hasNullBox:!0,onNullChange:function(t){return e.reportNullChange(Re,t)}}),i.a.createElement(Be,{m:"+",label:"Moving Through Wormholes Without Planets",num_value:this.props.values.DISTANCE_MOD_EMPTY_WORMHOLE,onInputChange:function(t){return e.reportChange(Le,t)},helperText:"Distance modifier for wormhole systems without planets.",hasNullBox:!0,onNullChange:function(t){return e.reportNullChange(Le,t)}}),i.a.createElement(Be,{m:"+",label:"Moving Through Wormholes With a Planet",num_value:this.props.values.DISTANCE_MOD_PLANET_WORMHOLE,onInputChange:function(t){return e.reportChange(Pe,t)},helperText:"Distance modifier for wormhole systems with a planet.",hasNullBox:!0,onNullChange:function(t){return e.reportNullChange(Pe,t)}}),i.a.createElement(Be,{m:"+",label:"Moving Through Nebula",num_value:this.props.values.DISTANCE_MOD_NEBULA,onInputChange:function(t){return e.reportChange(Ue,t)},helperText:"Distance modifier for nebula systems.",hasNullBox:!0,onNullChange:function(t){return e.reportNullChange(Ue,t)}}),i.a.createElement(Be,{m:"+",label:"Moving Through Opponent Adj Sys",num_value:this.props.values.DISTANCE_MOD_ADJACENT_TO_OPPONENT,onInputChange:function(t){return e.reportChange(He,t)},helperText:"Distance modifier for systems adjacent to your opponents' home systems.",hasNullBox:!0,onNullChange:function(t){return e.reportNullChange(He,t)}}),i.a.createElement("h4",null,"System Value Multipliers Based on Modified Distance"),i.a.createElement(Be,{m:"x",label:"Modified Distance of <1",num_value:this.props.values.DISTANCE_MULTIPLIER[0],onInputChange:function(t){return e.reportChange(je,t,0)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 0 or less."}),i.a.createElement(Be,{m:"x",label:"Modified Distance of 1",num_value:this.props.values.DISTANCE_MULTIPLIER[1],onInputChange:function(t){return e.reportChange(je,t,1)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 1."}),i.a.createElement(Be,{m:"x",label:"Modified Distance of 2",num_value:this.props.values.DISTANCE_MULTIPLIER[2],onInputChange:function(t){return e.reportChange(je,t,2)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 2."}),i.a.createElement(Be,{m:"x",label:"Modified Distance of 3",num_value:this.props.values.DISTANCE_MULTIPLIER[3],onInputChange:function(t){return e.reportChange(je,t,3)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 3."}),i.a.createElement(Be,{m:"x",label:"Modified Distance of 4",num_value:this.props.values.DISTANCE_MULTIPLIER[4],onInputChange:function(t){return e.reportChange(je,t,4)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 4."}),i.a.createElement(Be,{m:"x",label:"Modified Distance of 5",num_value:this.props.values.DISTANCE_MULTIPLIER[5],onInputChange:function(t){return e.reportChange(je,t,5)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 5."}),i.a.createElement(Be,{m:"x",label:"Modified Distance of 6",num_value:this.props.values.DISTANCE_MULTIPLIER[6],onInputChange:function(t){return e.reportChange(je,t,6)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 6."}),i.a.createElement(Be,{m:"x",label:"Modified Distance of 7",num_value:this.props.values.DISTANCE_MULTIPLIER[7],onInputChange:function(t){return e.reportChange(je,t,7)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 7."}),i.a.createElement(Be,{m:"x",label:"Modified Distance of 8",num_value:this.props.values.DISTANCE_MULTIPLIER[8],onInputChange:function(t){return e.reportChange(je,t,8)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 8."}),i.a.createElement(Be,{m:"x",label:"Modified Distance of 9",num_value:this.props.values.DISTANCE_MULTIPLIER[9],onInputChange:function(t){return e.reportChange(je,t,9)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 9."}),i.a.createElement(Be,{m:"x",label:"Modified Distance of 10+",num_value:this.props.values.DISTANCE_MULTIPLIER[10],onInputChange:function(t){return e.reportChange(je,t,10)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is greater than 9."})))}}]),t}(i.a.Component);window.jQuery=h.a;var Fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).default_evaluators=A,a.state.values=Object.assign({},a.default_evaluators[0].data),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"changeHandler",value:function(e,t,a){var l=Object.assign(this.state.values);e===je?l[e][a]=t:l[e]=t,this.setState({values:l})}},{key:"setValues",value:function(e){this.setState({values:Object.assign({},e)})}},{key:"isSelectNew",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==e?"new"===e:"new"===this.getSelectValue()}},{key:"getNewStringValue",value:function(){return"new"}},{key:"handleSelectChange",value:function(){var e=this.getSelectValue();if("new"===e)this.setValuesFull(Object.assign({},this.default_evaluators[0]));else{var t=parseInt(e);this.setValuesFull(Object.assign({},this.state.saved_data[t]),e)}}},{key:"setValuesFull",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"new",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===a&&(a=e.data);var l=e.title,s=this.props.subject+" '"+l+"' displayed.";this.setValues(a),this.setState({message:s,input_title:l,selected_item:t.toString()})}},{key:"getCurrentLayoutJSON",value:function(){var e="Untitled Evaluator";return""!==h()("#layout-title").val()&&(e=h()("#layout-title").val()),{title:e,data:Object.assign(this.state.values)}}},{key:"deleteAll",value:function(){d.a.remove(this.props.storage_key),this.setValuesFull(Object.assign({},this.default_evaluators[0])),this.setState({saved_data:d.a.get(this.props.storage_key)||[],selected_item:this.getNewStringValue(),input_title:"",message:"All saved "+this.props.subject_plural+" have been deleted."})}},{key:"deleteCurrent",value:function(){var e=this.getSelectValue(),t=Object.assign([],this.state.saved_data),a=t.splice(parseInt(e),1)[0];d.a.set(this.props.storage_key,t),this.setValuesFull(Object.assign(this.default_evaluators[0])),this.setState({input_title:"",selected_item:this.getNewStringValue(),message:this.props.subject+" '"+a.title+"' deleted.",saved_data:d.a.get(this.props.storage_key)||[]})}},{key:"loadDefault",value:function(e){var t=this.default_evaluators[e],a=t.data,l=t.title,s="Default evaluator '"+l+"' displayed.";this.setValues(a),this.setState({message:s,input_title:l,selected_item:this.getNewStringValue()})}},{key:"addLayoutsFromJSON",value:function(e){if(e.length>0){var t=Object.assign([],this.state.saved_data),a=!0,l=!1,s=void 0;try{for(var n,r=e[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var u=n.value;t.push(u)}}catch(o){l=!0,s=o}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}d.a.set(this.props.storage_key,t),this.setValuesFull(t[t.length-1],t.length-1),this.setState({saved_data:d.a.get(this.props.storage_key)||[],message:"Evaluators loaded.",selected_item:t.length-1,input_title:t[t.length-1].title})}else this.setState({message:"There were no "+this.props.subject_plural+" to load."})}},{key:"render",value:function(){var e=this,t=[i.a.createElement("option",{value:"new",key:"new"},"New Evaluator")],a=!0,l=!1,s=void 0;try{for(var n,r=this.state.saved_data.entries()[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var u=n.value,o=Object(y.a)(u,2),c=o[0],p=o[1];t.push(i.a.createElement("option",{value:c,key:c},p.title))}}catch(g){l=!0,s=g}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}var m=[],h=!0,_=!1,d=void 0;try{for(var v,E=function(){var t=v.value,a=(S=Object(y.a)(t,2))[0],l=S[1];m.push(i.a.createElement("p",{className:"control",key:a},i.a.createElement("button",{className:"button is-small is-link",onClick:function(){return e.loadDefault(a)},key:"default_layout_"+a},l.title)))},f=this.default_evaluators.entries()[Symbol.iterator]();!(h=(v=f.next()).done);h=!0){var S;E()}}catch(g){_=!0,d=g}finally{try{h||null==f.return||f.return()}finally{if(_)throw d}}var N=null;return null!==this.state.message&&""!==this.state.message&&(N=i.a.createElement("blockquote",null,this.state.message)),i.a.createElement("div",{className:"block"},i.a.createElement("h2",{className:"title is-size-4"},"Evaluator Editor"),i.a.createElement("div",{className:"block map-lab-control-panel"},i.a.createElement("div",{className:"field is-horizontal"},i.a.createElement("div",{className:"field-label"},i.a.createElement("label",{className:"label"},"Default Evaluators:")),i.a.createElement("div",{className:"field-body"},i.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},m))),i.a.createElement("div",{className:"field is-horizontal"},i.a.createElement("div",{className:"field-label"},i.a.createElement("label",{className:"label"},"Saved Evaluators:")),i.a.createElement("div",{className:"field-body"},i.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},i.a.createElement("p",{className:"control"},i.a.createElement("span",{className:"select is-small"},i.a.createElement("select",{id:"layout-select",value:this.state.selected_item,onChange:function(){return e.handleSelectChange()}},t))),i.a.createElement("p",{className:"control"},i.a.createElement(se,{title:"Download All",getDownloadInfo:function(){return e.getAllLayoutJSONFileInfo()},className:"button is-small"})),i.a.createElement("p",{className:"control"},i.a.createElement("button",{onClick:function(){return e.deleteAll()},className:"button is-small"},"Delete All")),i.a.createElement("p",{className:"control"},i.a.createElement(ne,{id:"layout-json-upload",title:"Upload",handleJSON:function(t){return e.addLayoutsFromJSON(t)},className:"button is-small"}))))),i.a.createElement("div",{className:"field is-horizontal"},i.a.createElement("div",{className:"field-label"},i.a.createElement("label",{className:"label"},"Evaluator Title:")),i.a.createElement("div",{className:"field-body"},i.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},i.a.createElement("p",{className:"control"},i.a.createElement("input",{type:"text",id:"layout-title",value:this.state.input_title,className:"input is-small",onChange:function(){this.setState({input_title:document.getElementById("layout-title").value,message:""})}.bind(this)})),i.a.createElement("p",{className:"control"},i.a.createElement("button",{className:"button is-small",onClick:function(){return e.saveCurrent()}},"Save")),i.a.createElement("p",{className:"control"},i.a.createElement("button",{className:"button is-small",onClick:function(){return e.handleSelectChange()}},"Reset")),i.a.createElement("p",{className:"control"},i.a.createElement("button",{onClick:function(){return e.deleteCurrent()},disabled:this.isSelectNew(this.state.selected_item),className:"button is-small"},"Delete")),i.a.createElement("p",{className:"control"},i.a.createElement(se,{title:"Download",getDownloadInfo:function(){return e.getCurrentLayoutJSONFileInfo()},className:"button is-small"}))))),i.a.createElement("div",{className:"block content for-message"},N)),i.a.createElement(We,{values:this.state.values,changeHandler:function(t,a,l){return e.changeHandler(t,a,l)}}))}}]),t}(ue);window.jQuery=h.a;var Ye={MAP_EDITOR:1,LAYOUT_EDITOR:2,SYSTEM_EVALUATOR:3,INSTRUCTIONS:4};var Ve=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).state={active_screen:Ye.MAP_EDITOR},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"changeScreen",value:function(e){this.setState({active_screen:e})}},{key:"render",value:function(){var e=this,t=null;switch(this.state.active_screen){case Ye.MAP_EDITOR:t=i.a.createElement(ie,{storage_key:"maps",subject:"Map",subject_plural:"Maps",layout_storage_key:"layouts",eval_storage_key:"evaluators"});break;case Ye.LAYOUT_EDITOR:t=i.a.createElement(ce,{storage_key:"layouts",subject:"Layout",subject_plural:"Layouts"});break;case Ye.SYSTEM_EVALUATOR:t=i.a.createElement(Fe,{storage_key:"evaluators",subject:"Evaluator",subject_plural:"Evaluators"});break;case Ye.INSTRUCTIONS:t=i.a.createElement("div",{class:"block content"},i.a.createElement("h2",null,"Instructions"),i.a.createElement("p",null,"Yo."))}return i.a.createElement("div",{className:"block map-lab"},i.a.createElement("nav",{className:"navbar is-primary"},i.a.createElement("div",{className:"navbar-brand"},i.a.createElement("h1",{className:"title is-3 is-marginless"},"TI4 Map Lab"),i.a.createElement("a",{role:"button",className:"navbar-burger is-","aria-label":"menu","aria-expanded":"false",onClick:function(){return h()(".navbar-burger").toggleClass("is-active"),void h()(".navbar-menu").toggleClass("is-active")}},i.a.createElement("span",{"aria-hidden":"true"}),i.a.createElement("span",{"aria-hidden":"true"}),i.a.createElement("span",{"aria-hidden":"true"}))),i.a.createElement("div",{className:"navbar-menu"},i.a.createElement("div",{className:"navbar-start"}),i.a.createElement("div",{className:"navbar-end"},i.a.createElement("a",{role:"button",disabled:this.state.active_screen===Ye.INSTRUCTIONS,onClick:function(){return e.changeScreen(Ye.INSTRUCTIONS)},className:"navbar-item"},"Instructions"),i.a.createElement("a",{role:"button",disabled:this.state.active_screen===Ye.MAP_EDITOR,onClick:function(){return e.changeScreen(Ye.MAP_EDITOR)},className:"navbar-item"},"Map Editor"),i.a.createElement("a",{role:"button",disabled:this.state.active_screen===Ye.LAYOUT_EDITOR,onClick:function(){return e.changeScreen(Ye.LAYOUT_EDITOR)},className:"navbar-item"},"Layout Editor"),i.a.createElement("a",{role:"button",disabled:this.state.active_screen===Ye.SYSTEM_EVALUATOR,onClick:function(){return e.changeScreen(Ye.SYSTEM_EVALUATOR)},className:"navbar-item"},"System Evaluator")))),t,i.a.createElement("div",{className:"block footer"},"This is a fan project by J. Arthur Ellis.\xa0",i.a.createElement("a",{href:"https://twitter.com/joepinion"},"@joepinion"),i.a.createElement("br",null),i.a.createElement("a",{href:"https://www.github.com/joepinion/ti4-map-lab"},"github.com/joepinion/ti4-map-lab")))}}]),t}(i.a.Component);p.a.render(i.a.createElement(Ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e){e.exports=JSON.parse('[{"title":"Simple Slice","data":{"BASE_PLANET_MOD":0,"RESOURCES_MULTIPLIER":3,"INFLUENCE_MULTIPLIER":2,"TECH_MOD":3,"TECH_PROPULSION_MOD":0,"TECH_WARFARE_MOD":0,"TECH_BIOTIC_MOD":0,"TECH_CYBERNETIC_MOD":0,"PLANET_STRATEGY":1,"NONZERO_RESOURCES_MOD":0,"NONZERO_INFLUENCE_MOD":0,"TRAIT_CULTURAL_MOD":0,"TRAIT_HAZARDOUS_MOD":0,"TRAIT_INDUSTRIAL_MOD":0,"SINGLE_PLANET_MOD":0,"MULTI_PLANET_MOD":0,"MATCHING_PLANETS_MOD":0,"NONMATCHING_PLANETS_MOD":0,"MECATOL_REX_SYS_MOD":3,"DISTANCE_MOD_BASE":1,"DISTANCE_MOD_PLANET":0,"DISTANCE_MOD_EMPTY":0,"DISTANCE_MOD_SUPERNOVA":false,"DISTANCE_MOD_ASTEROID_FIELD":1,"DISTANCE_MOD_GRAVITY_RIFT":0,"DISTANCE_MOD_EMPTY_WORMHOLE":0,"DISTANCE_MOD_PLANET_WORMHOLE":0,"DISTANCE_MOD_NEBULA":1,"DISTANCE_MOD_ADJACENT_TO_OPPONENT":10,"DISTANCE_MULTIPLIER":[4,4,2,1,0,0,0,0,0,0,0]}},{"title":"Joebrew","data":{"BASE_PLANET_MOD":-1,"RESOURCES_MULTIPLIER":3,"INFLUENCE_MULTIPLIER":2,"TECH_MOD":5,"TECH_PROPULSION_MOD":0,"TECH_WARFARE_MOD":0,"TECH_BIOTIC_MOD":0,"TECH_CYBERNETIC_MOD":0,"PLANET_STRATEGY":2,"NONZERO_RESOURCES_MOD":1,"NONZERO_INFLUENCE_MOD":1,"TRAIT_CULTURAL_MOD":0,"TRAIT_HAZARDOUS_MOD":0,"TRAIT_INDUSTRIAL_MOD":0,"SINGLE_PLANET_MOD":0,"MULTI_PLANET_MOD":1,"MATCHING_PLANETS_MOD":1,"NONMATCHING_PLANETS_MOD":0,"MECATOL_REX_SYS_MOD":4,"DISTANCE_MOD_BASE":2,"DISTANCE_MOD_PLANET":0,"DISTANCE_MOD_EMPTY":0,"DISTANCE_MOD_SUPERNOVA":false,"DISTANCE_MOD_ASTEROID_FIELD":1,"DISTANCE_MOD_GRAVITY_RIFT":0,"DISTANCE_MOD_EMPTY_WORMHOLE":1,"DISTANCE_MOD_PLANET_WORMHOLE":0,"DISTANCE_MOD_NEBULA":1,"DISTANCE_MOD_ADJACENT_TO_OPPONENT":2,"DISTANCE_MULTIPLIER":[6,6,6,4,3,2,1,0,0,0,0]}},{"title":"Resource Access","data":{"BASE_PLANET_MOD":0,"RESOURCES_MULTIPLIER":1,"INFLUENCE_MULTIPLIER":0,"TECH_MOD":0,"TECH_PROPULSION_MOD":0,"TECH_WARFARE_MOD":0,"TECH_BIOTIC_MOD":0,"TECH_CYBERNETIC_MOD":0,"PLANET_STRATEGY":1,"NONZERO_RESOURCES_MOD":0,"NONZERO_INFLUENCE_MOD":0,"TRAIT_CULTURAL_MOD":0,"TRAIT_HAZARDOUS_MOD":0,"TRAIT_INDUSTRIAL_MOD":0,"SINGLE_PLANET_MOD":0,"MULTI_PLANET_MOD":0,"MATCHING_PLANETS_MOD":0,"NONMATCHING_PLANETS_MOD":0,"MECATOL_REX_SYS_MOD":0,"DISTANCE_MOD_BASE":1,"DISTANCE_MOD_PLANET":0,"DISTANCE_MOD_EMPTY":0,"DISTANCE_MOD_SUPERNOVA":false,"DISTANCE_MOD_ASTEROID_FIELD":1,"DISTANCE_MOD_GRAVITY_RIFT":0,"DISTANCE_MOD_EMPTY_WORMHOLE":0,"DISTANCE_MOD_PLANET_WORMHOLE":0,"DISTANCE_MOD_NEBULA":1,"DISTANCE_MOD_ADJACENT_TO_OPPONENT":1,"DISTANCE_MULTIPLIER":[5,5,3,1,0,0,0,0,0,0,0]}},{"title":"Influence Access","data":{"BASE_PLANET_MOD":0,"RESOURCES_MULTIPLIER":0,"INFLUENCE_MULTIPLIER":1,"TECH_MOD":0,"TECH_PROPULSION_MOD":0,"TECH_WARFARE_MOD":0,"TECH_BIOTIC_MOD":0,"TECH_CYBERNETIC_MOD":0,"PLANET_STRATEGY":1,"NONZERO_RESOURCES_MOD":0,"NONZERO_INFLUENCE_MOD":0,"TRAIT_CULTURAL_MOD":0,"TRAIT_HAZARDOUS_MOD":0,"TRAIT_INDUSTRIAL_MOD":0,"SINGLE_PLANET_MOD":0,"MULTI_PLANET_MOD":0,"MATCHING_PLANETS_MOD":0,"NONMATCHING_PLANETS_MOD":0,"MECATOL_REX_SYS_MOD":0,"DISTANCE_MOD_BASE":1,"DISTANCE_MOD_PLANET":0,"DISTANCE_MOD_EMPTY":0,"DISTANCE_MOD_SUPERNOVA":false,"DISTANCE_MOD_ASTEROID_FIELD":1,"DISTANCE_MOD_GRAVITY_RIFT":0,"DISTANCE_MOD_EMPTY_WORMHOLE":0,"DISTANCE_MOD_PLANET_WORMHOLE":0,"DISTANCE_MOD_NEBULA":1,"DISTANCE_MOD_ADJACENT_TO_OPPONENT":1,"DISTANCE_MULTIPLIER":[5,5,3,1,0,0,0,0,0,0,0]}},{"title":"Tech Access","data":{"BASE_PLANET_MOD":0,"RESOURCES_MULTIPLIER":0,"INFLUENCE_MULTIPLIER":0,"TECH_MOD":1,"TECH_PROPULSION_MOD":0,"TECH_WARFARE_MOD":0,"TECH_BIOTIC_MOD":0,"TECH_CYBERNETIC_MOD":0,"PLANET_STRATEGY":1,"NONZERO_RESOURCES_MOD":0,"NONZERO_INFLUENCE_MOD":0,"TRAIT_CULTURAL_MOD":0,"TRAIT_HAZARDOUS_MOD":0,"TRAIT_INDUSTRIAL_MOD":0,"SINGLE_PLANET_MOD":0,"MULTI_PLANET_MOD":0,"MATCHING_PLANETS_MOD":0,"NONMATCHING_PLANETS_MOD":0,"MECATOL_REX_SYS_MOD":0,"DISTANCE_MOD_BASE":1,"DISTANCE_MOD_PLANET":0,"DISTANCE_MOD_EMPTY":0,"DISTANCE_MOD_SUPERNOVA":false,"DISTANCE_MOD_ASTEROID_FIELD":1,"DISTANCE_MOD_GRAVITY_RIFT":0,"DISTANCE_MOD_EMPTY_WORMHOLE":0,"DISTANCE_MOD_PLANET_WORMHOLE":0,"DISTANCE_MOD_NEBULA":1,"DISTANCE_MOD_ADJACENT_TO_OPPONENT":1,"DISTANCE_MULTIPLIER":[5,5,3,1,0,0,0,0,0,0,0]}}]')}},[[17,1,2]]]);
//# sourceMappingURL=main.0fa71690.chunk.js.map