(window["webpackJsonpti4-map-lab"]=window["webpackJsonpti4-map-lab"]||[]).push([[0],{10:function(e){e.exports=JSON.parse('[{"x":0,"y":1,"z":-1},{"x":1,"y":0,"z":-1},{"x":1,"y":-1,"z":0},{"x":0,"y":-1,"z":1},{"x":-1,"y":0,"z":1},{"x":-1,"y":1,"z":0},{"x":0,"y":2,"z":-2},{"x":1,"y":1,"z":-2},{"x":2,"y":0,"z":-2},{"x":2,"y":-1,"z":-1},{"x":2,"y":-2,"z":0},{"x":1,"y":-2,"z":1},{"x":0,"y":-2,"z":2},{"x":-1,"y":-1,"z":2},{"x":-2,"y":0,"z":2},{"x":-2,"y":1,"z":1},{"x":-2,"y":2,"z":0},{"x":-1,"y":2,"z":-1},{"x":0,"y":3,"z":-3},{"x":1,"y":2,"z":-3},{"x":2,"y":1,"z":-3},{"x":3,"y":0,"z":-3},{"x":3,"y":-1,"z":-2},{"x":3,"y":-2,"z":-1},{"x":3,"y":-3,"z":0},{"x":2,"y":-3,"z":1},{"x":1,"y":-3,"z":2},{"x":0,"y":-3,"z":3},{"x":-1,"y":-2,"z":3},{"x":-2,"y":-1,"z":3},{"x":-3,"y":0,"z":3},{"x":-3,"y":1,"z":2},{"x":-3,"y":2,"z":1},{"x":-3,"y":3,"z":0},{"x":-2,"y":3,"z":-1},{"x":-1,"y":3,"z":-2}]')},16:function(e){e.exports=JSON.parse('[{"title":"6-Player","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":2,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":null,"type":2,"system":null}]},{"title":"5-Player Standard","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":null,"type":2,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":2,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":null,"type":2,"system":null}]},{"title":"5-Player Skinny","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":4,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":2,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":4,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":null,"type":4,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":null,"type":4,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":null,"type":2,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":2,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":4,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":4,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":null,"type":2,"system":null}]},{"title":"5-Player Warp","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":5,"type":5,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":13,"type":5,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":11,"type":5,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":4,"type":5,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":2,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":7,"type":5,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":5,"type":5,"system":null}]},{"title":"4-Player Standard","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":null,"type":2,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":null,"type":2,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":null,"type":2,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":2,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":null,"type":1,"system":null}]},{"title":"4-Player Skinny","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":4,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":4,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":2,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":null,"type":4,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":null,"type":4,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":null,"type":4,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":null,"type":2,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":null,"type":4,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":4,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":null,"type":4,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":4,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":2,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":null,"type":4,"system":null}]},{"title":"4-Player Warp","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":6,"type":5,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":5,"type":5,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":13,"type":5,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":14,"type":5,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":10,"type":5,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":11,"type":5,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":4,"type":5,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":7,"type":5,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":4,"type":5,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":6,"type":5,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":2,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":7,"type":5,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":5,"type":5,"system":null}]},{"title":"3-Player Standard","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":4,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":4,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":4,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":null,"type":4,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":null,"type":4,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":4,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":null,"type":4,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":4,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":4,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":null,"type":2,"system":null}]},{"title":"3-Player Settlers","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":2,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":2,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":4,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":4,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":4,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":null,"type":4,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":null,"type":4,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":null,"type":4,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":null,"type":4,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":null,"type":4,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":null,"type":4,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":null,"type":4,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":null,"type":4,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":null,"type":4,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":4,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":null,"type":4,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":4,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":4,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":null,"type":4,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":null,"type":4,"system":null}]},{"title":"3-Player Warp","data":[{"x":0,"y":0,"z":0,"warp_spaces":null,"type":3,"system":{"id":18,"planets":["Mecatol Rex"],"anomaly":null,"wormhole":null}},{"x":1,"y":-1,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":0,"z":-1,"warp_spaces":8,"type":5,"system":null},{"x":-1,"y":1,"z":0,"warp_spaces":3,"type":5,"system":null},{"x":0,"y":1,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":0,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":-1,"z":1,"warp_spaces":5,"type":5,"system":null},{"x":2,"y":-2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-1,"z":-1,"warp_spaces":9,"type":5,"system":null},{"x":1,"y":-2,"z":1,"warp_spaces":13,"type":5,"system":null},{"x":2,"y":0,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":1,"y":1,"z":-2,"warp_spaces":11,"type":5,"system":null},{"x":-2,"y":2,"z":0,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":2,"z":-1,"warp_spaces":13,"type":5,"system":null},{"x":-2,"y":1,"z":1,"warp_spaces":9,"type":5,"system":null},{"x":0,"y":2,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-2,"y":0,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-1,"z":2,"warp_spaces":11,"type":5,"system":null},{"x":0,"y":-2,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-3,"z":0,"warp_spaces":null,"type":2,"system":null},{"x":3,"y":-2,"z":-1,"warp_spaces":null,"type":1,"system":null},{"x":2,"y":-3,"z":1,"warp_spaces":null,"type":1,"system":null},{"x":3,"y":-1,"z":-2,"warp_spaces":1,"type":5,"system":null},{"x":1,"y":-3,"z":2,"warp_spaces":4,"type":5,"system":null},{"x":3,"y":0,"z":-3,"warp_spaces":8,"type":5,"system":null},{"x":2,"y":1,"z":-3,"warp_spaces":7,"type":5,"system":null},{"x":1,"y":2,"z":-3,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":3,"z":0,"warp_spaces":3,"type":5,"system":null},{"x":-2,"y":3,"z":-1,"warp_spaces":4,"type":5,"system":null},{"x":-3,"y":2,"z":1,"warp_spaces":1,"type":5,"system":null},{"x":-1,"y":3,"z":-2,"warp_spaces":null,"type":1,"system":null},{"x":-3,"y":1,"z":2,"warp_spaces":null,"type":1,"system":null},{"x":0,"y":3,"z":-3,"warp_spaces":null,"type":2,"system":null},{"x":-3,"y":0,"z":3,"warp_spaces":null,"type":2,"system":null},{"x":-2,"y":-1,"z":3,"warp_spaces":null,"type":1,"system":null},{"x":-1,"y":-2,"z":3,"warp_spaces":7,"type":5,"system":null},{"x":0,"y":-3,"z":3,"warp_spaces":5,"type":5,"system":null}]}]')},17:function(e,t,a){e.exports=a(25)},22:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var l=a(1),s=a(2),n=a(4),r=a(3),o=a(5),i=a(0),u=a.n(i),c=a(15),p=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(22);var y=a(7),m=a(8),h=a.n(m),_=a(6),d=a.n(_),v=0,f=1,E=2,S=0,N=1,g=2,w=3,T=0,x=1,b=2,O=3,D=0,C=1,I=[{name:"Mecatol Rex",trait:null,tech_specialty:null,resources:1,influence:6},{name:"Abyz",trait:v,tech_specialty:null,resources:3,influence:0},{name:"Fria",trait:v,tech_specialty:null,resources:2,influence:0},{name:"Arinam",trait:f,tech_specialty:null,resources:1,influence:2},{name:"Meer",trait:v,tech_specialty:N,resources:0,influence:4},{name:"Arnor",trait:f,tech_specialty:null,resources:1,influence:2},{name:"Lor",trait:f,tech_specialty:null,resources:2,influence:1},{name:"Bereg",trait:v,tech_specialty:null,resources:3,influence:1},{name:"Lirta IV",trait:v,tech_specialty:null,resources:2,influence:3},{name:"Centauri",trait:E,tech_specialty:null,resources:1,influence:3},{name:"Gral",trait:f,tech_specialty:g,resources:1,influence:1},{name:"Corneeq",trait:E,tech_specialty:null,resources:1,influence:2},{name:"Resculon",trait:E,tech_specialty:null,resources:2,influence:0},{name:"Dal Bootha",trait:E,tech_specialty:null,resources:0,influence:2},{name:"Xxehan",trait:E,tech_specialty:null,resources:1,influence:1},{name:"Lazar",trait:f,tech_specialty:w,resources:1,influence:0},{name:"Sakulag",trait:v,tech_specialty:null,resources:2,influence:1},{name:"Lodor",trait:f,tech_specialty:null,resources:3,influence:1},{name:"Mehar Xull",trait:v,tech_specialty:N,resources:1,influence:3},{name:"Mellon",trait:E,tech_specialty:null,resources:0,influence:2},{name:"Zohbat",trait:v,tech_specialty:null,resources:3,influence:1},{name:"New Albion",trait:f,tech_specialty:S,resources:1,influence:1},{name:"Starpoint",trait:v,tech_specialty:null,resources:3,influence:1},{name:"Quann",trait:E,tech_specialty:null,resources:2,influence:1},{name:"Qucen'n",trait:f,tech_specialty:null,resources:1,influence:2},{name:"Rarron",trait:E,tech_specialty:null,resources:0,influence:3},{name:"Saudor",trait:f,tech_specialty:null,resources:2,influence:2},{name:"Tar'Mann",trait:f,tech_specialty:S,resources:1,influence:1},{name:"Tequ'ran",trait:v,tech_specialty:null,resources:2,influence:0},{name:"Torkan",trait:E,tech_specialty:null,resources:0,influence:3},{name:"Thibah",trait:f,tech_specialty:g,resources:1,influence:1},{name:"Vefut II",trait:v,tech_specialty:null,resources:2,influence:2},{name:"Wellon",trait:f,tech_specialty:w,resources:1,influence:2}],M=[{id:18,planets:["Mecatol Rex"],anomaly:null,wormhole:null},{id:39,planets:[],anomaly:null,wormhole:D},{id:43,planets:[],anomaly:O,wormhole:null},{id:46,planets:[],anomaly:null,wormhole:null},{id:49,planets:[],anomaly:null,wormhole:null},{id:44,planets:[],anomaly:b,wormhole:null},{id:40,planets:[],anomaly:null,wormhole:C},{id:48,planets:[],anomaly:null,wormhole:null},{id:45,planets:[],anomaly:b,wormhole:null},{id:47,planets:[],anomaly:null,wormhole:null},{id:42,planets:[],anomaly:T,wormhole:null},{id:50,planets:[],anomaly:null,wormhole:null},{id:41,planets:[],anomaly:x,wormhole:null},{id:32,planets:["Dal Bootha","Xxehan"],anomaly:null,wormhole:null},{id:26,planets:["Lodor"],anomaly:null,wormhole:D},{id:29,planets:["Qucen'n","Rarron"],anomaly:null,wormhole:null},{id:38,planets:["Abyz","Fria"],anomaly:null,wormhole:null},{id:22,planets:["Tar'Mann"],anomaly:null,wormhole:null},{id:21,planets:["Thibah"],anomaly:null,wormhole:null},{id:33,planets:["Corneeq","Resculon"],anomaly:null,wormhole:null},{id:19,planets:["Wellon"],anomaly:null,wormhole:null},{id:28,planets:["Tequ'ran","Torkan"],anomaly:null,wormhole:null},{id:24,planets:["Mehar Xull"],anomaly:null,wormhole:null},{id:37,planets:["Arinam","Meer"],anomaly:null,wormhole:null},{id:30,planets:["Mellon","Zohbat"],anomaly:null,wormhole:null},{id:20,planets:["Vefut II"],anomaly:null,wormhole:null},{id:27,planets:["New Albion","Starpoint"],anomaly:null,wormhole:null},{id:23,planets:["Saudor"],anomaly:null,wormhole:null},{id:31,planets:["Lazar","Sakulag"],anomaly:null,wormhole:null},{id:35,planets:["Bereg","Lirta IV"],anomaly:null,wormhole:null},{id:34,planets:["Centauri","Gral"],anomaly:null,wormhole:null},{id:36,planets:["Arnor","Lor"],anomaly:null,wormhole:null},{id:25,planets:["Quann"],anomaly:null,wormhole:C}],A=a(9),z=a(10),k=a(11),R={NORTH:{x:0,y:1,z:-1},NORTHEAST:{x:1,y:0,z:-1},SOUTHEAST:{x:1,y:-1,z:0},SOUTH:{x:0,y:-1,z:1},SOUTHWEST:{x:-1,y:0,z:1},NORTHWEST:{x:-1,y:1,z:0}},L=[[[R.NORTH,R.SOUTHEAST]],[[R.NORTH,R.SOUTH]],[[R.NORTH,R.SOUTHWEST]],[[R.NORTHEAST,R.SOUTH]],[[R.NORTHEAST,R.SOUTHWEST]],[[R.NORTHEAST,R.NORTHWEST]],[[R.SOUTHEAST,R.SOUTHWEST]],[[R.SOUTHEAST,R.NORTHWEST]],[[R.SOUTH,R.NORTHWEST]],[[R.NORTH,R.SOUTHEAST],[R.NORTH,R.SOUTH],[R.NORTH,R.SOUTHWEST]],[[R.NORTHEAST,R.NORTHWEST],[R.NORTHEAST,R.SOUTH],[R.NORTHEAST,R.SOUTHWEST]],[[R.SOUTHEAST,R.NORTH],[R.SOUTHEAST,R.NORTHWEST],[R.SOUTHEAST,R.SOUTHWEST]],[[R.SOUTH,R.NORTH],[R.SOUTH,R.NORTHWEST],[R.SOUTH,R.NORTHEAST]],[[R.SOUTHWEST,R.NORTH],[R.SOUTHWEST,R.NORTHEAST],[R.SOUTHWEST,R.SOUTHEAST]],[[R.NORTHWEST,R.SOUTHEAST],[R.NORTHWEST,R.SOUTH],[R.NORTHWEST,R.NORTHEAST]]];function P(){return window.innerWidth>=1024?110:window.innerWidth>=769?80:55}var U=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"getSelectValue",value:function(){var e=document.getElementById("system-bank-select");return e.options[e.selectedIndex].value}},{key:"handleSelectChange",value:function(){var e=this.getSelectValue();"none"===e?this.props.setActiveSystem(null):this.props.setActiveSystem(this.props.systems.getSystemByID(parseInt(e)))}},{key:"selectNoSystems",value:function(){this.props.setActiveSystem(null)}},{key:"render",value:function(){var e=this,t=P(),a=[u.a.createElement("option",{value:"none",key:"sys_none"},"(none)")],l=!0,s=!1,n=void 0;try{for(var r,o=this.props.systems.systems[Symbol.iterator]();!(l=(r=o.next()).done);l=!0){var i=r.value;a.push(u.a.createElement("option",{value:i.id,key:"sys_"+i.id},i.getStringName()))}}catch(y){s=!0,n=y}finally{try{l||null==o.return||o.return()}finally{if(s)throw n}}var c="none",p=u.a.createElement("span",{className:"hex-container"});return null!==this.props.active_system&&(c=this.props.active_system.id,p=u.a.createElement(V,{system:this.props.active_system,format:this.props.system_format,posStyle:{position:"relative"},onClick:function(){},hexSize:t,draggable:!0,onDrag:function(t){return e.props.onSelectedSystemDrag(t)},onDragEnd:function(t){return e.props.onSystemDragEnd(t)},onDrop:function(t){return e.props.onSystemDropped(t)},eval_variables:this.props.eval_variables})),u.a.createElement("div",{className:"system-bank field",onDragOver:function(e){e.preventDefault()},onDrop:function(t){return e.props.onSystemDropped(t)}},u.a.createElement("label",{className:"label"},"System Bank"),u.a.createElement("p",{className:"control"},u.a.createElement("span",{className:"select is-small"},u.a.createElement("select",{id:"system-bank-select",value:c,onChange:function(){return e.handleSelectChange()}},a))),u.a.createElement("p",{className:"control"},u.a.createElement("button",{disabled:null===this.props.active_system,onClick:function(){return e.selectNoSystems()},className:"button is-small"},"Select None")),u.a.createElement("div",{className:"control"},p))}}]),t}(u.a.Component),H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).state={system_format:a.props.system_format,hexSize:P()},a.system_box=a.props.system_box,a}return Object(o.a)(t,e),Object(s.a)(t,[{key:"updateDimensions",value:function(){this.setState(Object.assign({},this.state,{hexSize:P()}))}},{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions.bind(this))}},{key:"render",value:function(){var e=this,t=this.state.hexSize,a=.866*t*7+36,l=5.5*t+36,s=l/2,n=a/2,r=[],o=!0,i=!1,c=void 0;try{for(var p,m=function(){var a=p.value,l=(_=Object(y.a)(a,2))[0],o=_[1],i=!1;o.type===j.SYSTEM&&e.props.systems_draggable&&(o.system.isMecatolRexSystem()||(i=!0));var c=null;o.type===j.HOME&&null!==e.props.home_values&&e.props.home_values&&l.toString()in e.props.home_values&&(c=e.props.home_values[l.toString()]),r.push(u.a.createElement(W,{space:o,key:"map_space_"+l,system_format:e.props.system_format,onClick:function(){return e.props.clickedSpace(l)},hexSize:t,mapCenterH:s,mapCenterV:n,draggable:i,onDrag:function(t){return e.props.onSystemDrag(t,o.system)},onDragEnd:function(t){return e.props.onSystemDragEnd(t)},onDrop:function(t){e.props.systems_draggable&&e.props.onSystemDropped(t,l)},eval_variables:e.props.eval_variables,home_value:c}))},h=this.props.map.spaces.entries()[Symbol.iterator]();!(o=(p=h.next()).done);o=!0){var _;m()}}catch(v){i=!0,c=v}finally{try{o||null==h.return||h.return()}finally{if(i)throw c}}var d={width:l+"px",height:a+"px"};return u.a.createElement("div",{className:"map "+this.props.map_class,style:d},r)}}]),t}(u.a.Component),j={OPEN:1,HOME:2,SYSTEM:3,CLOSED:4,WARP:5},B=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"onDrop",value:function(e){this.props.onDrop&&this.props.onDrop(e)}},{key:"render",value:function(){var e=this,t=this.props.hexSize;return u.a.createElement("div",{className:"hex-container",style:this.props.posStyle,draggable:this.props.draggable,onDragStart:function(t){return e.props.onDrag(t)},onDragEnd:function(t){return e.props.onDragEnd(t)}},u.a.createElement("svg",{className:"shape-container"},u.a.createElement("polygon",{onClick:function(){return e.props.onClick()},className:"hexagon "+this.props.hexClass,points:t+", "+.433*t+" "+.75*t+", "+.866*t+" "+.25*t+", "+.866*t+" 0, "+.433*t+" "+.25*t+", 0 "+.75*t+", 0"}),this.props.svgElements),u.a.createElement("div",{className:"hex-content "+this.props.hexClass,onClick:function(){return e.props.onClick()},onDragOver:function(e){e.preventDefault()},onDrop:function(t){return e.onDrop(t)}},this.props.children))}}]),t}(u.a.Component),W=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"getPositionStyle",value:function(){var e=this.props.hexSize,t=this.props.mapCenterH,a=this.props.mapCenterV,l=.5*e*.866,s=.5*e,n=this.props.space.x,r=this.props.space.y,o=this.props.space.z;return{left:t-s+(n*e*.75/2+6*n*.5)+(-r*e*.75/2-6*r*.5)+(-o*e*.75/2-6*o*.5)+"px",top:a-l+0+(.866*e/2*-r-3*r)+(o*(.866*e/2)+3*o)+"px"}}},{key:"render",value:function(){var e=this,t=null,a=this.props.space.type,l=this.getPositionStyle();switch(a){case j.OPEN:t=u.a.createElement(B,{onClick:function(){return e.props.onClick()},posStyle:l,hexSize:this.props.hexSize,hexClass:"open",onDrop:function(t){return e.props.onDrop(t)}},"+");break;case j.HOME:var s="H";null!==this.props.home_value&&(s=this.props.home_value),t=u.a.createElement(B,{onClick:function(){return e.props.onClick()},posStyle:l,hexSize:this.props.hexSize,hexClass:"home"},s);break;case j.SYSTEM:t=u.a.createElement(V,{system:this.props.space.system,format:this.props.system_format,posStyle:l,onClick:function(){return e.props.onClick()},hexSize:this.props.hexSize,draggable:this.props.draggable,onDrag:function(t){return e.props.onDrag(t)},onDragEnd:function(t){return e.props.onDragEnd(t)},onDrop:function(t){return e.props.onDrop(t)},eval_variables:this.props.eval_variables});break;case j.CLOSED:t=u.a.createElement(B,{onClick:function(){return e.props.onClick()},posStyle:l,hexSize:this.props.hexSize,hexClass:"closed"});break;case j.WARP:t=u.a.createElement(F,{posStyle:l,onClick:function(){return e.props.onClick()},warps:this.props.space.warp_spaces,hexSize:this.props.hexSize})}return t}}]),t}(u.a.Component),F=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"get_endpoint_coords",value:function(e,t){switch(e){case R.NORTH:return{x:.5*t,y:0};case R.NORTHEAST:return{x:t*(7/8),y:.866*t*.25};case R.SOUTHEAST:return{x:t*(7/8),y:.866*t*.75};case R.SOUTH:return{x:.5*t,y:.866*t};case R.SOUTHWEST:return{x:t*(1/8),y:.866*t*.75};case R.NORTHWEST:return{x:t*(1/8),y:.866*t*.25};default:return{x:0,y:0}}}},{key:"render",value:function(){var e=this,t=this.props.posStyle,a=[],l=this.props.hexSize,s=!0,n=!1,r=void 0;try{for(var o,i=L[this.props.warps].entries()[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var c=o.value,p=Object(y.a)(c,2),m=p[0],h=p[1],_=this.get_endpoint_coords(h[0],l),d=this.get_endpoint_coords(h[1],l);a.push(u.a.createElement("line",{className:"warp-line",x1:_.x,y1:_.y,x2:d.x,y2:d.y,onClick:function(){return e.props.onClick()},key:"warp_line_"+m}))}}catch(v){n=!0,r=v}finally{try{s||null==i.return||i.return()}finally{if(n)throw r}}return u.a.createElement(B,{onClick:function(){return e.props.onClick()},posStyle:t,hexSize:this.props.hexSize,hexClass:"warp",svgElements:a})}}]),t}(u.a.Component),Y={STREAMLINED:0,STREAMLINED_WITH_NAME:1,COLORBLIND_FRIENDLY:2,COLORBLIND_FRIENDLY_WITH_NAME:3,ID_ONLY:4},V=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.system,a=this.props.format,l=this.props.posStyle,s=null,n=u.a.createElement("div",{className:"id"},t.id),r=[],o=null;if(this.props.eval_variables&&t.isBlue()&&(o=u.a.createElement("div",{className:"value"},"=",t.evaluate(this.props.eval_variables))),null!==t.wormhole)switch(t.wormhole){case D:r.push(u.a.createElement("div",{className:"wormhole alpha",key:"alpha_wh"},"a"));break;case C:r.push(u.a.createElement("div",{className:"wormhole beta",key:"alpha_wh"},"b"))}if(null!==t.anomaly)switch(t.anomaly){case O:r.push(u.a.createElement("div",{className:"supernova",key:"supernova"}));break;case x:r.push(u.a.createElement("div",{className:"gravity-rift",key:"gravity-rift"}));break;case T:r.push(u.a.createElement("div",{className:"nebula",key:"nebula"}));break;case b:r.push(u.a.createElement("div",{className:"asteroid-field",key:"asteroid-field"},u.a.createElement("div",{className:"asteroid a"}),u.a.createElement("div",{className:"asteroid b"}),u.a.createElement("div",{className:"asteroid c"}),u.a.createElement("div",{className:"asteroid d"}),u.a.createElement("div",{className:"asteroid e"})))}var i="";t.isMecatolRexSystem()&&(i="rex");var c={onClick:function(){return e.props.onClick()},posStyle:l,hexSize:this.props.hexSize,hexClass:i,draggable:this.props.draggable,onDrag:function(t){return e.props.onDrag(t)},onDragEnd:function(t){return e.props.onDragEnd(t)},onDrop:function(t){return e.props.onDrop(t)}};switch(a){case Y.ID_ONLY:s=u.a.createElement(B,c,u.a.createElement("span",{className:"id-alone"},t.id));break;case Y.STREAMLINED_WITH_NAME:s=u.a.createElement(B,c,n,o,t.planets.map(function(e,t){return u.a.createElement(J,{planet:e,key:e.name,format:G.STREAMLINED_WITH_NAME})},this),r);break;case Y.STREAMLINED:s=u.a.createElement(B,c,n,o,t.planets.map(function(e,t){return u.a.createElement(J,{planet:e,key:e.name,format:G.STREAMLINED})},this),r);break;case Y.COLORBLIND_FRIENDLY:s=u.a.createElement(B,c,n,o,t.planets.map(function(e,t){return u.a.createElement(J,{planet:e,key:e.name,format:G.COLORBLIND_FRIENDLY})},this));break;case Y.COLORBLIND_FRIENDLY_WITH_NAME:s=u.a.createElement(B,c,n,o,t.planets.map(function(e,t){return u.a.createElement(J,{planet:e,key:e.name,format:G.COLORBLIND_FRIENDLY_WITH_NAME})},this))}return s}}]),t}(u.a.Component),G={STREAMLINED:0,STREAMLINED_WITH_NAME:1,COLORBLIND_FRIENDLY:2,COLORBLIND_FRIENDLY_WITH_NAME:3},J=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.planet,t=this.props.format,a="",l="";switch(e.trait){case f:a="industrial",l="I";break;case v:a="hazardous",l="H";break;case E:a="cultural",l="C"}var s="",n="";switch(e.tech_specialty){case w:s="cybernetic",n="Y";break;case g:s="propulsion",n="B";break;case S:s="biotic",n="G";break;case N:s="warfare",n="R"}var r=null;t!==G.STREAMLINED_WITH_NAME&&t!==G.COLORBLIND_FRIENDLY_WITH_NAME||(r=u.a.createElement("span",{className:"name"},e.name));var o=u.a.createElement("div",{className:"value_container"},u.a.createElement("span",{className:"resources"},e.resources),u.a.createElement("span",{className:"influence"},e.influence));return t!==G.COLORBLIND_FRIENDLY_WITH_NAME&&t!==G.COLORBLIND_FRIENDLY||(o=u.a.createElement("div",{className:"value_container"},u.a.createElement("span",{className:"tech "+s},n),u.a.createElement("span",{className:"resources"},e.resources),u.a.createElement("span",{className:"influence"},e.influence),u.a.createElement("span",{className:"trait "+a},l))),u.a.createElement("div",{className:"planet "+a+" "+s},o,r)}}]),t}(u.a.Component),Z={SUM:1,GREATEST:2,GREATEST_PLUS_TECH:3},q=function(){function e(t){Object(l.a)(this,e),this.trait=t.trait,this.tech_specialty=t.tech_specialty,this.resources=t.resources,this.influence=t.influence,this.name=t.name}return Object(s.a)(e,[{key:"evaluate",value:function(e){var t=e.data,a=t.BASE_PLANET_MOD,l=this.resources*t.RESOURCES_MULTIPLIER,s=this.influence*t.INFLUENCE_MULTIPLIER,n=0;if(null!==this.tech_specialty)switch(n+=t.TECH_MOD,this.tech_specialty){case N:n+=t.TECH_WARFARE_MOD;break;case g:n+=t.TECH_PROPULSION_MOD;break;case S:n+=t.TECH_BIOTIC_MOD;break;case w:n+=t.TECH_CYBERNETIC_MOD}switch(t.PLANET_STRATEGY){case Z.GREATEST:var r=l;s>r&&(r=s),n>r&&(r=n),a+=r;break;case Z.AVERAGE:a+=(l+s+n)/3;break;default:var o=l;s>o&&(o=s),a+=o+n}switch(l>0&&(a+=t.NONZERO_RESOURCES_MOD),s>0&&(a+=t.NONZERO_INFLUENCE_MOD),this.trait){case E:a+=t.TRAIT_CULTURAL_MOD;break;case v:a+=t.TRAIT_HAZARDOUS_MOD;break;case f:a+=t.TRAIT_INDUSTRIAL_MOD}return a}}]),e}(),X=function(){function e(t){Object(l.a)(this,e),this.planets=[];var a=!0,s=!1,n=void 0;try{for(var r,o=t[Symbol.iterator]();!(a=(r=o.next()).done);a=!0){var i=r.value;this.planets.push(new q(i))}}catch(u){s=!0,n=u}finally{try{a||null==o.return||o.return()}finally{if(s)throw n}}}return Object(s.a)(e,[{key:"getPlanetByName",value:function(e){var t=!0,a=!1,l=void 0;try{for(var s,n=this.planets[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value;if(r.name===e)return r}}catch(o){a=!0,l=o}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return null}}]),e}(),Q=function(){function e(t,a){Object(l.a)(this,e),this.id=t.id,this.anomaly=t.anomaly,this.wormhole=t.wormhole,this.planets=[];var s=!0,n=!1,r=void 0;try{for(var o,i=t.planets[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var u=o.value,c=a.getPlanetByName(u);c&&this.planets.push(c)}}catch(p){n=!0,r=p}finally{try{s||null==i.return||i.return()}finally{if(n)throw r}}}return Object(s.a)(e,[{key:"evaluate",value:function(e){var t=e.data,a=0,l=!0,s=!1,n=void 0;try{for(var r,o=this.planets[Symbol.iterator]();!(l=(r=o.next()).done);l=!0){a+=r.value.evaluate(e)}}catch(i){s=!0,n=i}finally{try{l||null==o.return||o.return()}finally{if(s)throw n}}return 1===this.planets.length?a+=t.SINGLE_PLANET_MOD:this.planets.length>1&&(a+=t.MULTI_PLANET_MOD,this.planets[0].trait===this.planets[1].trait?a+=t.MATCHING_PLANETS_MOD:a+=t.NONMATCHING_PLANETS_MOD),this.isMecatolRexSystem()&&(a+=t.MECATOL_REX_SYS_MOD),a}},{key:"getDistanceModifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,a=t.DISTANCE_MOD_BASE;if(this.isBlue()){if(!1===t.DISTANCE_MOD_PLANET)return!1;if(a+=t.DISTANCE_MOD_PLANET,null!==this.wormhole){if(!1===t.DISTANCE_MOD_PLANET_WORMHOLE)return!1;a+=t.DISTANCE_MOD_PLANET_WORMHOLE}}else if(null===this.anomaly)if(null!==this.wormhole){if(!1===t.DISTANCE_MOD_EMPTY_WORMHOLE)return!1;a+=t.DISTANCE_MOD_EMPTY_WORMHOLE}else{if(!1===t.DISTANCE_MOD_EMPTY)return!1;a+=t.DISTANCE_MOD_EMPTY}else switch(this.anomaly){case b:if(!1===t.DISTANCE_MOD_ASTEROID_FIELD)return!1;a+=t.DISTANCE_MOD_ASTEROID_FIELD;break;case x:if(!1===t.DISTANCE_MOD_GRAVITY_RIFT)return!1;a+=t.DISTANCE_MOD_GRAVITY_RIFT;break;case T:if(!1===t.DISTANCE_MOD_NEBULA)return!1;a+=t.DISTANCE_MOD_NEBULA;break;case O:if(!1===t.DISTANCE_MOD_SUPERNOVA)return!1;a+=t.DISTANCE_MOD_SUPERNOVA;break;default:return!1}return a}},{key:"isMecatolRexSystem",value:function(){var e=!0,t=!1,a=void 0;try{for(var l,s=this.planets[Symbol.iterator]();!(e=(l=s.next()).done);e=!0){if("Mecatol Rex"===l.value.name)return!0}}catch(n){t=!0,a=n}finally{try{e||null==s.return||s.return()}finally{if(t)throw a}}return!1}},{key:"isRed",value:function(){return this.planets.length<1}},{key:"isBlue",value:function(){return!this.isRed()}},{key:"getStringName",value:function(){var e=[],t=!0,a=!1,l=void 0;try{for(var s,n=this.planets[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value;e.push(r.name+" ("+r.resources+"/"+r.influence+")")}}catch(o){a=!0,l=o}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}if(null!==this.wormhole)switch(this.wormhole){case D:e.push("(a)");break;case C:e.push("(b)")}if(null!==this.anomaly)switch(this.anomaly){case O:e.push("Supernova");break;case x:e.push("Gravity Rift");break;case T:e.push("Nebula");break;case b:e.push("Asteroid Field")}return 0===e.length&&e.push("Empty Space"),this.id+": "+e.join(", ")}}]),e}(),$=function(){function e(t,a){Object(l.a)(this,e),this.systems=[],this.planet_box=a;var s=!0,n=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var u=o.value;this.systems.push(new Q(u,a))}}catch(c){n=!0,r=c}finally{try{s||null==i.return||i.return()}finally{if(n)throw r}}}return Object(s.a)(e,[{key:"getBlueSystemTotal",value:function(){var e=0,t=!0,a=!1,l=void 0;try{for(var s,n=this.systems[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){s.value.isBlue()&&e++}}catch(r){a=!0,l=r}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return e}},{key:"getRedSystemTotal",value:function(){var e=0,t=!0,a=!1,l=void 0;try{for(var s,n=this.systems[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){s.value.isRed()&&e++}}catch(r){a=!0,l=r}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return e}},{key:"getSystemIndexByID",value:function(e){var t=!0,a=!1,l=void 0;try{for(var s,n=this.systems.entries()[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value,o=Object(y.a)(r,2),i=o[0];if(o[1].id===e)return i}}catch(u){a=!0,l=u}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return null}},{key:"getSystemByID",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.getSystemIndexByID(e);return null!==a&&t?this.systems.splice(a,1):null!==a?this.systems[a]:null}},{key:"makeCopy",value:function(){var t=new e([],this.planet_box),a=!0,l=!1,s=void 0;try{for(var n,r=this.systems[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var o=n.value;t.systems.push(o)}}catch(i){l=!0,s=i}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}return t}},{key:"getWormholeSystems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[],a=!0,l=!1,s=void 0;try{for(var n,r=this.systems[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var o=n.value;null===o.wormhole||null!==e&&o.wormhole!==e||t.push(o)}}catch(i){l=!0,s=i}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}return t}}]),e}();function K(e,t){var a=e;return a<0&&(a=0),a>10&&(a=10),t.data.DISTANCE_MULTIPLIER[a]}var ee=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(Object(l.a)(this,e),t){this.spaces=[a];for(var n=0;n<s;n++)this.addAdjacentSpaces()}else this.spaces=[]}return Object(s.a)(e,[{key:"makeCopy",value:function(){var t=new e(!1),a=!0,l=!1,s=void 0;try{for(var n,r=this.spaces[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var o=n.value,i=new le(o.x,o.y,o.z,o.warp_spaces,o.type,o.system);t.spaces.push(i)}}catch(u){l=!0,s=u}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}return t}},{key:"containsSystem",value:function(e){return null!==this.getSpaceBySystemID(e)}},{key:"getSpaceBySystemID",value:function(e){var t=!0,a=!1,l=void 0;try{for(var s,n=this.spaces[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value;if(null!==r.system&&r.system.id===e)return r}}catch(o){a=!0,l=o}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return null}},{key:"getOpenSpacesTotal",value:function(){var e=0,t=!0,a=!1,l=void 0;try{for(var s,n=this.spaces[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){s.value.type===j.OPEN&&e++}}catch(r){a=!0,l=r}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return e}},{key:"getBlueSystemTotal",value:function(){var e=0,t=!0,a=!1,l=void 0;try{for(var s,n=this.spaces[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value;r.type===j.SYSTEM&&r.system.isBlue()&&e++}}catch(o){a=!0,l=o}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return e}},{key:"getRedSystemTotal",value:function(){var e=0,t=!0,a=!1,l=void 0;try{for(var s,n=this.spaces[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value;r.type===j.SYSTEM&&r.system.isRed()&&e++}}catch(o){a=!0,l=o}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return e}},{key:"getPossibleSystemTotal",value:function(){var e=0,t=!0,a=!1,l=void 0;try{for(var s,n=this.spaces[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value;r.type!==j.SYSTEM&&r.type!==j.OPEN||e++}}catch(o){a=!0,l=o}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return e}},{key:"areWarpsLogical",value:function(){var e=!0,t=!1,a=void 0;try{for(var l,s=this.spaces[Symbol.iterator]();!(e=(l=s.next()).done);e=!0){var n=l.value;if(n.type===j.WARP){var r=!0,o=!1,i=void 0;try{for(var u,c=L[n.warp_spaces][Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var p=u.value,y=!0,m=!1,h=void 0;try{for(var _,d=p[Symbol.iterator]();!(y=(_=d.next()).done);y=!0){var v=_.value;if(!this.doesWarpDirectionConnect(v,n,[n]))return!1}}catch(f){m=!0,h=f}finally{try{y||null==d.return||d.return()}finally{if(m)throw h}}}}catch(f){o=!0,i=f}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}}}}catch(f){t=!0,a=f}finally{try{e||null==s.return||s.return()}finally{if(t)throw a}}return!0}},{key:"doesWarpDirectionConnect",value:function(e,t,a){var l=te(t.getWarpDirectionCoordinates(e),this.spaces);if(!l)return!1;if(ae(l,a))return!1;if(l.type===j.CLOSED)return!1;if(l.type===j.WARP){var s={x:-1*e.x,y:-1*e.y,z:-1*e.z},n=[],r=!0,o=!1,i=void 0;try{for(var u,c=L[l.warp_spaces][Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var p=u.value;ae(s,[p[0]])?n.push(p[1]):ae(s,[p[1]])&&n.push(p[0])}}catch(_){o=!0,i=_}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}if(0===n.length)return!1;a.push(l);for(var y=0,m=n;y<m.length;y++){var h=m[y];if(!this.doesWarpDirectionConnect(h,l,a))return!1}}return!0}},{key:"isComplete",value:function(){var e=!0,t=!1,a=void 0;try{for(var l,s=this.spaces[Symbol.iterator]();!(e=(l=s.next()).done);e=!0){if(l.value.type===j.OPEN)return!1}}catch(n){t=!0,a=n}finally{try{e||null==s.return||s.return()}finally{if(t)throw a}}return!0}},{key:"isLegal",value:function(){var e=!0,t=!0,a=!1,l=void 0;try{for(var s,n=this.spaces[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value;if(r.type===j.SYSTEM&&null!==r.system.wormhole){var o=!0,i=!1,u=void 0;try{for(var c,p=this.getAdjacentSystems(r)[Symbol.iterator]();!(o=(c=p.next()).done);o=!0){var y=c.value;if(y.type===j.SYSTEM&&y.system.wormhole===r.system.wormhole){e=!1;break}}}catch(E){i=!0,u=E}finally{try{o||null==p.return||p.return()}finally{if(i)throw u}}}if(r.type===j.SYSTEM&&null!==r.system.anomaly){var m=!0,h=!1,_=void 0;try{for(var d,v=this.getAdjacentSystems(r)[Symbol.iterator]();!(m=(d=v.next()).done);m=!0){var f=d.value;if(f.type===j.SYSTEM&&null!==f.system.anomaly){e=!1;break}}}catch(E){h=!0,_=E}finally{try{m||null==v.return||v.return()}finally{if(h)throw _}}}if(!e)break}}catch(E){a=!0,l=E}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return e}},{key:"getHomeValue",value:function(e,t){var a=0,l=[],s=!0,n=!1,r=void 0;try{for(var o,i=this.spaces[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var u=o.value;u.type===j.SYSTEM&&u.system.evaluate(t)>0&&l.push(u)}}catch(h){n=!0,r=h}finally{try{s||null==i.return||i.return()}finally{if(n)throw r}}for(var c=0,p=l;c<p.length;c++){var y=p[c],m=this._getShortestModdedDistance(e,y,t);null!==m&&(a+=K(m,t)*y.system.evaluate(t))}return a}},{key:"_getShortestModdedDistance",value:function(e,t,a){var l=[],s=[],n=this.getAdjacentSystemsIncludingWormholes(e),r=!0,o=!1,i=void 0;try{for(var u,c=n[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var p=u.value;if(!1!==p.system.getDistanceModifier(a)&&!1!==this.getMapDistanceModifier(e,t,a)){var y=[p.system.id];p.system.id===t.system.id?l.push(y):s.push(y)}}}catch(L){o=!0,i=L}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}for(;s.length>0;){for(var m=[],h=0,_=s;h<_.length;h++){var d=_[h],v=this._extendPath(e,t,d,a),f=!0,E=!1,S=void 0;try{for(var N,g=v.finished[Symbol.iterator]();!(f=(N=g.next()).done);f=!0){var w=N.value;l.push(w)}}catch(L){E=!0,S=L}finally{try{f||null==g.return||g.return()}finally{if(E)throw S}}var T=!0,x=!1,b=void 0;try{for(var O,D=v.ongoing[Symbol.iterator]();!(T=(O=D.next()).done);T=!0){var C=O.value;m.push(C)}}catch(L){x=!0,b=L}finally{try{T||null==D.return||D.return()}finally{if(x)throw b}}}s=m}for(var I=!1,M=null,A=0,z=l;A<z.length;A++){var k=z[A],R=this._calculateModdedDistanceFromRaw(k,a,e);(!I||R<M)&&(M=R,I=!0)}return M}},{key:"_extendPath",value:function(e,t,a,l){var s=[],n=[],r=this.getSpaceBySystemID(a[a.length-1]),o=this.getAdjacentSystemsIncludingWormholes(r),i=!0,u=!1,c=void 0;try{for(var p,y=o[Symbol.iterator]();!(i=(p=y.next()).done);i=!0){var m=p.value;if(m.system.id===t.system.id){var h=Object(k.a)(a);h.push(m.system.id),s.push(h)}else if(!(m.system.id in a)&&!1!==m.system.getDistanceModifier(l)&&!1!==this.getMapDistanceModifier(e,t,l)&&a.length<4){var _=Object(k.a)(a);_.push(m.system.id),n.push(_)}}}catch(d){u=!0,c=d}finally{try{i||null==y.return||y.return()}finally{if(u)throw c}}return{finished:s,ongoing:n}}},{key:"_calculateModdedDistanceFromRaw",value:function(e,t,a){var l=0,s=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var u=o.value,c=this.getSpaceBySystemID(u);l+=c.system.getDistanceModifier(t)+this.getMapDistanceModifier(a,c,t)}}catch(p){n=!0,r=p}finally{try{s||null==i.return||i.return()}finally{if(n)throw r}}return l}},{key:"getMapDistanceModifier",value:function(e,t,a){var l=this.getAdjacentSpacesIncludingWormholes(t),s=!0,n=!1,r=void 0;try{for(var o,i=l[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var u=o.value;if(u.type===j.HOME&&!ae(e,[u]))return a.data.DISTANCE_MOD_ADJACENT_TO_OPPONENT}}catch(c){n=!0,r=c}finally{try{s||null==i.return||i.return()}finally{if(n)throw r}}return 0}},{key:"addAdjacentSpaces",value:function(){var e=[],t=!0,a=!1,l=void 0;try{for(var s,n=this.spaces[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value.getAdjacentCoordinates(),o=!0,i=!1,u=void 0;try{for(var c,p=r[Symbol.iterator]();!(o=(c=p.next()).done);o=!0){var y=c.value;ae(y,e)||ae(y,this.spaces)||e.push(y)}}catch(d){i=!0,u=d}finally{try{o||null==p.return||p.return()}finally{if(i)throw u}}}}catch(d){a=!0,l=d}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}for(var m=0,h=e;m<h.length;m++){var _=h[m];this.spaces.push(new le(_.x,_.y,_.z))}}},{key:"_getAdjacentSpacesThroughWarps",value:function(e,t){var a=[],l={x:e.x-t.x,y:e.y-t.y,z:e.z-t.z},s=[],n=!0,r=!1,o=void 0;try{for(var i,u=L[t.warp_spaces][Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value;ae(l,c)&&s.push(c)}}catch(D){r=!0,o=D}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}for(var p=0,y=s;p<y.length;p++){var m=y[p],h=!0,_=!1,d=void 0;try{for(var v,f=m[Symbol.iterator]();!(h=(v=f.next()).done);h=!0){var E=v.value;if(!ae(E,[l])){var S=te(t.getWarpDirectionCoordinates(E),this.spaces);if(null!==S)if(S.type!==j.WARP)ae(S,a)||a.push(S);else{var N=this._getAdjacentSpacesThroughWarps(t,S),g=!0,w=!1,T=void 0;try{for(var x,b=N[Symbol.iterator]();!(g=(x=b.next()).done);g=!0){var O=x.value;ae(O,a)||a.push(O)}}catch(D){w=!0,T=D}finally{try{g||null==b.return||b.return()}finally{if(w)throw T}}}}}}catch(D){_=!0,d=D}finally{try{h||null==f.return||f.return()}finally{if(_)throw d}}}return a}},{key:"getAdjacentSystems",value:function(e){var t=this.getAdjacentSpaces(e),a=[],l=!0,s=!1,n=void 0;try{for(var r,o=t[Symbol.iterator]();!(l=(r=o.next()).done);l=!0){var i=r.value;i.type===j.SYSTEM&&a.push(i)}}catch(u){s=!0,n=u}finally{try{l||null==o.return||o.return()}finally{if(s)throw n}}return a}},{key:"getAdjacentSpaces",value:function(e){var t=e.getAdjacentCoordinates(),a=[],l=!0,s=!1,n=void 0;try{for(var r,o=t[Symbol.iterator]();!(l=(r=o.next()).done);l=!0){var i=te(r.value,this.spaces);if(null!==i)if(i.type!==j.WARP)ae(i,a)||a.push(i);else{var u=this._getAdjacentSpacesThroughWarps(e,i),c=!0,p=!1,y=void 0;try{for(var m,h=u[Symbol.iterator]();!(c=(m=h.next()).done);c=!0){var _=m.value;ae(_,a)||a.push(_)}}catch(d){p=!0,y=d}finally{try{c||null==h.return||h.return()}finally{if(p)throw y}}}}}catch(d){s=!0,n=d}finally{try{l||null==o.return||o.return()}finally{if(s)throw n}}return a}},{key:"getAdjacentSystemsIncludingWormholes",value:function(e){var t=this.getAdjacentSpacesIncludingWormholes(e),a=[],l=!0,s=!1,n=void 0;try{for(var r,o=t[Symbol.iterator]();!(l=(r=o.next()).done);l=!0){var i=r.value;i.type===j.SYSTEM&&a.push(i)}}catch(u){s=!0,n=u}finally{try{l||null==o.return||o.return()}finally{if(s)throw n}}return a}},{key:"getAdjacentSpacesIncludingWormholes",value:function(e){var t=this.getAdjacentSpaces(e),a=this.getMatchingWormholeSpaces(e),l=!0,s=!1,n=void 0;try{for(var r,o=a[Symbol.iterator]();!(l=(r=o.next()).done);l=!0){var i=r.value;ae(i,t)||t.push(i)}}catch(u){s=!0,n=u}finally{try{l||null==o.return||o.return()}finally{if(s)throw n}}return t}},{key:"getMatchingWormholeSpaces",value:function(e){var t=[];if(e.type===j.SYSTEM&&null!==e.system.wormhole){var a=!0,l=!1,s=void 0;try{for(var n,r=this.spaces[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var o=n.value;o.type===j.SYSTEM&&o.system.wormhole===e.system.wormhole&&o.system.id!==e.system.id&&t.push(o)}}catch(i){l=!0,s=i}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}}return t}}]),e}();function te(e,t){var a=!0,l=!1,s=void 0;try{for(var n,r=t[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var o=n.value;if(e.x===o.x&&e.y===o.y&&e.z===o.z)return o}}catch(i){l=!0,s=i}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}return null}function ae(e,t){return!!te(e,t)}var le=function(){function e(t,a,s){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:j.OPEN,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;Object(l.a)(this,e),this.x=t,this.y=a,this.z=s,this.warp_spaces=n,this.type=r,this.system=o}return Object(s.a)(e,[{key:"getAdjacentCoordinates",value:function(){var e=this.x,t=this.y,a=this.z;return[{x:e+1,y:t-1,z:a},{x:e+1,y:t,z:a-1},{x:e-1,y:t+1,z:a},{x:e,y:t+1,z:a-1},{x:e-1,y:t,z:a+1},{x:e,y:t-1,z:a+1}]}},{key:"getWarpDirectionCoordinates",value:function(e){return{x:this.x+e.x,y:this.y+e.y,z:this.z+e.z}}}]),e}();var se=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"downloadJSON",value:function(){var e,t=this.props.getDownloadInfo();!function(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}((e=t.filename,e.replace(/[^a-z0-9]/gi,"_").toLowerCase()+".json"),JSON.stringify(t.data))}},{key:"render",value:function(){var e=this;return u.a.createElement("button",{onClick:function(){return e.downloadJSON()},className:this.props.className},this.props.title)}}]),t}(u.a.Component),ne=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"handleUpload",value:function(){var e=new FileReader;e.readAsText(document.getElementById(this.props.id).files[0]),e.onload=function(e){this.props.handleJSON(JSON.parse(e.target.result)),document.getElementById(this.props.id)}.bind(this)}},{key:"render",value:function(){var e=this;return u.a.createElement("span",{className:"control"},u.a.createElement("span",{className:"file is-small"},u.a.createElement("label",{className:"file-label"},u.a.createElement("input",{type:"file",id:this.props.id,className:"file-input",onChange:function(){return e.handleUpload()}}),u.a.createElement("span",{className:"file-cta"},u.a.createElement("span",{className:"file-icon"},u.a.createElement("i",{className:"fas fa-upload"})),u.a.createElement("span",{className:"file-label"},"Choose a file...")))))}}]),t}(u.a.Component),re=a(16);window.jQuery=h.a;var oe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).planet_box=new X(I),a.system_box=new $(M,a.planet_box),a.default_layouts=re,a.state={map:null,message:"",input_title:"",saved_data:d.a.get(a.props.storage_key)||[],selected_item:a.getNewStringValue()},a}return Object(o.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){this.props.sendStateBeforeDeath(this.state)}},{key:"setMap",value:function(e){this.setState({map:e})}},{key:"getLayoutFromJSON",value:function(e){var t=new ee(!1),a=!0,l=!1,s=void 0;try{for(var n,r=e[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var o=n.value,i=null;null!==o.system&&(i=new Q(o.system,this.planet_box)),t.spaces.push(new le(o.x,o.y,o.z,o.warp_spaces,o.type,i))}}catch(u){l=!0,s=u}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}return t}},{key:"getJSONDataFromSpaces",value:function(e){var t=[],a=!0,l=!1,s=void 0;try{for(var n,r=e[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var o=n.value,i=Object.assign({},o,{system:null});if(null!==o.system){var u=Object.assign({},o.system,{planets:[]}),c=!0,p=!1,y=void 0;try{for(var m,h=o.system.planets[Symbol.iterator]();!(c=(m=h.next()).done);c=!0){var _=m.value;u.planets.push(_.name)}}catch(d){p=!0,y=d}finally{try{c||null==h.return||h.return()}finally{if(p)throw y}}i.system=u}t.push(i)}}catch(d){l=!0,s=d}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}return t}},{key:"getCurrentLayoutJSON",value:function(){var e="Untitled Layout";return""!==h()("#layout-title").val()&&(e=h()("#layout-title").val()),{title:e,data:this.getJSONDataFromSpaces(this.state.map.spaces)}}},{key:"getCurrentLayoutJSONFileInfo",value:function(){var e=this.getCurrentLayoutJSON();return this.setState({message:""}),{filename:e.title,data:[e]}}},{key:"getAllLayoutJSONFileInfo",value:function(){this.setState({message:""});var e=d.a.get(this.props.storage_key)||[];return{filename:"All "+this.props.subject_plural,data:e}}},{key:"setLayout",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"new",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===a&&(a=this.getLayoutFromJSON(e.data));var l=e.title,s=this.props.subject+" '"+l+"' displayed.";this.setMap(a),this.setState({message:s,input_title:l,selected_item:t.toString()})}},{key:"addLayoutsFromJSON",value:function(e){if(e.length>0){var t=Object.assign([],this.state.saved_data),a=!0,l=!1,s=void 0;try{for(var n,r=e[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var o=n.value;t.push(o)}}catch(u){l=!0,s=u}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}d.a.set(this.props.storage_key,t),this.setLayout(t[t.length-1],t.length-1);var i=this.getLayoutFromJSON(t[t.length-1].data);this.setMap(i),this.setState({saved_data:d.a.get(this.props.storage_key)||[],message:"Layouts loaded.",selected_item:t.length-1,input_title:t[t.length-1].title})}else this.setState({message:"There were no "+this.props.subject_plural+" to load."})}},{key:"getSelectValue",value:function(){var e=document.getElementById("layout-select");return e.options[e.selectedIndex].value}},{key:"saveCurrent",value:function(){var e=this.getCurrentLayoutJSON(),t=this.getSelectValue(),a=Object.assign([],this.state.saved_data),l=a.length;"new"===t.split("_")[0]||"newc"===t.split("_")[0]?a.push(e):(a[parseInt(t)]=e,l=parseInt(t)),d.a.set(this.props.storage_key,a),this.setState({selected_item:l.toString(),saved_data:d.a.get(this.props.storage_key)||[],message:this.props.subject+" '"+e.title+"' saved."})}},{key:"deleteCurrent",value:function(){var e=this.getSelectValue(),t=Object.assign([],this.state.saved_data),a=t.splice(parseInt(e),1)[0];d.a.set(this.props.storage_key,t),this.setMap(this.getNewLayout()),this.setState({input_title:"",selected_item:this.getNewStringValue(),message:this.props.subject+" '"+a.title+"' deleted.",saved_data:d.a.get(this.props.storage_key)||[]})}},{key:"deleteAll",value:function(){d.a.remove(this.props.storage_key),this.setMap(this.getNewLayout()),this.setState({saved_data:d.a.get(this.props.storage_key)||[],selected_item:this.getNewStringValue(),input_title:"",message:"All saved "+this.props.subject_plural+" have been deleted.",bank_systems:this.syncBankSystems(this.getNewLayout())})}}]),t}(u.a.Component);function ie(e,t){return e.id>t.id?1:e.id<t.id?-1:0}window.jQuery=h.a;var ue=function(e){function t(e){var a;Object(l.a)(this,t);var s=(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).getLayoutFromJSON(a.default_layouts[0].data);if(a.state.map=s,a.state.selected_bank_system=null,a.state.system_format=Y.STREAMLINED_WITH_NAME,a.state.draggedSystem=null,a.state.option_pair_wormholes=!0,a.state.option_include_all_wormholes=!0,a.state.target_blue_total="random",a.state.bank_systems=a.syncBankSystems(s),a.state.eval_option="default_0",a.state.eval_variables=A[0],a.state.home_values={},a.state.balance_difference=null,a.state.map_string="",a.state.balance_options={dont_move_wormholes:!1,dont_move_anomalies:!1,dont_move_empty:!1},a.state.long_op=!1,a.props.state_to_import){var o=a.getOptions().filter(function(e){return e.index===a.props.state_to_import.selected_item}),i=a.getEvalOptions().filter(function(e){return e.index===a.props.state_to_import.eval_option});o.length>0&&i.length>0&&(a.state=a.props.state_to_import)}return a}return Object(o.a)(t,e),Object(s.a)(t,[{key:"setMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e.isComplete()?(null===t&&(null===l&&(l=this.state.eval_variables),t=this.getHomeValues(e,l)),null===a&&(a=this.getBalanceDifference(t))):(t={},a=null),this.setState({map:e,bank_systems:this.syncBankSystems(e),home_values:t,balance_difference:a,map_string:this.getMapString(e)})}},{key:"syncBankSystems",value:function(e){var t=new $([],[]),a=!0,l=!1,s=void 0;try{for(var n,r=this.system_box.systems[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var o=n.value;null!==e&&e.containsSystem(o.id)||t.systems.push(o)}}catch(i){l=!0,s=i}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}return t.systems.sort(ie),t}},{key:"setActiveBankSystem",value:function(e){this.setState({selected_bank_system:e})}},{key:"handleSelectChange",value:function(){var e=this.getSelectValue(),t=this.getSelectNewMapValue();if(null!==t)"newc"===this.getSelectNewMapType()?this.loadCustomLayout(t):this.loadDefault(t);else{var a=parseInt(e);this.setLayout(this.state.saved_data[a],e)}}},{key:"handleEvalChange",value:function(e){var t=e.split("_")[0],a=e.split("_")[1],l=null;l="default"===t?A[a]:d.a.get(this.props.eval_storage_key)[a],this.setState({eval_option:e,eval_variables:l}),this.setMap(this.state.map,null,null,l)}},{key:"getSelectNewMapValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e;null===t&&(t=this.getSelectValue());var a=(t=t.toString()).split("_");return 2!==a.length||"new"!==a[0]&&"newc"!==a[0]?null:parseInt(a[1])}},{key:"getSelectNewMapType",value:function(){return this.getSelectValue().split("_")[0]}},{key:"getNewStringValue",value:function(){return this.state&&"new"===this.state.selected_item.toString().substr(0,3)?this.state.selected_item:"new_0"}},{key:"isSelectNew",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==this.getSelectNewMapValue(e)}},{key:"handleFormatDisplayChange",value:function(){var e=document.getElementById("select-system-display");this.setState({system_format:parseInt(e.options[e.selectedIndex].value)})}},{key:"onSelectedSystemDrag",value:function(e){this.setState({draggedSystem:this.state.selected_bank_system,message:""})}},{key:"onSystemDrag",value:function(e,t){this.setState({draggedSystem:t,message:""})}},{key:"onSystemDragEnd",value:function(e){this.setState({draggedSystem:null,message:""})}},{key:"onSystemDropped",value:function(e,t){if(null!==this.state.draggedSystem){var a=this.state.map.makeCopy(),l=this.state.selected_bank_system,s=!1;if(null!==t){var n=a.spaces[t];if(n.type===j.OPEN){null!==this.state.selected_bank_system&&this.state.selected_bank_system.id===this.state.draggedSystem.id&&(l=null);var r=a.getSpaceBySystemID(this.state.draggedSystem.id);r&&(r.type=j.OPEN,r.system=null),n.system=this.state.draggedSystem,n.type=j.SYSTEM,s=!0}else if(n.type===j.SYSTEM&&!n.system.isMecatolRexSystem()){var o=n.system;null!==l&&l.id===this.state.draggedSystem.id?l=o:a.getSpaceBySystemID(this.state.draggedSystem.id).system=o,n.system=this.state.draggedSystem,s=!0}}else{var i=a.getSpaceBySystemID(this.state.draggedSystem.id);i&&(l=i.system,i.type=j.OPEN,i.system=null,s=!0)}s&&(this.setMap(a),this.setState({selected_bank_system:l})),this.onSystemDragEnd(e)}}},{key:"handleIncludeWormholesChange",value:function(){var e=document.getElementById("require-all-wormholes").checked;this.setState({option_include_all_wormholes:e})}},{key:"handlePairWormholesChange",value:function(){var e=document.getElementById("pair-wormholes").checked;this.setState({option_pair_wormholes:e})}},{key:"handleTargetRatioChange",value:function(){var e=document.getElementById("target-ratio"),t=e.options[e.selectedIndex].value;"random"!==t&&(t=parseInt(t)),this.setState({target_blue_total:t})}},{key:"loadDefault",value:function(e){var t=this.default_layouts[e];this.setLayout(t,"new_"+e);var a=t.title,l="Blank map '"+a+"' displayed.";this.setState({message:l,input_title:a})}},{key:"loadCustomLayout",value:function(e){var t=d.a.get(this.props.layout_storage_key)[e],a=this.getLayoutFromJSON(t.data),l=t.title,s="Custom layout '"+l+"' displayed.";this.setMap(a),this.setState({message:s,input_title:l,selected_item:"newc_"+e})}},{key:"getNewLayout",value:function(){var e=this.default_layouts[0];return this.getLayoutFromJSON(e.data)}},{key:"getMapString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.map,t="",a="",l=!0,s=!1,n=void 0;try{for(var r,o=z[Symbol.iterator]();!(l=(r=o.next()).done);l=!0){var i=r.value,u=te(i,e.spaces);u&&u.type===j.SYSTEM&&u.system?t+=a+u.system.id:t+=a+"0",a=" "}}catch(c){s=!0,n=c}finally{try{l||null==o.return||o.return()}finally{if(s)throw n}}return t}},{key:"loadMapFromString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.map_string,t=this.state.map.makeCopy(),a=this.state.bank_systems,l=e.split(" "),s=!0,n=!1,r=void 0;try{for(var o,i=l.entries()[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var u=o.value,c=Object(y.a)(u,2),p=c[0],m=c[1],h=parseInt(m);if(0!==h){var _=a.getSystemByID(h);if(!_){var d=t.getSpaceBySystemID(h);if(!d)return void this.setState({message:"Space not found."});_=d.system,d.type=j.OPEN,d.system=null,a=this.syncBankSystems(t)}var v=te(z[p],t.spaces);if(!v)return void this.setState({message:"Invalid: Too many systems listed."});if(v.type!==j.OPEN&&v.type!==j.SYSTEM)return void this.setState({message:"Invalid: Placing system on improper space."});if(v.type===j.SYSTEM&&v.system.isMecatolRexSystem())return void this.setState({message:"Invalid: Systems on top of Mecatol Rex."});v.type===j.OPEN&&(v.type=j.SYSTEM),v.system=_,a=this.syncBankSystems(t)}}}catch(f){n=!0,r=f}finally{try{s||null==i.return||i.return()}finally{if(n)throw r}}this.setState({message:"Map string loaded."}),this.setMap(t)}},{key:"clickedSpace",value:function(e){var t=Object.assign({},{message:"",selected_bank_system:this.state.selected_bank_system}),a=this.state.map.makeCopy(),l=a.spaces[e],s=!1;switch(l.type){case j.OPEN:null!==t.selected_bank_system&&(l.system=t.selected_bank_system,l.type=j.SYSTEM,t.selected_bank_system=null,s=!0);break;case j.SYSTEM:if(!l.system.isMecatolRexSystem())if(null!==t.selected_bank_system){var n=t.selected_bank_system;t.selected_bank_system=l.system,l.system=n,s=!0}else t.selected_bank_system=l.system,l.system=null,l.type=j.OPEN,s=!0}s&&(this.setState(t),this.setMap(a))}},{key:"autoCompleteStart",value:function(){var e=this;this.state.long_op||this.setState({message:"Thinking...",long_op:!0},function(){setTimeout(e.autoComplete.bind(e),1)})}},{key:"autoComplete",value:function(){for(var e=[{map:this.state.map.makeCopy(this.planet_box),system_box:this.state.bank_systems.makeCopy()}],t=!0;!e[e.length-1].map.isComplete();)if(!1===(e=this._autoCompleteSteps(e,1))){t=!1;break}var a="Unable to find a legal completion of this map.";t&&(this.setMap(e[e.length-1].map),a="Map completed randomly.",this.setState({message:a,selected_bank_system:null,long_op:!1}))}},{key:"_autoCompleteSteps",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null===l&&(l=e.length);for(var s=e.length,n=a;n<1e4;n++){var r=this._addOneSystem(e[e.length-1]);if(!1!==r)return e.push(r),e.length>=s+t?e:this._autoCompleteSteps(e,t-1,n,l)}for(var o=0;e.length>=l;)o++,e.pop();return 0!==e.length&&this._autoCompleteSteps(e,t+o,0,l-1)}},{key:"_addOneSystem",value:function(e){var t=[],a=e.system_box,l=e.map,s=!0,n=!1,r=void 0;try{for(var o,i=a.systems[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var u=o.value,c=!0;if(this.state.option_include_all_wormholes&&null===u.wormhole&&a.getWormholeSystems().length>=l.getOpenSpacesTotal())c=!1;else{if(this.state.option_pair_wormholes){var p=0,m=a.getWormholeSystems(C).length,h=a.getWormholeSystems(D).length;1===m&&p++,1===h&&p++,p>=l.getOpenSpacesTotal()&&(null===u.wormhole||u.wormhole!==C&&1!==h||u.wormhole!==D&&1!==m)&&(c=!1)}c&&t.push(u)}}}catch(B){n=!0,r=B}finally{try{s||null==i.return||i.return()}finally{if(n)throw r}}if("random"!==this.state.target_blue_total){var _=this.state.target_blue_total/(l.getPossibleSystemTotal()-this.state.target_blue_total),d=l.getBlueSystemTotal()/l.getRedSystemTotal();if(_<d){for(var v=[],f=0,E=t;f<E.length;f++){var S=E[f];S.isRed()&&v.push(S)}v.length>0&&(t=v)}else if(_>d){for(var N=[],g=0,w=t;g<w.length;g++){var T=w[g];T.isBlue()&&N.push(T)}N.length>0&&(t=N)}}var x=t[Math.floor(Math.random()*t.length)],b=[],O=!0,I=!1,M=void 0;try{for(var A,z=l.spaces.entries()[Symbol.iterator]();!(O=(A=z.next()).done);O=!0){var k=A.value,R=Object(y.a)(k,2),L=R[0];R[1].type===j.OPEN&&b.push(L)}}catch(B){I=!0,M=B}finally{try{O||null==z.return||z.return()}finally{if(I)throw M}}var P=b[Math.floor(Math.random()*b.length)],U=l.makeCopy();U.spaces[P].type=j.SYSTEM,U.spaces[P].system=x;var H=this.syncBankSystems(U);return!!U.isLegal()&&{map:U,system_box:H}}},{key:"getHomeValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.map,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.eval_variables,a={},l=!0,s=!1,n=void 0;try{for(var r,o=e.spaces.entries()[Symbol.iterator]();!(l=(r=o.next()).done);l=!0){var i=r.value,u=Object(y.a)(i,2),c=u[0],p=u[1];p.type===j.HOME&&(a[c.toString()]=e.getHomeValue(p,t))}}catch(m){s=!0,n=m}finally{try{l||null==o.return||o.return()}finally{if(s)throw n}}return a}},{key:"getBalanceDifference",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.home_values,t=null,a=null;for(var l in e)e.hasOwnProperty(l)&&((null===t||e[l]>t)&&(t=e[l]),(null===a||e[l]<a)&&(a=e[l]));return t-a}},{key:"handleBalanceOptionChange",value:function(e){var t=Object.assign({},this.state.balance_options);t[e]=!t[e],this.setState({balance_options:t})}},{key:"improveBalanceStart",value:function(){var e=this;this.state.long_op||this.setState({message:"Thinking...",long_op:!0},function(){setTimeout(e.improveBalance.bind(e),1)})}},{key:"improveBalance",value:function(){var e=this;return new Promise(function(t){var a=e.state.map,l=[],s=!0,n=!1,r=void 0;try{for(var o,i=a.spaces.entries()[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var u=o.value,c=Object(y.a)(u,2),p=c[0],m=c[1];m.type===j.SYSTEM&&(m.system.isMecatolRexSystem()||e.state.balance_options.dont_move_wormholes&&null!==m.system.wormhole||e.state.balance_options.dont_move_anomalies&&null!==m.system.anomaly||e.state.balance_options.dont_move_empty&&null===m.system.wormhole&&null===m.system.anomaly&&!(m.system.planets.length>0)||l.push(p))}}catch(N){n=!0,r=N}finally{try{s||null==i.return||i.return()}finally{if(n)throw r}}!function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),l=[e[a],e[t]];e[t]=l[0],e[a]=l[1]}}(l);for(var h=!1,_=null,d=null,v=null,f=0;f<l.length;f++){for(var E=0;E<l.length;E++)if(f!==E){var S=(_=e.state.map.makeCopy()).spaces[l[E]].system;if(_.spaces[l[E]].system=_.spaces[l[f]].system,_.spaces[l[f]].system=S,_.isLegal()&&(d=e.getHomeValues(_),(v=e.getBalanceDifference(d))<e.state.balance_difference)){h=!0;break}}if(h)break}h?(e.setMap(_,d,v),e.setState({message:"Balance gap has been improved.",long_op:!1})):e.setState({message:"Failed to improve balance gap.",long_op:!1})})}},{key:"getEvalOptions",value:function(){var e=[],t=!0,a=!1,l=void 0;try{for(var s,n=A.entries()[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value,o=Object(y.a)(r,2),i=o[0],u=o[1];e.push({index:"default_"+i,title:u.title})}}catch(N){a=!0,l=N}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}var c=!0,p=!1,m=void 0;try{for(var h,_=(d.a.get(this.props.eval_storage_key)||[])[Symbol.iterator]();!(c=(h=_.next()).done);c=!0){var v=h.value,f=Object(y.a)(v,2),E=f[0],S=f[1];e.push({index:"custom_"+E.toString(),title:S.title})}}catch(N){p=!0,m=N}finally{try{c||null==_.return||_.return()}finally{if(p)throw m}}return e}},{key:"getOptions",value:function(){var e=[],t=!0,a=!1,l=void 0;try{for(var s,n=this.default_layouts.entries()[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value,o=Object(y.a)(r,2),i=o[0],u=o[1];e.push({index:"new_"+i,title:"New from default layout "+u.title})}}catch(I){a=!0,l=I}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}var c=!0,p=!1,m=void 0;try{for(var h,_=(d.a.get(this.props.layout_storage_key)||[]).entries()[Symbol.iterator]();!(c=(h=_.next()).done);c=!0){var v=h.value,f=Object(y.a)(v,2),E=f[0],S=f[1];this.getLayoutFromJSON(S.data).areWarpsLogical()&&e.push({index:"newc_"+E,title:"New from custom layout "+S.title})}}catch(I){p=!0,m=I}finally{try{c||null==_.return||_.return()}finally{if(p)throw m}}var N=!0,g=!1,w=void 0;try{for(var T,x=this.state.saved_data.entries()[Symbol.iterator]();!(N=(T=x.next()).done);N=!0){var b=T.value,O=Object(y.a)(b,2),D=O[0],C=O[1];e.push({index:D,title:C.title})}}catch(I){g=!0,w=I}finally{try{N||null==x.return||x.return()}finally{if(g)throw w}}return e}},{key:"render",value:function(){var e=this,t=u.a.createElement("label",{className:"button is-outlined is-small is-danger"},"Illegal");this.state.map.isLegal()&&(t=u.a.createElement("label",{className:"button is-small is-outlined is-success"},"Legal"));var a=u.a.createElement("label",{className:"button is-outlined is-small is-danger"},"Incomplete");this.state.map.isComplete()&&(a=u.a.createElement("label",{className:"button is-small is-outlined is-success"},"Complete"));var l=[],s=!0,n=!1,r=void 0;try{for(var o,i=this.getOptions()[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var c=o.value;l.push(u.a.createElement("option",{value:c.index,key:c.index},c.title))}}catch(O){n=!0,r=O}finally{try{s||null==i.return||i.return()}finally{if(n)throw r}}var p=[],y=!0,m=!1,h=void 0;try{for(var _,d=this.getEvalOptions()[Symbol.iterator]();!(y=(_=d.next()).done);y=!0){var v=_.value;p.push(u.a.createElement("option",{value:v.index,key:v.index},v.title))}}catch(O){m=!0,h=O}finally{try{y||null==d.return||d.return()}finally{if(m)throw h}}for(var f=[u.a.createElement("option",{value:"random",key:"random"},"B/R Target Ratio: Random")],E=this.state.map.getRedSystemTotal(),S=this.state.map.getBlueSystemTotal(),N=this.state.map.getOpenSpacesTotal(),g=this.state.bank_systems.getBlueSystemTotal(),w=this.state.bank_systems.getRedSystemTotal(),T=0;T<=N;T++)T<=g&&N-T<=w&&f.push(u.a.createElement("option",{value:T+S,key:T+S},"B/R Target Ratio: ",T+S,"/",N-T+E));var x=null;null!==this.state.balance_difference&&(x=u.a.createElement("p",{className:"control"},u.a.createElement("label",{className:"label"},"Balance Gap: ",this.state.balance_difference)));var b=null;return null!==this.state.message&&""!==this.state.message&&(b=u.a.createElement("blockquote",null,this.state.message)),u.a.createElement("div",{className:"block"},u.a.createElement("h2",{className:"title is-size-4"},"Map Editor"),u.a.createElement("div",{className:"block map-lab-control-panel"},u.a.createElement("div",{className:"field is-horizontal"},u.a.createElement("div",{className:"field-label"},u.a.createElement("label",{className:"label"},"Saved/Defaults:")),u.a.createElement("div",{className:"field-body"},u.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},u.a.createElement("p",{className:"control"},u.a.createElement("span",{className:"select is-small"},u.a.createElement("select",{id:"layout-select",value:this.state.selected_item,onChange:function(){return e.handleSelectChange()}},l))),u.a.createElement("p",{className:"control"},u.a.createElement(se,{title:"Download All",getDownloadInfo:function(){return e.getAllLayoutJSONFileInfo()},className:"button is-small"})),u.a.createElement("p",{className:"control"},u.a.createElement("button",{onClick:function(){return e.deleteAll()},className:"button is-small"},"Delete All")),u.a.createElement(ne,{id:"layout-json-upload",title:"Upload",handleJSON:function(t){return e.addLayoutsFromJSON(t)},className:"button is-small"})))),u.a.createElement("div",{className:"field is-horizontal"},u.a.createElement("div",{className:"field-label"},u.a.createElement("label",{className:"label"},"Map Title:")),u.a.createElement("div",{className:"field-body"},u.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},u.a.createElement("p",{className:"control"},u.a.createElement("input",{className:"input is-small",type:"text",id:"layout-title",value:this.state.input_title,onChange:function(){this.setState({input_title:document.getElementById("layout-title").value,message:""})}.bind(this)})),u.a.createElement("p",{className:"control"},u.a.createElement("button",{className:"button is-small",onClick:function(){return e.saveCurrent()}},"Save")),u.a.createElement("p",{className:"control"},u.a.createElement("button",{className:"button is-small",onClick:function(){return e.handleSelectChange()}},"Reset")),u.a.createElement("p",{className:"control"},u.a.createElement("button",{className:"button is-small",onClick:function(){return e.deleteCurrent()},disabled:this.isSelectNew(this.state.selected_item)},"Delete")),u.a.createElement("p",{className:"control"},u.a.createElement(se,{title:"Download",className:"button is-small",getDownloadInfo:function(){return e.getCurrentLayoutJSONFileInfo()}}))))),u.a.createElement("div",{className:"field is-horizontal"},u.a.createElement("div",{className:"field-label"},u.a.createElement("label",{className:"label"},"System Display:")),u.a.createElement("div",{className:"field-body"},u.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},u.a.createElement("p",{className:"control"},u.a.createElement("span",{className:"select is-small"},u.a.createElement("select",{id:"select-system-display",value:this.state.system_format,onChange:function(){return e.handleFormatDisplayChange()}},u.a.createElement("option",{value:Y.STREAMLINED},"Streamlined"),u.a.createElement("option",{value:Y.STREAMLINED_WITH_NAME},"Streamlined + Name"),u.a.createElement("option",{value:Y.COLORBLIND_FRIENDLY},"Colorblind Friendly"),u.a.createElement("option",{value:Y.COLORBLIND_FRIENDLY_WITH_NAME},"Colorblind Friendly + Name"),u.a.createElement("option",{value:Y.ID_ONLY},"ID Only")))),u.a.createElement("p",{className:"control"},u.a.createElement("label",{className:"label"},"Map Status:")),u.a.createElement("p",{className:"control"},a),u.a.createElement("p",{className:"control"},t)))),u.a.createElement("div",{className:"field is-horizontal"},u.a.createElement("div",{className:"field-label"},u.a.createElement("label",{className:"label"},"Map String:")),u.a.createElement("div",{className:"field-body"},u.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},u.a.createElement("p",{className:"control is-expanded"},u.a.createElement("input",{className:"input is-small",type:"text",id:"map-string",value:this.state.map_string,onChange:function(){this.setState({map_string:document.getElementById("map-string").value,message:""})}.bind(this)})),u.a.createElement("p",{className:"control"},u.a.createElement("button",{className:"button is-small",onClick:function(){return e.loadMapFromString()}},"Load From String")))))),u.a.createElement("div",{className:"columns"},u.a.createElement("div",{className:"column is-one-fifth-desktop is-narrow-tablet map-controls-column"},u.a.createElement("div",{className:"block content for-message"},b),u.a.createElement("div",{className:"field"},u.a.createElement("label",{className:"label"},"Auto-Complete"),u.a.createElement("p",{className:"control"},u.a.createElement("input",{id:"require-all-wormholes",type:"checkbox",checked:this.state.option_include_all_wormholes,onChange:function(){return e.handleIncludeWormholesChange()}}),u.a.createElement("label",{htmlFor:"require-all-wormholes"}," Require Wormholes")),u.a.createElement("p",{className:"control"},u.a.createElement("input",{id:"pair-wormholes",type:"checkbox",checked:this.state.option_pair_wormholes,onChange:function(){return e.handlePairWormholesChange()}}),u.a.createElement("label",{htmlFor:"pair-wormholes"}," Pair Wormholes")),u.a.createElement("p",{className:"control"},u.a.createElement("span",{className:"select is-small"},u.a.createElement("select",{id:"target-ratio",value:this.state.target_blue_total,onChange:function(){return e.handleTargetRatioChange()}},f))),u.a.createElement("p",{className:"control"},u.a.createElement("button",{onClick:function(){return e.autoCompleteStart()},disabled:!this.state.map.isLegal()||this.state.map.isComplete()||!0===this.state.long_op,className:"button is-small is-primary"},"Auto-Complete Map"))),u.a.createElement("div",{className:"field"},u.a.createElement("label",{className:"label"},"Improve Balance"),u.a.createElement("p",{className:"control"},u.a.createElement("span",{className:"select is-small"},u.a.createElement("select",{id:"eval-select",value:this.state.eval_option,onChange:function(t){return e.handleEvalChange(t.target.value)}},p))),x,u.a.createElement("p",{className:"control"},u.a.createElement("input",{id:"dont-move-wormholes",type:"checkbox",checked:this.state.balance_options.dont_move_wormholes,onChange:function(){return e.handleBalanceOptionChange("dont_move_wormholes")}}),u.a.createElement("label",{htmlFor:"dont-move-wormholes"}," Lock Wormholes")),u.a.createElement("p",{className:"control"},u.a.createElement("input",{id:"dont-move-anomalies",type:"checkbox",checked:this.state.balance_options.dont_move_anomalies,onChange:function(){return e.handleBalanceOptionChange("dont_move_anomalies")}}),u.a.createElement("label",{htmlFor:"dont-move-anomalies"}," Lock Anomalies")),u.a.createElement("p",{className:"control"},u.a.createElement("input",{id:"dont-move-empty",type:"checkbox",checked:this.state.balance_options.dont_move_empty,onChange:function(){return e.handleBalanceOptionChange("dont_move_empty")}}),u.a.createElement("label",{htmlFor:"dont-move-empty"}," Lock Empty Spaces")),u.a.createElement("p",{className:"control"},u.a.createElement("button",{onClick:function(){return e.improveBalanceStart()},disabled:!this.state.map.isComplete()||!0===this.state.long_op,className:"button is-small is-primary"},"Improve Balance"))),u.a.createElement(U,{systems:this.state.bank_systems,active_system:this.state.selected_bank_system,setActiveSystem:function(t){return e.setActiveBankSystem(t)},system_format:this.state.system_format,onSelectedSystemDrag:function(t){return e.onSelectedSystemDrag(t)},onSystemDragEnd:function(t){return e.onSystemDragEnd(t)},onSystemDropped:function(t){return e.onSystemDropped(t,null)},eval_variables:this.state.eval_variables})),u.a.createElement("div",{className:"column map-container"},u.a.createElement(H,{map:this.state.map,eval_variables:this.state.eval_variables,system_format:this.state.system_format,system_box:this.system_box,clickedSpace:function(t){return e.clickedSpace(t)},map_class:"map-map",systems_draggable:!this.state.long_op,onSystemDrag:function(t,a){return e.onSystemDrag(t,a)},onSystemDragEnd:function(t){return e.onSystemDragEnd(t)},onSystemDropped:function(t,a){return e.onSystemDropped(t,a)},home_values:this.state.home_values}))))}}]),t}(oe);window.jQuery=h.a;var ce=function(e){function t(e){var a;(Object(l.a)(this,t),(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).state.map=a.getNewLayout(),a.state.show_warps=!1,a.state.show_wormholes=!1,a.state.show_anomalies=!1,a.props.state_to_import)&&(a.getOptions().filter(function(e){return e.index===a.props.state_to_import.selected_item}).length>0&&(a.state=a.props.state_to_import));return a}return Object(o.a)(t,e),Object(s.a)(t,[{key:"handleSelectChange",value:function(){var e=this.getSelectValue();if("new"===e)this.setNewLayout();else{var t=parseInt(e);this.setLayout(this.state.saved_data[t],e)}}},{key:"isSelectNew",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==e?"new"===e:"new"===this.getSelectValue()}},{key:"getNewStringValue",value:function(){return"new"}},{key:"handleWarpChange",value:function(){var e=document.getElementById("warp-checkbox").checked;this.setState({show_warps:e})}},{key:"handleWormholeChange",value:function(){var e=document.getElementById("wormhole-checkbox").checked;this.setState({show_wormholes:e})}},{key:"handleAnomaliesChange",value:function(){var e=document.getElementById("anomalies-checkbox").checked;this.setState({show_anomalies:e})}},{key:"clickedSpace",value:function(e){var t=this.state.map.makeCopy(),a="",l=t.spaces[e],s=!1;switch(l.type){case j.WARP:this.state.show_warps?(l.warp_spaces=this._getNextWarp(t,l),null===l.warp_spaces&&(s=!0)):(s=!0,l.warp_spaces=null);break;case j.SYSTEM:l.system=this._getNextSystem(t,l),null===l.system&&(s=!0);break;default:s=!0}if(s)for(var n=!0;n;)switch(l.type++,l.type>j.WARP&&(l.type=1),l.type){case j.SYSTEM:l.system=this._getNextSystem(t,l),null!==l.system&&(n=!1);break;case j.WARP:this.state.show_warps&&(l.warp_spaces=this._getNextWarp(t,l),null!==l.warp_spaces&&(n=!1));break;default:n=!1}t.areWarpsLogical()||(a="Warps do not yet connect to legal spaces. Layout not usable until warps connect."),this.setMap(t),this.setState({message:a})}},{key:"loadDefault",value:function(e){var t=this.default_layouts[e],a=this.getLayoutFromJSON(t.data),l=t.title,s="Default layout '"+l+"' displayed.";this.setMap(a),this.setState({message:s,input_title:l,selected_item:this.getNewStringValue()})}},{key:"getNewLayout",value:function(){var e=new le(0,0,0);return new ee(!0,e,3)}},{key:"setNewLayout",value:function(){var e=this.getNewLayout();this.setMap(e),this.setState({selected_item:this.getNewStringValue(),message:"",input_title:""})}},{key:"_getNextWarp",value:function(e,t){var a=t.warp_spaces;for(null===a?a=0:a++;a<L.length;){var l=L[a],s=!0,n=!0,r=!1,o=void 0;try{for(var i,u=l[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value,p=!0,y=!1,m=void 0;try{for(var h,_=c[Symbol.iterator]();!(p=(h=_.next()).done);p=!0){var d=h.value;if(!ae(t.getWarpDirectionCoordinates(d),e.spaces)){s=!1;break}}}catch(v){y=!0,m=v}finally{try{p||null==_.return||_.return()}finally{if(y)throw m}}}}catch(v){r=!0,o=v}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}if(s)break;a++}return a>=L.length?null:a}},{key:"_getNextSystem",value:function(e,t){var a=[],l=0;null!==t.system&&(l=t.system.id);var s=!0,n=!1,r=void 0;try{for(var o,i=this.system_box.systems[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var u=o.value;null===e.getSpaceBySystemID(u.id)&&u.id>l&&(u.isMecatolRexSystem()||null!==u.wormhole&&this.state.show_wormholes||null!==u.anomaly&&this.state.show_anomalies)&&a.push(u)}}catch(c){n=!0,r=c}finally{try{s||null==i.return||i.return()}finally{if(n)throw r}}return 0===a.length?null:(a.sort(ie),a[0])}},{key:"getOptions",value:function(){var e=[{index:"new",title:"New Layout"}],t=!0,a=!1,l=void 0;try{for(var s,n=this.state.saved_data.entries()[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value,o=Object(y.a)(r,2),i=o[0],u=o[1];e.push({index:i.toString(),title:u.title})}}catch(c){a=!0,l=c}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return e}},{key:"render",value:function(){var e=this,t=[],a=!0,l=!1,s=void 0;try{for(var n,r=this.getOptions()[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var o=n.value;t.push(u.a.createElement("option",{value:o.index,key:o.index},o.title))}}catch(E){l=!0,s=E}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}var i=[],c=!0,p=!1,m=void 0;try{for(var h,_=function(){var t=h.value,a=(v=Object(y.a)(t,2))[0],l=v[1];i.push(u.a.createElement("p",{className:"control",key:a},u.a.createElement("button",{className:"button is-small is-link",onClick:function(){return e.loadDefault(a)},key:"default_layout_"+a},l.title)))},d=this.default_layouts.entries()[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var v;_()}}catch(E){p=!0,m=E}finally{try{c||null==d.return||d.return()}finally{if(p)throw m}}var f=null;return null!==this.state.message&&""!==this.state.message&&(f=u.a.createElement("blockquote",null,this.state.message)),u.a.createElement("div",{className:"block"},u.a.createElement("h2",{className:"title is-size-4"},"Layout Editor"),u.a.createElement("div",{className:"block map-lab-control-panel"},u.a.createElement("div",{className:"field is-horizontal"},u.a.createElement("div",{className:"field-label"},u.a.createElement("label",{className:"label"},"Default Layouts:")),u.a.createElement("div",{className:"field-body"},u.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},i))),u.a.createElement("div",{className:"field is-horizontal"},u.a.createElement("div",{className:"field-label"},u.a.createElement("label",{className:"label"},"Saved Layouts:")),u.a.createElement("div",{className:"field-body"},u.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},u.a.createElement("p",{className:"control"},u.a.createElement("span",{className:"select is-small"},u.a.createElement("select",{id:"layout-select",value:this.state.selected_item,onChange:function(){return e.handleSelectChange()}},t))),u.a.createElement("p",{className:"control"},u.a.createElement(se,{title:"Download All",getDownloadInfo:function(){return e.getAllLayoutJSONFileInfo()},className:"button is-small"})),u.a.createElement("p",{className:"control"},u.a.createElement("button",{onClick:function(){return e.deleteAll()},className:"button is-small"},"Delete All")),u.a.createElement("p",{className:"control"},u.a.createElement(ne,{id:"layout-json-upload",title:"Upload",handleJSON:function(t){return e.addLayoutsFromJSON(t)},className:"button is-small"}))))),u.a.createElement("div",{className:"field is-horizontal"},u.a.createElement("div",{className:"field-label"},u.a.createElement("label",{className:"label"},"Layout Title:")),u.a.createElement("div",{className:"field-body"},u.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},u.a.createElement("p",{className:"control"},u.a.createElement("input",{type:"text",id:"layout-title",value:this.state.input_title,className:"input is-small",onChange:function(){this.setState({input_title:document.getElementById("layout-title").value,message:""})}.bind(this)})),u.a.createElement("p",{className:"control"},u.a.createElement("button",{className:"button is-small",onClick:function(){return e.saveCurrent()}},"Save")),u.a.createElement("p",{className:"control"},u.a.createElement("button",{className:"button is-small",onClick:function(){return e.handleSelectChange()}},"Reset")),u.a.createElement("p",{className:"control"},u.a.createElement("button",{onClick:function(){return e.deleteCurrent()},disabled:this.isSelectNew(this.state.selected_item),className:"button is-small"},"Delete")),u.a.createElement("p",{className:"control"},u.a.createElement(se,{title:"Download",getDownloadInfo:function(){return e.getCurrentLayoutJSONFileInfo()},className:"button is-small"}))))),u.a.createElement("div",{className:"columns"},u.a.createElement("div",{className:"column is-one-fifth-desktop is-narrow-tablet map-controls-column"},u.a.createElement("div",{className:"block content for-message"},f),u.a.createElement("div",{className:"field"},u.a.createElement("label",{className:"label"},"Click Cycle"),u.a.createElement("p",{className:"control"},u.a.createElement("input",{type:"checkbox",checked:this.state.show_warps,onChange:function(){return e.handleWarpChange()},id:"warp-checkbox"}),u.a.createElement("label",{htmlFor:"warp-checkbox"}," Include Warps in Click Cycle")),u.a.createElement("p",{className:"control"},u.a.createElement("input",{type:"checkbox",checked:this.state.show_wormholes,onChange:function(){return e.handleWormholeChange()},id:"wormhole-checkbox"}),u.a.createElement("label",{htmlFor:"wormhole-checkbox"}," Include Womholes in Click Cycle")),u.a.createElement("p",{className:"control"},u.a.createElement("input",{type:"checkbox",checked:this.state.show_anomalies,onChange:function(){return e.handleAnomaliesChange()},id:"anomalies-checkbox"}),u.a.createElement("label",{htmlFor:"anomalies-checkbox"}," Include Anomalies in Click Cycle")))),u.a.createElement("div",{className:"column map-container"},u.a.createElement(H,{map:this.state.map,system_format:Y.STREAMLINED,system_box:this.system_box,clickedSpace:function(t){return e.clickedSpace(t)},map_class:"layout-map"})))))}}]),t}(oe),pe="BASE_PLANET_MOD",ye="RESOURCES_MULTIPLIER",me="INFLUENCE_MULTIPLIER",he="TECH_MOD",_e="TECH_PROPULSION_MOD",de="TECH_WARFARE_MOD",ve="TECH_BIOTIC_MOD",fe="TECH_CYBERNETIC_MOD",Ee="PLANET_STRATEGY",Se="NONZERO_RESOURCES_MOD",Ne="NONZERO_INFLUENCE_MOD",ge="TRAIT_CULTURAL_MOD",we="TRAIT_HAZARDOUS_MOD",Te="TRAIT_INDUSTRIAL_MOD",xe="SINGLE_PLANET_MOD",be="MULTI_PLANET_MOD",Oe="MATCHING_PLANETS_MOD",De="NONMATCHING_PLANETS_MOD",Ce="MECATOL_REX_SYS_MOD",Ie="DISTANCE_MOD_BASE",Me="DISTANCE_MOD_PLANET",Ae="DISTANCE_MOD_EMPTY",ze="DISTANCE_MOD_SUPERNOVA",ke="DISTANCE_MOD_ASTEROID_FIELD",Re="DISTANCE_MOD_GRAVITY_RIFT",Le="DISTANCE_MOD_EMPTY_WORMHOLE",Pe="DISTANCE_MOD_PLANET_WORMHOLE",Ue="DISTANCE_MOD_NEBULA",He="DISTANCE_MOD_ADJACENT_TO_OPPONENT",je="DISTANCE_MULTIPLIER",Be=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=null,a=!1===this.props.num_value;this.props.hasNullBox&&(t=u.a.createElement("p",{className:"control checkbox-holder"},u.a.createElement("input",{id:this.props.id+"-null-box",type:"checkbox",checked:a,onChange:function(t){return e.props.onNullChange(t.target.checked)}})," Impassable\xa0"));var l=this.props.num_value;return!1===l&&(l=""),u.a.createElement("div",{className:"field line-container"},u.a.createElement("div",null,u.a.createElement("label",{className:"label"},this.props.label,":")),u.a.createElement("div",null,u.a.createElement("div",{className:"field all-parts"},u.a.createElement("div",{className:"both-controls"},u.a.createElement("div",{className:"field is-horizontal input-only"},u.a.createElement("div",{className:"m"},this.props.m),u.a.createElement("p",{className:"control"},u.a.createElement("input",{type:"number",id:this.props.id+"-num",value:l,className:"input is-small",onChange:function(t){return e.props.onInputChange(parseInt(t.target.value))},disabled:a}))),t),u.a.createElement("div",{className:"info-container"},u.a.createElement("i",{className:"fas fa-info-circle"}),u.a.createElement("div",{className:"input-info"},this.props.helperText)))))}}]),t}(u.a.Component),We=function(e){function t(){return Object(l.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"reportChange",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.props.changeHandler(e,t,a)}},{key:"reportNullChange",value:function(e,t){!1===t?this.reportChange(e,0):this.reportChange(e,!1)}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"block content evaluator-form"},u.a.createElement("div",{className:"form-container"},u.a.createElement("h3",null,"Planet Evaluation"),u.a.createElement(Be,{m:"+",label:"Base Planet",num_value:this.props.values.BASE_PLANET_MOD,onInputChange:function(t){return e.reportChange(pe,t)},helperText:"Base value of each planet."}),u.a.createElement(Be,{m:"x",label:"Resources",num_value:this.props.values.RESOURCES_MULTIPLIER,onInputChange:function(t){return e.reportChange(ye,t)},helperText:"Number to multiply planet resource value by."}),u.a.createElement(Be,{m:"x",label:"Influence",num_value:this.props.values.INFLUENCE_MULTIPLIER,onInputChange:function(t){return e.reportChange(me,t)},helperText:"Number to multiply planet influence value by."}),u.a.createElement(Be,{m:"+",label:"Tech",num_value:this.props.values.TECH_MOD,onInputChange:function(t){return e.reportChange(he,t)},helperText:"Number to add if the planet has a tech specialty."}),u.a.createElement(Be,{m:"+",label:"Propulsion Tech",num_value:this.props.values.TECH_PROPULSION_MOD,onInputChange:function(t){return e.reportChange(_e,t)},helperText:"Number to add if the planet has a propulsion tech specialty."}),u.a.createElement(Be,{m:"+",label:"Warfare Tech",num_value:this.props.values.TECH_WARFARE_MOD,onInputChange:function(t){return e.reportChange(de,t)},helperText:"Number to add if the planet has a warfare tech specialty."}),u.a.createElement(Be,{m:"+",label:"Biotic Tech",num_value:this.props.values.TECH_BIOTIC_MOD,onInputChange:function(t){return e.reportChange(ve,t)},helperText:"Number to add if the planet has a biotic tech specialty."}),u.a.createElement(Be,{m:"+",label:"Cybernetic Tech",num_value:this.props.values.TECH_CYBERNETIC_MOD,onInputChange:function(t){return e.reportChange(fe,t)},helperText:"Number to add if the planet has a cybernetic tech specialty."}),u.a.createElement("div",{className:"field line-container"},u.a.createElement("div",null,u.a.createElement("label",{className:"label"},"Planet Eval Strategy:")),u.a.createElement("div",null,u.a.createElement("div",{className:"field is-grouped"},u.a.createElement("div",{className:"field is-horizontal"},u.a.createElement("p",{className:"control"},u.a.createElement("span",{className:"select is-small"},u.a.createElement("select",{value:this.props.values.PLANET_STRATEGY,onChange:function(t){return e.reportChange(Ee,t.target.value)}},u.a.createElement("option",{value:Z.SUM,key:Z.SUM},"Sum"),u.a.createElement("option",{value:Z.GREATEST,key:Z.GREATEST},"Greatest"),u.a.createElement("option",{value:Z.GREATEST_PLUS_TECH,key:Z.GREATEST_PLUS_TECH},"Greatest+Tech"))))),u.a.createElement("div",{className:"info-container"},u.a.createElement("i",{className:"fas fa-info-circle"}),u.a.createElement("div",{className:"input-info"},"How to combine resources, influence and tech values above.",u.a.createElement("br",null),u.a.createElement("br",null),"Sum = R+I+T",u.a.createElement("br",null),u.a.createElement("br",null),"Greatest = largest of R/I/T",u.a.createElement("br",null),u.a.createElement("br",null),"Greatest+Tech = largest of R/I, +T"))))),u.a.createElement(Be,{m:"+",label:"Resources > 0",num_value:this.props.values.NONZERO_RESOURCES_MOD,onInputChange:function(t){return e.reportChange(Se,t)},helperText:"Number to add if planet resource value is greater than 0."}),u.a.createElement(Be,{m:"+",label:"Influence > 0",num_value:this.props.values.NONZERO_INFLUENCE_MOD,onInputChange:function(t){return e.reportChange(Ne,t)},helperText:"Number to add if planet influence value is greater than 0."}),u.a.createElement(Be,{m:"+",label:"Cultural Trait",num_value:this.props.values.TRAIT_CULTURAL_MOD,onInputChange:function(t){return e.reportChange(ge,t)},helperText:"Number to add if the planet has the cultural trait."}),u.a.createElement(Be,{m:"+",label:"Hazardous Trait",num_value:this.props.values.TRAIT_HAZARDOUS_MOD,onInputChange:function(t){return e.reportChange(we,t)},helperText:"Number to add if the planet has the hazardous trait."}),u.a.createElement(Be,{m:"+",label:"Industrial Trait",num_value:this.props.values.TRAIT_INDUSTRIAL_MOD,onInputChange:function(t){return e.reportChange(Te,t)},helperText:"Number to add if the planet has the industrial trait."}),u.a.createElement("h3",null,"System Evaluation"),u.a.createElement(Be,{m:"+",label:"Single Planet System",num_value:this.props.values.SINGLE_PLANET_MOD,onInputChange:function(t){return e.reportChange(xe,t)},helperText:"Number to add if the system has exactly 1 planet."}),u.a.createElement(Be,{m:"+",label:"Multi-planet System",num_value:this.props.values.MULTI_PLANET_MOD,onInputChange:function(t){return e.reportChange(be,t)},helperText:"Number to add if the system has more than 1 planet."}),u.a.createElement(Be,{m:"+",label:"Matching Planets System",num_value:this.props.values.MATCHING_PLANETS_MOD,onInputChange:function(t){return e.reportChange(Oe,t)},helperText:"Number to add if a system has 2 planets with the same trait."}),u.a.createElement(Be,{m:"+",label:"Non-Matching Planets System",num_value:this.props.values.NONMATCHING_PLANETS_MOD,onInputChange:function(t){return e.reportChange(De,t)},helperText:"Number to add if a system has 2 planets with different traits."}),u.a.createElement(Be,{m:"+",label:"Mecatol Rex System",num_value:this.props.values.MECATOL_REX_SYS_MOD,onInputChange:function(t){return e.reportChange(Ce,t)},helperText:"Number to add if the system contains Mecatol Rex."}),u.a.createElement("h3",null,"Home to System Distance Evaluation"),u.a.createElement("h4",null,"Distance Measurement"),u.a.createElement(Be,{m:"+",label:"Distance Base",num_value:this.props.values.DISTANCE_MOD_BASE,onInputChange:function(t){return e.reportChange(Ie,t)},helperText:"Base distance unit for every space moved through."}),u.a.createElement(Be,{m:"+",label:"Moving Through Planet",num_value:this.props.values.DISTANCE_MOD_PLANET,onInputChange:function(t){return e.reportChange(Me,t)},helperText:"Distance modifier for systems with 1 or more planets.",hasNullBox:!0,onNullChange:function(t){return e.reportNullChange(Me,t)}}),u.a.createElement(Be,{m:"+",label:"Moving Through Empty Space",num_value:this.props.values.DISTANCE_MOD_EMPTY,onInputChange:function(t){return e.reportChange(Ae,t)},helperText:"Distance modifier for empty space systems.",hasNullBox:!0,onNullChange:function(t){return e.reportNullChange(Ae,t)}}),u.a.createElement(Be,{m:"+",label:"Moving Through Supernova",num_value:this.props.values.DISTANCE_MOD_SUPERNOVA,onInputChange:function(t){return e.reportChange(ze,t)},helperText:"Distance modifier for supernova systems.",hasNullBox:!0,onNullChange:function(t){return e.reportNullChange(ze,t)}}),u.a.createElement(Be,{m:"+",label:"Moving Through Asteroid",num_value:this.props.values.DISTANCE_MOD_ASTEROID_FIELD,onInputChange:function(t){return e.reportChange(ke,t)},helperText:"Distance modifier for asteroid field systems.",hasNullBox:!0,onNullChange:function(t){return e.reportNullChange(ke,t)}}),u.a.createElement(Be,{m:"+",label:"Moving Through Gravity Rift",num_value:this.props.values.DISTANCE_MOD_GRAVITY_RIFT,onInputChange:function(t){return e.reportChange(Re,t)},helperText:"Distance modifier for gravity rift systems.",hasNullBox:!0,onNullChange:function(t){return e.reportNullChange(Re,t)}}),u.a.createElement(Be,{m:"+",label:"Moving Through Wormholes Without Planets",num_value:this.props.values.DISTANCE_MOD_EMPTY_WORMHOLE,onInputChange:function(t){return e.reportChange(Le,t)},helperText:"Distance modifier for wormhole systems without planets.",hasNullBox:!0,onNullChange:function(t){return e.reportNullChange(Le,t)}}),u.a.createElement(Be,{m:"+",label:"Moving Through Wormholes With a Planet",num_value:this.props.values.DISTANCE_MOD_PLANET_WORMHOLE,onInputChange:function(t){return e.reportChange(Pe,t)},helperText:"Distance modifier for wormhole systems with a planet.",hasNullBox:!0,onNullChange:function(t){return e.reportNullChange(Pe,t)}}),u.a.createElement(Be,{m:"+",label:"Moving Through Nebula",num_value:this.props.values.DISTANCE_MOD_NEBULA,onInputChange:function(t){return e.reportChange(Ue,t)},helperText:"Distance modifier for nebula systems.",hasNullBox:!0,onNullChange:function(t){return e.reportNullChange(Ue,t)}}),u.a.createElement(Be,{m:"+",label:"Moving Through Opponent Adj Sys",num_value:this.props.values.DISTANCE_MOD_ADJACENT_TO_OPPONENT,onInputChange:function(t){return e.reportChange(He,t)},helperText:"Distance modifier for systems adjacent to your opponents' home systems.",hasNullBox:!0,onNullChange:function(t){return e.reportNullChange(He,t)}}),u.a.createElement("h4",null,"System Value Multipliers Based on Modified Distance"),u.a.createElement(Be,{m:"x",label:"Modified Distance of <1",num_value:this.props.values.DISTANCE_MULTIPLIER[0],onInputChange:function(t){return e.reportChange(je,t,0)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 0 or less."}),u.a.createElement(Be,{m:"x",label:"Modified Distance of 1",num_value:this.props.values.DISTANCE_MULTIPLIER[1],onInputChange:function(t){return e.reportChange(je,t,1)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 1."}),u.a.createElement(Be,{m:"x",label:"Modified Distance of 2",num_value:this.props.values.DISTANCE_MULTIPLIER[2],onInputChange:function(t){return e.reportChange(je,t,2)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 2."}),u.a.createElement(Be,{m:"x",label:"Modified Distance of 3",num_value:this.props.values.DISTANCE_MULTIPLIER[3],onInputChange:function(t){return e.reportChange(je,t,3)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 3."}),u.a.createElement(Be,{m:"x",label:"Modified Distance of 4",num_value:this.props.values.DISTANCE_MULTIPLIER[4],onInputChange:function(t){return e.reportChange(je,t,4)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 4."}),u.a.createElement(Be,{m:"x",label:"Modified Distance of 5",num_value:this.props.values.DISTANCE_MULTIPLIER[5],onInputChange:function(t){return e.reportChange(je,t,5)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 5."}),u.a.createElement(Be,{m:"x",label:"Modified Distance of 6",num_value:this.props.values.DISTANCE_MULTIPLIER[6],onInputChange:function(t){return e.reportChange(je,t,6)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 6."}),u.a.createElement(Be,{m:"x",label:"Modified Distance of 7",num_value:this.props.values.DISTANCE_MULTIPLIER[7],onInputChange:function(t){return e.reportChange(je,t,7)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 7."}),u.a.createElement(Be,{m:"x",label:"Modified Distance of 8",num_value:this.props.values.DISTANCE_MULTIPLIER[8],onInputChange:function(t){return e.reportChange(je,t,8)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 8."}),u.a.createElement(Be,{m:"x",label:"Modified Distance of 9",num_value:this.props.values.DISTANCE_MULTIPLIER[9],onInputChange:function(t){return e.reportChange(je,t,9)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is 9."}),u.a.createElement(Be,{m:"x",label:"Modified Distance of 10+",num_value:this.props.values.DISTANCE_MULTIPLIER[10],onInputChange:function(t){return e.reportChange(je,t,10)},helperText:"Number to multiply the system's value by when the modified distance to the home planet is greater than 9."})))}}]),t}(u.a.Component);window.jQuery=h.a;var Fe=function(e){function t(e){var a;(Object(l.a)(this,t),(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).default_evaluators=A,a.state.values=Object.assign({},a.default_evaluators[0].data),a.props.state_to_import)&&(a.getOptions().filter(function(e){return e.index===a.props.state_to_import.selected_item}).length>0&&(a.state=a.props.state_to_import));return a}return Object(o.a)(t,e),Object(s.a)(t,[{key:"changeHandler",value:function(e,t,a){var l=Object.assign(this.state.values);e===je?l[e][a]=t:l[e]=t,this.setState({values:l})}},{key:"setValues",value:function(e){this.setState({values:Object.assign({},e)})}},{key:"isSelectNew",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==e?"new"===e:"new"===this.getSelectValue()}},{key:"getNewStringValue",value:function(){return"new"}},{key:"handleSelectChange",value:function(){var e=this.getSelectValue();if("new"===e)this.setValuesFull(Object.assign({},this.default_evaluators[0]));else{var t=parseInt(e);this.setValuesFull(Object.assign({},this.state.saved_data[t]),e)}}},{key:"setValuesFull",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"new",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===a&&(a=e.data);var l=e.title,s=this.props.subject+" '"+l+"' displayed.";this.setValues(a),this.setState({message:s,input_title:l,selected_item:t.toString()})}},{key:"getCurrentLayoutJSON",value:function(){var e="Untitled Evaluator";return""!==h()("#layout-title").val()&&(e=h()("#layout-title").val()),{title:e,data:Object.assign(this.state.values)}}},{key:"deleteAll",value:function(){d.a.remove(this.props.storage_key),this.setValuesFull(Object.assign({},this.default_evaluators[0])),this.setState({saved_data:d.a.get(this.props.storage_key)||[],selected_item:this.getNewStringValue(),input_title:"",message:"All saved "+this.props.subject_plural+" have been deleted."})}},{key:"deleteCurrent",value:function(){var e=this.getSelectValue(),t=Object.assign([],this.state.saved_data),a=t.splice(parseInt(e),1)[0];d.a.set(this.props.storage_key,t),this.setValuesFull(Object.assign(this.default_evaluators[0])),this.setState({input_title:"",selected_item:this.getNewStringValue(),message:this.props.subject+" '"+a.title+"' deleted.",saved_data:d.a.get(this.props.storage_key)||[]})}},{key:"loadDefault",value:function(e){var t=this.default_evaluators[e],a=t.data,l=t.title,s="Default evaluator '"+l+"' displayed.";this.setValues(a),this.setState({message:s,input_title:l,selected_item:this.getNewStringValue()})}},{key:"addLayoutsFromJSON",value:function(e){if(e.length>0){var t=Object.assign([],this.state.saved_data),a=!0,l=!1,s=void 0;try{for(var n,r=e[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var o=n.value;t.push(o)}}catch(i){l=!0,s=i}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}d.a.set(this.props.storage_key,t),this.setValuesFull(t[t.length-1],t.length-1),this.setState({saved_data:d.a.get(this.props.storage_key)||[],message:"Evaluators loaded.",selected_item:t.length-1,input_title:t[t.length-1].title})}else this.setState({message:"There were no "+this.props.subject_plural+" to load."})}},{key:"getOptions",value:function(){var e=[{index:"new",title:"New Evaluator"}],t=!0,a=!1,l=void 0;try{for(var s,n=this.state.saved_data.entries()[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value,o=Object(y.a)(r,2),i=o[0],u=o[1];e.push({index:i.toString(),title:u.title})}}catch(c){a=!0,l=c}finally{try{t||null==n.return||n.return()}finally{if(a)throw l}}return e}},{key:"render",value:function(){var e=this,t=[],a=!0,l=!1,s=void 0;try{for(var n,r=this.getOptions()[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var o=n.value;t.push(u.a.createElement("option",{value:o.index,key:o.index},o.title))}}catch(E){l=!0,s=E}finally{try{a||null==r.return||r.return()}finally{if(l)throw s}}var i=[],c=!0,p=!1,m=void 0;try{for(var h,_=function(){var t=h.value,a=(v=Object(y.a)(t,2))[0],l=v[1];i.push(u.a.createElement("p",{className:"control",key:a},u.a.createElement("button",{className:"button is-small is-link",onClick:function(){return e.loadDefault(a)},key:"default_layout_"+a},l.title)))},d=this.default_evaluators.entries()[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var v;_()}}catch(E){p=!0,m=E}finally{try{c||null==d.return||d.return()}finally{if(p)throw m}}var f=null;return null!==this.state.message&&""!==this.state.message&&(f=u.a.createElement("blockquote",null,this.state.message)),u.a.createElement("div",{className:"block"},u.a.createElement("h2",{className:"title is-size-4"},"Evaluator Editor"),u.a.createElement("div",{className:"block map-lab-control-panel"},u.a.createElement("div",{className:"field is-horizontal"},u.a.createElement("div",{className:"field-label"},u.a.createElement("label",{className:"label"},"Default Evaluators:")),u.a.createElement("div",{className:"field-body"},u.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},i))),u.a.createElement("div",{className:"field is-horizontal"},u.a.createElement("div",{className:"field-label"},u.a.createElement("label",{className:"label"},"Saved Evaluators:")),u.a.createElement("div",{className:"field-body"},u.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},u.a.createElement("p",{className:"control"},u.a.createElement("span",{className:"select is-small"},u.a.createElement("select",{id:"layout-select",value:this.state.selected_item,onChange:function(){return e.handleSelectChange()}},t))),u.a.createElement("p",{className:"control"},u.a.createElement(se,{title:"Download All",getDownloadInfo:function(){return e.getAllLayoutJSONFileInfo()},className:"button is-small"})),u.a.createElement("p",{className:"control"},u.a.createElement("button",{onClick:function(){return e.deleteAll()},className:"button is-small"},"Delete All")),u.a.createElement("p",{className:"control"},u.a.createElement(ne,{id:"layout-json-upload",title:"Upload",handleJSON:function(t){return e.addLayoutsFromJSON(t)},className:"button is-small"}))))),u.a.createElement("div",{className:"field is-horizontal"},u.a.createElement("div",{className:"field-label"},u.a.createElement("label",{className:"label"},"Evaluator Title:")),u.a.createElement("div",{className:"field-body"},u.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},u.a.createElement("p",{className:"control"},u.a.createElement("input",{type:"text",id:"layout-title",value:this.state.input_title,className:"input is-small",onChange:function(){this.setState({input_title:document.getElementById("layout-title").value,message:""})}.bind(this)})),u.a.createElement("p",{className:"control"},u.a.createElement("button",{className:"button is-small",onClick:function(){return e.saveCurrent()}},"Save")),u.a.createElement("p",{className:"control"},u.a.createElement("button",{className:"button is-small",onClick:function(){return e.handleSelectChange()}},"Reset")),u.a.createElement("p",{className:"control"},u.a.createElement("button",{onClick:function(){return e.deleteCurrent()},disabled:this.isSelectNew(this.state.selected_item),className:"button is-small"},"Delete")),u.a.createElement("p",{className:"control"},u.a.createElement(se,{title:"Download",getDownloadInfo:function(){return e.getCurrentLayoutJSONFileInfo()},className:"button is-small"}))))),u.a.createElement("div",{className:"block content for-message"},f)),u.a.createElement(We,{values:this.state.values,changeHandler:function(t,a,l){return e.changeHandler(t,a,l)}}))}}]),t}(oe);window.jQuery=h.a;var Ye={MAP_EDITOR:1,LAYOUT_EDITOR:2,SYSTEM_EVALUATOR:3,INSTRUCTIONS:4};var Ve=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).state={active_screen:Ye.MAP_EDITOR},a.map_state=null,a.layout_state=null,a.eval_state=null,a}return Object(o.a)(t,e),Object(s.a)(t,[{key:"storeState",value:function(e,t){switch(e){case Ye.SYSTEM_EVALUATOR:this.eval_state=t;break;case Ye.LAYOUT_EDITOR:this.layout_state=t;break;case Ye.MAP_EDITOR:this.map_state=t,console.log(t)}}},{key:"changeScreen",value:function(e){this.setState({active_screen:e})}},{key:"render",value:function(){var e=this,t=null;switch(this.state.active_screen){case Ye.MAP_EDITOR:t=u.a.createElement(ue,{storage_key:"maps",subject:"Map",subject_plural:"Maps",layout_storage_key:"layouts",eval_storage_key:"evaluators",state_to_import:this.map_state,sendStateBeforeDeath:function(t){return e.storeState(Ye.MAP_EDITOR,t)}});break;case Ye.LAYOUT_EDITOR:t=u.a.createElement(ce,{storage_key:"layouts",subject:"Layout",subject_plural:"Layouts",state_to_import:this.layout_state,sendStateBeforeDeath:function(t){return e.storeState(Ye.LAYOUT_EDITOR,t)}});break;case Ye.SYSTEM_EVALUATOR:t=u.a.createElement(Fe,{storage_key:"evaluators",subject:"Evaluator",subject_plural:"Evaluators",state_to_import:this.eval_state,sendStateBeforeDeath:function(t){return e.storeState(Ye.SYSTEM_EVALUATOR,t)}});break;case Ye.INSTRUCTIONS:t=u.a.createElement("div",{className:"block content"},u.a.createElement("h2",null,"Getting Started"),u.a.createElement("h3",null,"Basic Map Generation"),u.a.createElement("ol",null,u.a.createElement("li",null,"Go to the Map Editor screen (the default screen)."),u.a.createElement("li",null,'If you don\'t want the default 6-player map, choose another "new from" option under "Saved/Defaults"'),u.a.createElement("li",null,'Scroll down and click "Auto-Complete Map."'),u.a.createElement("li",null,'Click the "Improve Balance" button a few times to make the map more fair according to the. current Evaluator algorithm. The number in each Home System represents the strength of that home system\'s position based on the quality of and distance from systems on the map.'),u.a.createElement("li",null,'Change "Simple Slice" to another evaluator to get a different view on the strength of the home system positions.'),u.a.createElement("li",null,"Drag and drop systems to switch them with each other as you wish (On mobile, click a system to send it back to the system bank, or click a space to put the currently selected system bank system in that space.)"),u.a.createElement("li",null,'Name your map via "Map Title" and click "Save" at the top. Saves in your browser only. Can be loaded in the future from the "Saved/Defaults" dropdown.'),u.a.createElement("li",null,"Copy the Map String or download the json file to share.")),u.a.createElement("h3",null,"Building a Map From Scratch"),u.a.createElement("ol",null,u.a.createElement("li",null,'Choose the layout you want to build from the "Saved/Defaults" dropdown.'),u.a.createElement("li",null,"Scroll down to the System Bank and select the first system you want to place. (Suggestion: Start with the wormholes.) The system appears under the dropdown."),u.a.createElement("li",null,"Drag the system to the space where you want it. (On mobile, just touch the space.)"),u.a.createElement("li",null,"Continue the above steps until you've placed all the systems you care about."),u.a.createElement("li",null,"Choose the desired blue/red target ratio from the dropdown under Auto-Complete."),u.a.createElement("li",null,"Click Auto-Complete to fill out the rest of the map."),u.a.createElement("li",null,'Change the "Simple Slice" dropdown to another evaluator algorithm for different perspectives on the strength of each home space\'s position.'),u.a.createElement("li",null,'Use the "Lock" checkboxes to fix certain spaces in place, before clicking "Improve Balance" a few times to improve the overall system allocation.'),u.a.createElement("li",null,"Don't forget to save your map at the top early and often.")),u.a.createElement("h3",null,"Creating New Layouts"),u.a.createElement("ol",null,u.a.createElement("li",null,'Choose "Layout Editor" at the top.'),u.a.createElement("li",null,'Click spaces to cycle through "open" (open for systems), home system, closed, and Mecatol Rex.'),u.a.createElement("li",null,'Use the checkboxes under "Click Cycle" to also include things like warp (hyperlane) hexes, anomalies, and/or wormholes.'),u.a.createElement("li",null,'Be sure to name and save your layout. Once saved, as long as it doesn\'t have nonsensical warp hexes, it will appear in the map editor under its own "New from..." option.')),u.a.createElement("h3",null,"Customize an Evaluator"),u.a.createElement("ol",null,u.a.createElement("li",null,'Use the "System Evaluator" menu item at the top to make your own custom evaluations of planets, systems, and home system positions.'),u.a.createElement("li",null,'The variables under "Planet Evaluation" define how much a planet is worth.'),u.a.createElement("li",null,'The variables under "System Evaluation" define how much a system is worth by taken their planet values and adding these modifiers.'),u.a.createElement("li",null,'The variables under "Home to System Distance Evaluation" define how far (in an abstracted sense) a home system is to each system, based on the kinds of hexes it has to go through to get there. "Distance Base" is added for every hex that must be moved into. The other modifiers, if set ot 1 or more, will increase that base hex number for those types of hexes. (Example: The path to a 2-planet system is through empty space, then through a nebula. In the evaluator, Base Hex is set to 2, empty space is set to 0, and nebula is set to 1. Therefore, it is 2 distance to move into the empty space, 3 to move into the nebula, and 2 to move into the 2-planet system. Therefore, the total modified distance is 7, even though the physical distance is only three hexes.)'),u.a.createElement("li",null,'The variables under "System Value Multipliers Based on Distance" define what to multiply a system\'s worth by, based on the modified distance it is from a home system. Any modified distance above 10 is not eligible to hold value to the home system.'),u.a.createElement("li",null,'Don\'t forget to save your evaluator. Then, it will show up uner the "Improve Balance" dropdown on the Map Editor screen.')))}return u.a.createElement("div",{className:"block map-lab"},u.a.createElement("nav",{className:"navbar is-primary"},u.a.createElement("div",{className:"navbar-brand"},u.a.createElement("h1",{className:"title is-3 is-marginless"},"TI4 Map Lab"),u.a.createElement("a",{role:"button",className:"navbar-burger is-","aria-label":"menu","aria-expanded":"false",onClick:function(){return h()(".navbar-burger").toggleClass("is-active"),void h()(".navbar-menu").toggleClass("is-active")}},u.a.createElement("span",{"aria-hidden":"true"}),u.a.createElement("span",{"aria-hidden":"true"}),u.a.createElement("span",{"aria-hidden":"true"}))),u.a.createElement("div",{className:"navbar-menu"},u.a.createElement("div",{className:"navbar-start"}),u.a.createElement("div",{className:"navbar-end"},u.a.createElement("a",{role:"button",disabled:this.state.active_screen===Ye.INSTRUCTIONS,onClick:function(){return e.changeScreen(Ye.INSTRUCTIONS)},className:"navbar-item"},"Instructions"),u.a.createElement("a",{role:"button",disabled:this.state.active_screen===Ye.MAP_EDITOR,onClick:function(){return e.changeScreen(Ye.MAP_EDITOR)},className:"navbar-item"},"Map Editor"),u.a.createElement("a",{role:"button",disabled:this.state.active_screen===Ye.LAYOUT_EDITOR,onClick:function(){return e.changeScreen(Ye.LAYOUT_EDITOR)},className:"navbar-item"},"Layout Editor"),u.a.createElement("a",{role:"button",disabled:this.state.active_screen===Ye.SYSTEM_EVALUATOR,onClick:function(){return e.changeScreen(Ye.SYSTEM_EVALUATOR)},className:"navbar-item"},"System Evaluator")))),t,u.a.createElement("div",{className:"block footer"},"This is a fan project by J. Arthur Ellis.\xa0",u.a.createElement("a",{href:"https://twitter.com/joepinion"},"@joepinion"),u.a.createElement("br",null),u.a.createElement("a",{href:"https://www.github.com/joepinion/ti4-map-lab"},"github.com/joepinion/ti4-map-lab")))}}]),t}(u.a.Component);p.a.render(u.a.createElement(Ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e){e.exports=JSON.parse('[{"title":"Simple Slice","data":{"BASE_PLANET_MOD":0,"RESOURCES_MULTIPLIER":3,"INFLUENCE_MULTIPLIER":2,"TECH_MOD":3,"TECH_PROPULSION_MOD":0,"TECH_WARFARE_MOD":0,"TECH_BIOTIC_MOD":0,"TECH_CYBERNETIC_MOD":0,"PLANET_STRATEGY":1,"NONZERO_RESOURCES_MOD":0,"NONZERO_INFLUENCE_MOD":0,"TRAIT_CULTURAL_MOD":0,"TRAIT_HAZARDOUS_MOD":0,"TRAIT_INDUSTRIAL_MOD":0,"SINGLE_PLANET_MOD":0,"MULTI_PLANET_MOD":0,"MATCHING_PLANETS_MOD":0,"NONMATCHING_PLANETS_MOD":0,"MECATOL_REX_SYS_MOD":3,"DISTANCE_MOD_BASE":1,"DISTANCE_MOD_PLANET":0,"DISTANCE_MOD_EMPTY":0,"DISTANCE_MOD_SUPERNOVA":false,"DISTANCE_MOD_ASTEROID_FIELD":1,"DISTANCE_MOD_GRAVITY_RIFT":0,"DISTANCE_MOD_EMPTY_WORMHOLE":0,"DISTANCE_MOD_PLANET_WORMHOLE":0,"DISTANCE_MOD_NEBULA":1,"DISTANCE_MOD_ADJACENT_TO_OPPONENT":10,"DISTANCE_MULTIPLIER":[4,4,2,1,0,0,0,0,0,0,0]}},{"title":"Joebrew","data":{"BASE_PLANET_MOD":-1,"RESOURCES_MULTIPLIER":3,"INFLUENCE_MULTIPLIER":2,"TECH_MOD":5,"TECH_PROPULSION_MOD":0,"TECH_WARFARE_MOD":0,"TECH_BIOTIC_MOD":0,"TECH_CYBERNETIC_MOD":0,"PLANET_STRATEGY":2,"NONZERO_RESOURCES_MOD":1,"NONZERO_INFLUENCE_MOD":1,"TRAIT_CULTURAL_MOD":0,"TRAIT_HAZARDOUS_MOD":0,"TRAIT_INDUSTRIAL_MOD":0,"SINGLE_PLANET_MOD":0,"MULTI_PLANET_MOD":1,"MATCHING_PLANETS_MOD":1,"NONMATCHING_PLANETS_MOD":0,"MECATOL_REX_SYS_MOD":4,"DISTANCE_MOD_BASE":2,"DISTANCE_MOD_PLANET":0,"DISTANCE_MOD_EMPTY":0,"DISTANCE_MOD_SUPERNOVA":false,"DISTANCE_MOD_ASTEROID_FIELD":1,"DISTANCE_MOD_GRAVITY_RIFT":0,"DISTANCE_MOD_EMPTY_WORMHOLE":1,"DISTANCE_MOD_PLANET_WORMHOLE":0,"DISTANCE_MOD_NEBULA":1,"DISTANCE_MOD_ADJACENT_TO_OPPONENT":2,"DISTANCE_MULTIPLIER":[6,6,6,4,3,2,1,0,0,0,0]}},{"title":"Resource Access","data":{"BASE_PLANET_MOD":0,"RESOURCES_MULTIPLIER":1,"INFLUENCE_MULTIPLIER":0,"TECH_MOD":0,"TECH_PROPULSION_MOD":0,"TECH_WARFARE_MOD":0,"TECH_BIOTIC_MOD":0,"TECH_CYBERNETIC_MOD":0,"PLANET_STRATEGY":1,"NONZERO_RESOURCES_MOD":0,"NONZERO_INFLUENCE_MOD":0,"TRAIT_CULTURAL_MOD":0,"TRAIT_HAZARDOUS_MOD":0,"TRAIT_INDUSTRIAL_MOD":0,"SINGLE_PLANET_MOD":0,"MULTI_PLANET_MOD":0,"MATCHING_PLANETS_MOD":0,"NONMATCHING_PLANETS_MOD":0,"MECATOL_REX_SYS_MOD":0,"DISTANCE_MOD_BASE":1,"DISTANCE_MOD_PLANET":0,"DISTANCE_MOD_EMPTY":0,"DISTANCE_MOD_SUPERNOVA":false,"DISTANCE_MOD_ASTEROID_FIELD":1,"DISTANCE_MOD_GRAVITY_RIFT":0,"DISTANCE_MOD_EMPTY_WORMHOLE":0,"DISTANCE_MOD_PLANET_WORMHOLE":0,"DISTANCE_MOD_NEBULA":1,"DISTANCE_MOD_ADJACENT_TO_OPPONENT":1,"DISTANCE_MULTIPLIER":[5,5,3,1,0,0,0,0,0,0,0]}},{"title":"Influence Access","data":{"BASE_PLANET_MOD":0,"RESOURCES_MULTIPLIER":0,"INFLUENCE_MULTIPLIER":1,"TECH_MOD":0,"TECH_PROPULSION_MOD":0,"TECH_WARFARE_MOD":0,"TECH_BIOTIC_MOD":0,"TECH_CYBERNETIC_MOD":0,"PLANET_STRATEGY":1,"NONZERO_RESOURCES_MOD":0,"NONZERO_INFLUENCE_MOD":0,"TRAIT_CULTURAL_MOD":0,"TRAIT_HAZARDOUS_MOD":0,"TRAIT_INDUSTRIAL_MOD":0,"SINGLE_PLANET_MOD":0,"MULTI_PLANET_MOD":0,"MATCHING_PLANETS_MOD":0,"NONMATCHING_PLANETS_MOD":0,"MECATOL_REX_SYS_MOD":0,"DISTANCE_MOD_BASE":1,"DISTANCE_MOD_PLANET":0,"DISTANCE_MOD_EMPTY":0,"DISTANCE_MOD_SUPERNOVA":false,"DISTANCE_MOD_ASTEROID_FIELD":1,"DISTANCE_MOD_GRAVITY_RIFT":0,"DISTANCE_MOD_EMPTY_WORMHOLE":0,"DISTANCE_MOD_PLANET_WORMHOLE":0,"DISTANCE_MOD_NEBULA":1,"DISTANCE_MOD_ADJACENT_TO_OPPONENT":1,"DISTANCE_MULTIPLIER":[5,5,3,1,0,0,0,0,0,0,0]}},{"title":"Tech Access","data":{"BASE_PLANET_MOD":0,"RESOURCES_MULTIPLIER":0,"INFLUENCE_MULTIPLIER":0,"TECH_MOD":1,"TECH_PROPULSION_MOD":0,"TECH_WARFARE_MOD":0,"TECH_BIOTIC_MOD":0,"TECH_CYBERNETIC_MOD":0,"PLANET_STRATEGY":1,"NONZERO_RESOURCES_MOD":0,"NONZERO_INFLUENCE_MOD":0,"TRAIT_CULTURAL_MOD":0,"TRAIT_HAZARDOUS_MOD":0,"TRAIT_INDUSTRIAL_MOD":0,"SINGLE_PLANET_MOD":0,"MULTI_PLANET_MOD":0,"MATCHING_PLANETS_MOD":0,"NONMATCHING_PLANETS_MOD":0,"MECATOL_REX_SYS_MOD":0,"DISTANCE_MOD_BASE":1,"DISTANCE_MOD_PLANET":0,"DISTANCE_MOD_EMPTY":0,"DISTANCE_MOD_SUPERNOVA":false,"DISTANCE_MOD_ASTEROID_FIELD":1,"DISTANCE_MOD_GRAVITY_RIFT":0,"DISTANCE_MOD_EMPTY_WORMHOLE":0,"DISTANCE_MOD_PLANET_WORMHOLE":0,"DISTANCE_MOD_NEBULA":1,"DISTANCE_MOD_ADJACENT_TO_OPPONENT":1,"DISTANCE_MULTIPLIER":[5,5,3,1,0,0,0,0,0,0,0]}}]')}},[[17,1,2]]]);
//# sourceMappingURL=main.97363899.chunk.js.map